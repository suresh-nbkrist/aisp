(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var II={exports:{}},_p={},NI={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=Symbol.for("react.element"),QD=Symbol.for("react.portal"),XD=Symbol.for("react.fragment"),YD=Symbol.for("react.strict_mode"),JD=Symbol.for("react.profiler"),ZD=Symbol.for("react.provider"),eM=Symbol.for("react.context"),tM=Symbol.for("react.forward_ref"),nM=Symbol.for("react.suspense"),rM=Symbol.for("react.memo"),iM=Symbol.for("react.lazy"),s1=Symbol.iterator;function sM(t){return t===null||typeof t!="object"?null:(t=s1&&t[s1]||t["@@iterator"],typeof t=="function"?t:null)}var OI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jI=Object.assign,CI={};function al(t,e,n){this.props=t,this.context=e,this.refs=CI,this.updater=n||OI}al.prototype.isReactComponent={};al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kI(){}kI.prototype=al.prototype;function xx(t,e,n){this.props=t,this.context=e,this.refs=CI,this.updater=n||OI}var bx=xx.prototype=new kI;bx.constructor=xx;jI(bx,al.prototype);bx.isPureReactComponent=!0;var o1=Array.isArray,RI=Object.prototype.hasOwnProperty,wx={current:null},DI={key:!0,ref:!0,__self:!0,__source:!0};function MI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RI.call(e,r)&&!DI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bc,type:t,key:s,ref:o,props:i,_owner:wx.current}}function oM(t,e){return{$$typeof:Bc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _x(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bc}function aM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a1=/\/+/g;function yg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aM(""+t.key):e.toString(36)}function gf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bc:case QD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yg(o,0):r,o1(i)?(n="",t!=null&&(n=t.replace(a1,"$&/")+"/"),gf(i,e,n,"",function(u){return u})):i!=null&&(_x(i)&&(i=oM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(a1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",o1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yg(s,a);o+=gf(s,e,n,l,i)}else if(l=sM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yg(s,a++),o+=gf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Od(t,e,n){if(t==null)return t;var r=[],i=0;return gf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},yf={transition:null},uM={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:yf,ReactCurrentOwner:wx};function $I(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Od,forEach:function(t,e,n){Od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Od(t,function(){e++}),e},toArray:function(t){return Od(t,function(e){return e})||[]},only:function(t){if(!_x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=al;je.Fragment=XD;je.Profiler=JD;je.PureComponent=xx;je.StrictMode=YD;je.Suspense=nM;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uM;je.act=$I;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)RI.call(e,l)&&!DI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bc,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:eM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZD,_context:t},t.Consumer=t};je.createElement=MI;je.createFactory=function(t){var e=MI.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:tM,render:t}};je.isValidElement=_x;je.lazy=function(t){return{$$typeof:iM,_payload:{_status:-1,_result:t},_init:lM}};je.memo=function(t,e){return{$$typeof:rM,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=yf.transition;yf.transition={};try{t()}finally{yf.transition=e}};je.unstable_act=$I;je.useCallback=function(t,e){return yn.current.useCallback(t,e)};je.useContext=function(t){return yn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};je.useEffect=function(t,e){return yn.current.useEffect(t,e)};je.useId=function(){return yn.current.useId()};je.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return yn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};je.useRef=function(t){return yn.current.useRef(t)};je.useState=function(t){return yn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return yn.current.useTransition()};je.version="18.3.1";NI.exports=je;var $=NI.exports;const B=Je($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM=$,dM=Symbol.for("react.element"),fM=Symbol.for("react.fragment"),hM=Object.prototype.hasOwnProperty,pM=cM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mM={key:!0,ref:!0,__self:!0,__source:!0};function LI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hM.call(e,r)&&!mM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dM,type:t,key:s,ref:o,props:i,_owner:pM.current}}_p.Fragment=fM;_p.jsx=LI;_p.jsxs=LI;II.exports=_p;var c=II.exports,VI={exports:{}},Un={},FI={exports:{}},UI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var V=F.length;F.push(W);e:for(;0<V;){var K=V-1>>>1,D=F[K];if(0<i(D,W))F[K]=W,F[V]=D,V=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],V=F.pop();if(V!==W){F[0]=V;e:for(var K=0,D=F.length,L=D>>>1;K<L;){var X=2*(K+1)-1,ne=F[X],re=X+1,ge=F[re];if(0>i(ne,V))re<D&&0>i(ge,ne)?(F[K]=ge,F[re]=V,K=re):(F[K]=ne,F[X]=V,K=X);else if(re<D&&0>i(ge,V))F[K]=ge,F[re]=V,K=re;else break e}}return W}function i(F,W){var V=F.sortIndex-W.sortIndex;return V!==0?V:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function N(F){if(w=!1,x(F),!y)if(n(l)!==null)y=!0,U(T);else{var W=n(u);W!==null&&G(N,W.startTime-F)}}function T(F,W){y=!1,w&&(w=!1,b(S),S=-1),m=!0;var V=p;try{for(x(W),h=n(l);h!==null&&(!(h.expirationTime>W)||F&&!k());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var D=K(h.expirationTime<=W);W=t.unstable_now(),typeof D=="function"?h.callback=D:h===n(l)&&r(l),x(W)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var X=n(u);X!==null&&G(N,X.startTime-W),L=!1}return L}finally{h=null,p=V,m=!1}}var P=!1,E=null,S=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function j(){if(E!==null){var F=t.unstable_now();C=F;var W=!0;try{W=E(!0,F)}finally{W?O():(P=!1,E=null)}}else P=!1}var O;if(typeof v=="function")O=function(){v(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,M=q.port2;q.port1.onmessage=j,O=function(){M.postMessage(null)}}else O=function(){_(j,0)};function U(F){E=F,P||(P=!0,O())}function G(F,W){S=_(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,U(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var V=p;p=W;try{return F()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=p;p=F;try{return W()}finally{p=V}},t.unstable_scheduleCallback=function(F,W,V){var K=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=V+D,F={id:f++,callback:W,priorityLevel:F,startTime:V,expirationTime:D,sortIndex:-1},V>K?(F.sortIndex=V,e(u,F),n(l)===null&&F===n(u)&&(w?(b(S),S=-1):w=!0,G(N,V-K))):(F.sortIndex=D,e(l,F),y||m||(y=!0,U(T))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var W=p;return function(){var V=p;p=W;try{return F.apply(this,arguments)}finally{p=V}}}})(UI);FI.exports=UI;var gM=FI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM=$,Fn=gM;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BI=new Set,Mu={};function wo(t,e){Ea(t,e),Ea(t+"Capture",e)}function Ea(t,e){for(Mu[t]=e,t=0;t<e.length;t++)BI.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ny=Object.prototype.hasOwnProperty,vM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l1={},u1={};function xM(t){return Ny.call(u1,t)?!0:Ny.call(l1,t)?!1:vM.test(t)?u1[t]=!0:(l1[t]=!0,!1)}function bM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wM(t,e,n,r){if(e===null||typeof e>"u"||bM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ex=/[\-:]([a-z])/g;function Sx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ex,Sx);Yt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ex,Sx);Yt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ex,Sx);Yt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tx(t,e,n,r){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wM(e,n,i,r)&&(n=null),r||i===null?xM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=yM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),Oy=Symbol.for("react.profiler"),zI=Symbol.for("react.provider"),qI=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),Cy=Symbol.for("react.suspense_list"),Ix=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),WI=Symbol.for("react.offscreen"),c1=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=c1&&t[c1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,vg;function iu(t){if(vg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vg=e&&e[1]||""}return`
`+vg+t}var xg=!1;function bg(t,e){if(!t||xg)return"";xg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?iu(t):""}function _M(t){switch(t.tag){case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return t=bg(t.type,!1),t;case 11:return t=bg(t.type.render,!1),t;case 1:return t=bg(t.type,!0),t;default:return""}}function ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Wo:return"Portal";case Oy:return"Profiler";case Ax:return"StrictMode";case jy:return"Suspense";case Cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qI:return(t.displayName||"Context")+".Consumer";case zI:return(t._context.displayName||"Context")+".Provider";case Px:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ix:return e=t.displayName||null,e!==null?e:ky(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return ky(t(e))}catch{}}return null}function EM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(e);case 8:return e===Ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SM(t){var e=HI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cd(t){t._valueTracker||(t._valueTracker=SM(t))}function KI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ry(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GI(t,e){e=e.checked,e!=null&&Tx(t,"checked",e,!1)}function Dy(t,e){GI(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?My(t,e.type,n):e.hasOwnProperty("defaultValue")&&My(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function My(t,e,n){(e!=="number"||Ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var su=Array.isArray;function ua(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(su(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function QI(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kd,YI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TM=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(t){TM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yu[e]=yu[t]})});function JI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yu.hasOwnProperty(t)&&yu[t]?(""+e).trim():e+"px"}function ZI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AM=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vy(t,e){if(e){if(AM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Fy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=null;function Nx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var By=null,ca=null,da=null;function m1(t){if(t=Wc(t)){if(typeof By!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Pp(e),By(t.stateNode,t.type,e))}}function eN(t){ca?da?da.push(t):da=[t]:ca=t}function tN(){if(ca){var t=ca,e=da;if(da=ca=null,m1(t),e)for(t=0;t<e.length;t++)m1(e[t])}}function nN(t,e){return t(e)}function rN(){}var wg=!1;function iN(t,e,n){if(wg)return t(e,n);wg=!0;try{return nN(t,e,n)}finally{wg=!1,(ca!==null||da!==null)&&(rN(),tN())}}function Lu(t,e){var n=t.stateNode;if(n===null)return null;var r=Pp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var zy=!1;if(bi)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){zy=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{zy=!1}function PM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var vu=!1,Uf=null,Bf=!1,qy=null,IM={onError:function(t){vu=!0,Uf=t}};function NM(t,e,n,r,i,s,o,a,l){vu=!1,Uf=null,PM.apply(IM,arguments)}function OM(t,e,n,r,i,s,o,a,l){if(NM.apply(this,arguments),vu){if(vu){var u=Uf;vu=!1,Uf=null}else throw Error(te(198));Bf||(Bf=!0,qy=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g1(t){if(_o(t)!==t)throw Error(te(188))}function jM(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return g1(i),t;if(s===r)return g1(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function oN(t){return t=jM(t),t!==null?aN(t):null}function aN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aN(t);if(e!==null)return e;t=t.sibling}return null}var lN=Fn.unstable_scheduleCallback,y1=Fn.unstable_cancelCallback,CM=Fn.unstable_shouldYield,kM=Fn.unstable_requestPaint,At=Fn.unstable_now,RM=Fn.unstable_getCurrentPriorityLevel,Ox=Fn.unstable_ImmediatePriority,uN=Fn.unstable_UserBlockingPriority,zf=Fn.unstable_NormalPriority,DM=Fn.unstable_LowPriority,cN=Fn.unstable_IdlePriority,Ep=null,Dr=null;function MM(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Ep,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:VM,$M=Math.log,LM=Math.LN2;function VM(t){return t>>>=0,t===0?32:31-($M(t)/LM|0)|0}var Rd=64,Dd=4194304;function ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ou(a):(s&=o,s!==0&&(r=ou(s)))}else o=n&~i,o!==0?r=ou(o):s!==0&&(r=ou(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function FM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=FM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dN(){var t=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),t}function _g(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function BM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function fN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hN,Cx,pN,mN,gN,Hy=!1,Md=[],ts=null,ns=null,rs=null,Vu=new Map,Fu=new Map,Wi=[],zM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(e.pointerId)}}function Fl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wc(e),e!==null&&Cx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qM(t,e,n,r,i){switch(e){case"focusin":return ts=Fl(ts,t,e,n,r,i),!0;case"dragenter":return ns=Fl(ns,t,e,n,r,i),!0;case"mouseover":return rs=Fl(rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vu.set(s,Fl(Vu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fu.set(s,Fl(Fu.get(s)||null,t,e,n,r,i)),!0}return!1}function yN(t){var e=Hs(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=sN(n),e!==null){t.blockedOn=e,gN(t.priority,function(){pN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ky(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uy=r,n.target.dispatchEvent(r),Uy=null}else return e=Wc(n),e!==null&&Cx(e),t.blockedOn=n,!1;e.shift()}return!0}function x1(t,e,n){vf(t)&&n.delete(e)}function WM(){Hy=!1,ts!==null&&vf(ts)&&(ts=null),ns!==null&&vf(ns)&&(ns=null),rs!==null&&vf(rs)&&(rs=null),Vu.forEach(x1),Fu.forEach(x1)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Hy||(Hy=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,WM)))}function Uu(t){function e(i){return Ul(i,t)}if(0<Md.length){Ul(Md[0],t);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&Ul(ts,t),ns!==null&&Ul(ns,t),rs!==null&&Ul(rs,t),Vu.forEach(e),Fu.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)yN(n),n.blockedOn===null&&Wi.shift()}var fa=ji.ReactCurrentBatchConfig,Wf=!0;function HM(t,e,n,r){var i=Ge,s=fa.transition;fa.transition=null;try{Ge=1,kx(t,e,n,r)}finally{Ge=i,fa.transition=s}}function KM(t,e,n,r){var i=Ge,s=fa.transition;fa.transition=null;try{Ge=4,kx(t,e,n,r)}finally{Ge=i,fa.transition=s}}function kx(t,e,n,r){if(Wf){var i=Ky(t,e,n,r);if(i===null)Cg(t,e,r,Hf,n),v1(t,r);else if(qM(i,t,e,n,r))r.stopPropagation();else if(v1(t,r),e&4&&-1<zM.indexOf(t)){for(;i!==null;){var s=Wc(i);if(s!==null&&hN(s),s=Ky(t,e,n,r),s===null&&Cg(t,e,r,Hf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cg(t,e,r,null,n)}}var Hf=null;function Ky(t,e,n,r){if(Hf=null,t=Nx(r),t=Hs(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hf=t,null}function vN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RM()){case Ox:return 1;case uN:return 4;case zf:case DM:return 16;case cN:return 536870912;default:return 16}default:return 16}}var Yi=null,Rx=null,xf=null;function xN(){if(xf)return xf;var t,e=Rx,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return xf=i.slice(t,1<r?1-r:void 0)}function bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $d(){return!0}function b1(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$d:b1,this.isPropagationStopped=b1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dx=Bn(ll),qc=yt({},ll,{view:0,detail:0}),GM=Bn(qc),Eg,Sg,Bl,Sp=yt({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(Eg=t.screenX-Bl.screenX,Sg=t.screenY-Bl.screenY):Sg=Eg=0,Bl=t),Eg)},movementY:function(t){return"movementY"in t?t.movementY:Sg}}),w1=Bn(Sp),QM=yt({},Sp,{dataTransfer:0}),XM=Bn(QM),YM=yt({},qc,{relatedTarget:0}),Tg=Bn(YM),JM=yt({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),ZM=Bn(JM),e$=yt({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t$=Bn(e$),n$=yt({},ll,{data:0}),_1=Bn(n$),r$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s$[t])?!!e[t]:!1}function Mx(){return o$}var a$=yt({},qc,{key:function(t){if(t.key){var e=r$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mx,charCode:function(t){return t.type==="keypress"?bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l$=Bn(a$),u$=yt({},Sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E1=Bn(u$),c$=yt({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mx}),d$=Bn(c$),f$=yt({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),h$=Bn(f$),p$=yt({},Sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m$=Bn(p$),g$=[9,13,27,32],$x=bi&&"CompositionEvent"in window,xu=null;bi&&"documentMode"in document&&(xu=document.documentMode);var y$=bi&&"TextEvent"in window&&!xu,bN=bi&&(!$x||xu&&8<xu&&11>=xu),S1=" ",T1=!1;function wN(t,e){switch(t){case"keyup":return g$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _N(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function v$(t,e){switch(t){case"compositionend":return _N(e);case"keypress":return e.which!==32?null:(T1=!0,S1);case"textInput":return t=e.data,t===S1&&T1?null:t;default:return null}}function x$(t,e){if(Ko)return t==="compositionend"||!$x&&wN(t,e)?(t=xN(),xf=Rx=Yi=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bN&&e.locale!=="ko"?null:e.data;default:return null}}var b$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b$[t.type]:e==="textarea"}function EN(t,e,n,r){eN(r),e=Kf(e,"onChange"),0<e.length&&(n=new Dx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bu=null,Bu=null;function w$(t){RN(t,0)}function Tp(t){var e=Xo(t);if(KI(e))return t}function _$(t,e){if(t==="change")return e}var SN=!1;if(bi){var Ag;if(bi){var Pg="oninput"in document;if(!Pg){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),Pg=typeof P1.oninput=="function"}Ag=Pg}else Ag=!1;SN=Ag&&(!document.documentMode||9<document.documentMode)}function I1(){bu&&(bu.detachEvent("onpropertychange",TN),Bu=bu=null)}function TN(t){if(t.propertyName==="value"&&Tp(Bu)){var e=[];EN(e,Bu,t,Nx(t)),iN(w$,e)}}function E$(t,e,n){t==="focusin"?(I1(),bu=e,Bu=n,bu.attachEvent("onpropertychange",TN)):t==="focusout"&&I1()}function S$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tp(Bu)}function T$(t,e){if(t==="click")return Tp(e)}function A$(t,e){if(t==="input"||t==="change")return Tp(e)}function P$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:P$;function zu(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ny.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function N1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O1(t,e){var n=N1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=N1(n)}}function AN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PN(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ff(t.document)}return e}function Lx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I$(t){var e=PN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AN(n.ownerDocument.documentElement,n)){if(r!==null&&Lx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=O1(n,s);var o=O1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N$=bi&&"documentMode"in document&&11>=document.documentMode,Go=null,Gy=null,wu=null,Qy=!1;function j1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qy||Go==null||Go!==Ff(r)||(r=Go,"selectionStart"in r&&Lx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wu&&zu(wu,r)||(wu=r,r=Kf(Gy,"onSelect"),0<r.length&&(e=new Dx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Go)))}function Ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:Ld("Animation","AnimationEnd"),animationiteration:Ld("Animation","AnimationIteration"),animationstart:Ld("Animation","AnimationStart"),transitionend:Ld("Transition","TransitionEnd")},Ig={},IN={};bi&&(IN=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Ap(t){if(Ig[t])return Ig[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IN)return Ig[t]=e[n];return t}var NN=Ap("animationend"),ON=Ap("animationiteration"),jN=Ap("animationstart"),CN=Ap("transitionend"),kN=new Map,C1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(t,e){kN.set(t,e),wo(e,[t])}for(var Ng=0;Ng<C1.length;Ng++){var Og=C1[Ng],O$=Og.toLowerCase(),j$=Og[0].toUpperCase()+Og.slice(1);ws(O$,"on"+j$)}ws(NN,"onAnimationEnd");ws(ON,"onAnimationIteration");ws(jN,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws(CN,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C$=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function k1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OM(r,e,void 0,t),t.currentTarget=null}function RN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;k1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;k1(i,a,u),s=l}}}if(Bf)throw t=qy,Bf=!1,qy=null,t}function at(t,e){var n=e[ev];n===void 0&&(n=e[ev]=new Set);var r=t+"__bubble";n.has(r)||(DN(e,t,2,!1),n.add(r))}function jg(t,e,n){var r=0;e&&(r|=4),DN(n,t,r,e)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function qu(t){if(!t[Vd]){t[Vd]=!0,BI.forEach(function(n){n!=="selectionchange"&&(C$.has(n)||jg(n,!1,t),jg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vd]||(e[Vd]=!0,jg("selectionchange",!1,e))}}function DN(t,e,n,r){switch(vN(e)){case 1:var i=HM;break;case 4:i=KM;break;default:i=kx}n=i.bind(null,e,n,t),i=void 0,!zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iN(function(){var u=s,f=Nx(n),h=[];e:{var p=kN.get(t);if(p!==void 0){var m=Dx,y=t;switch(t){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":m=l$;break;case"focusin":y="focus",m=Tg;break;case"focusout":y="blur",m=Tg;break;case"beforeblur":case"afterblur":m=Tg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=w1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d$;break;case NN:case ON:case jN:m=ZM;break;case CN:m=h$;break;case"scroll":m=GM;break;case"wheel":m=m$;break;case"copy":case"cut":case"paste":m=t$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E1}var w=(e&4)!==0,_=!w&&t==="scroll",b=w?p!==null?p+"Capture":null:p;w=[];for(var v=u,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,b!==null&&(N=Lu(v,b),N!=null&&w.push(Wu(v,N,x)))),_)break;v=v.return}0<w.length&&(p=new m(p,y,null,n,f),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Uy&&(y=n.relatedTarget||n.fromElement)&&(Hs(y)||y[wi]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Hs(y):null,y!==null&&(_=_o(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=w1,N="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=E1,N="onPointerLeave",b="onPointerEnter",v="pointer"),_=m==null?p:Xo(m),x=y==null?p:Xo(y),p=new w(N,v+"leave",m,n,f),p.target=_,p.relatedTarget=x,N=null,Hs(f)===u&&(w=new w(b,v+"enter",y,n,f),w.target=x,w.relatedTarget=_,N=w),_=N,m&&y)t:{for(w=m,b=y,v=0,x=w;x;x=$o(x))v++;for(x=0,N=b;N;N=$o(N))x++;for(;0<v-x;)w=$o(w),v--;for(;0<x-v;)b=$o(b),x--;for(;v--;){if(w===b||b!==null&&w===b.alternate)break t;w=$o(w),b=$o(b)}w=null}else w=null;m!==null&&R1(h,p,m,w,!1),y!==null&&_!==null&&R1(h,_,y,w,!0)}}e:{if(p=u?Xo(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=_$;else if(A1(p))if(SN)T=A$;else{T=S$;var P=E$}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=T$);if(T&&(T=T(t,u))){EN(h,T,n,f);break e}P&&P(t,p,u),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&My(p,"number",p.value)}switch(P=u?Xo(u):window,t){case"focusin":(A1(P)||P.contentEditable==="true")&&(Go=P,Gy=u,wu=null);break;case"focusout":wu=Gy=Go=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,j1(h,n,f);break;case"selectionchange":if(N$)break;case"keydown":case"keyup":j1(h,n,f)}var E;if($x)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ko?wN(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(bN&&n.locale!=="ko"&&(Ko||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ko&&(E=xN()):(Yi=f,Rx="value"in Yi?Yi.value:Yi.textContent,Ko=!0)),P=Kf(u,S),0<P.length&&(S=new _1(S,t,null,n,f),h.push({event:S,listeners:P}),E?S.data=E:(E=_N(n),E!==null&&(S.data=E)))),(E=y$?v$(t,n):x$(t,n))&&(u=Kf(u,"onBeforeInput"),0<u.length&&(f=new _1("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=E))}RN(h,e)})}function Wu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lu(t,n),s!=null&&r.unshift(Wu(t,s,i)),s=Lu(t,e),s!=null&&r.push(Wu(t,s,i))),t=t.return}return r}function $o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Lu(n,s),l!=null&&o.unshift(Wu(n,l,a))):i||(l=Lu(n,s),l!=null&&o.push(Wu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var k$=/\r\n?/g,R$=/\u0000|\uFFFD/g;function D1(t){return(typeof t=="string"?t:""+t).replace(k$,`
`).replace(R$,"")}function Fd(t,e,n){if(e=D1(e),D1(t)!==e&&n)throw Error(te(425))}function Gf(){}var Xy=null,Yy=null;function Jy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zy=typeof setTimeout=="function"?setTimeout:void 0,D$=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,M$=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(t){return M1.resolve(null).then(t).catch($$)}:Zy;function $$(t){setTimeout(function(){throw t})}function kg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uu(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ul,Hu="__reactProps$"+ul,wi="__reactContainer$"+ul,ev="__reactEvents$"+ul,L$="__reactListeners$"+ul,V$="__reactHandles$"+ul;function Hs(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$1(t);t!==null;){if(n=t[Cr])return n;t=$1(t)}return e}t=n,n=t.parentNode}return null}function Wc(t){return t=t[Cr]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Pp(t){return t[Hu]||null}var tv=[],Yo=-1;function _s(t){return{current:t}}function dt(t){0>Yo||(t.current=tv[Yo],tv[Yo]=null,Yo--)}function rt(t,e){Yo++,tv[Yo]=t.current,t.current=e}var ps={},cn=_s(ps),Pn=_s(!1),lo=ps;function Sa(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function Qf(){dt(Pn),dt(cn)}function L1(t,e,n){if(cn.current!==ps)throw Error(te(168));rt(cn,e),rt(Pn,n)}function MN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,EM(t)||"Unknown",i));return yt({},n,r)}function Xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,lo=cn.current,rt(cn,t),rt(Pn,Pn.current),!0}function V1(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=MN(t,e,lo),r.__reactInternalMemoizedMergedChildContext=t,dt(Pn),dt(cn),rt(cn,t)):dt(Pn),rt(Pn,n)}var si=null,Ip=!1,Rg=!1;function $N(t){si===null?si=[t]:si.push(t)}function F$(t){Ip=!0,$N(t)}function Es(){if(!Rg&&si!==null){Rg=!0;var t=0,e=Ge;try{var n=si;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,Ip=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),lN(Ox,Es),i}finally{Ge=e,Rg=!1}}return null}var Jo=[],Zo=0,Yf=null,Jf=0,Xn=[],Yn=0,uo=null,oi=1,ai="";function Vs(t,e){Jo[Zo++]=Jf,Jo[Zo++]=Yf,Yf=t,Jf=e}function LN(t,e,n){Xn[Yn++]=oi,Xn[Yn++]=ai,Xn[Yn++]=uo,uo=t;var r=oi;t=ai;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var s=32-xr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,oi=1<<32-xr(e)+i|n<<i|r,ai=s+t}else oi=1<<s|n<<i|r,ai=t}function Vx(t){t.return!==null&&(Vs(t,1),LN(t,1,0))}function Fx(t){for(;t===Yf;)Yf=Jo[--Zo],Jo[Zo]=null,Jf=Jo[--Zo],Jo[Zo]=null;for(;t===uo;)uo=Xn[--Yn],Xn[Yn]=null,ai=Xn[--Yn],Xn[Yn]=null,oi=Xn[--Yn],Xn[Yn]=null}var Ln=null,Mn=null,ht=!1,gr=null;function VN(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Mn=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:oi,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Mn=null,!0):!1;default:return!1}}function nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rv(t){if(ht){var e=Mn;if(e){var n=e;if(!F1(t,e)){if(nv(t))throw Error(te(418));e=is(n.nextSibling);var r=Ln;e&&F1(t,e)?VN(r,n):(t.flags=t.flags&-4097|2,ht=!1,Ln=t)}}else{if(nv(t))throw Error(te(418));t.flags=t.flags&-4097|2,ht=!1,Ln=t}}}function U1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Ud(t){if(t!==Ln)return!1;if(!ht)return U1(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jy(t.type,t.memoizedProps)),e&&(e=Mn)){if(nv(t))throw FN(),Error(te(418));for(;e;)VN(t,e),e=is(e.nextSibling)}if(U1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Ln?is(t.stateNode.nextSibling):null;return!0}function FN(){for(var t=Mn;t;)t=is(t.nextSibling)}function Ta(){Mn=Ln=null,ht=!1}function Ux(t){gr===null?gr=[t]:gr.push(t)}var U$=ji.ReactCurrentBatchConfig;function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Bd(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B1(t){var e=t._init;return e(t._payload)}function UN(t){function e(b,v){if(t){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=ls(b,v),b.index=0,b.sibling=null,b}function s(b,v,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,x,N){return v===null||v.tag!==6?(v=Ug(x,b.mode,N),v.return=b,v):(v=i(v,x),v.return=b,v)}function l(b,v,x,N){var T=x.type;return T===Ho?f(b,v,x.props.children,N,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bi&&B1(T)===v.type)?(N=i(v,x.props),N.ref=zl(b,v,x),N.return=b,N):(N=Pf(x.type,x.key,x.props,null,b.mode,N),N.ref=zl(b,v,x),N.return=b,N)}function u(b,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Bg(x,b.mode,N),v.return=b,v):(v=i(v,x.children||[]),v.return=b,v)}function f(b,v,x,N,T){return v===null||v.tag!==7?(v=eo(x,b.mode,N,T),v.return=b,v):(v=i(v,x),v.return=b,v)}function h(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ug(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jd:return x=Pf(v.type,v.key,v.props,null,b.mode,x),x.ref=zl(b,null,v),x.return=b,x;case Wo:return v=Bg(v,b.mode,x),v.return=b,v;case Bi:var N=v._init;return h(b,N(v._payload),x)}if(su(v)||Ll(v))return v=eo(v,b.mode,x,null),v.return=b,v;Bd(b,v)}return null}function p(b,v,x,N){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(b,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jd:return x.key===T?l(b,v,x,N):null;case Wo:return x.key===T?u(b,v,x,N):null;case Bi:return T=x._init,p(b,v,T(x._payload),N)}if(su(x)||Ll(x))return T!==null?null:f(b,v,x,N,null);Bd(b,x)}return null}function m(b,v,x,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(x)||null,a(v,b,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case jd:return b=b.get(N.key===null?x:N.key)||null,l(v,b,N,T);case Wo:return b=b.get(N.key===null?x:N.key)||null,u(v,b,N,T);case Bi:var P=N._init;return m(b,v,x,P(N._payload),T)}if(su(N)||Ll(N))return b=b.get(x)||null,f(v,b,N,T,null);Bd(v,N)}return null}function y(b,v,x,N){for(var T=null,P=null,E=v,S=v=0,I=null;E!==null&&S<x.length;S++){E.index>S?(I=E,E=null):I=E.sibling;var C=p(b,E,x[S],N);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(b,E),v=s(C,v,S),P===null?T=C:P.sibling=C,P=C,E=I}if(S===x.length)return n(b,E),ht&&Vs(b,S),T;if(E===null){for(;S<x.length;S++)E=h(b,x[S],N),E!==null&&(v=s(E,v,S),P===null?T=E:P.sibling=E,P=E);return ht&&Vs(b,S),T}for(E=r(b,E);S<x.length;S++)I=m(E,b,S,x[S],N),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?S:I.key),v=s(I,v,S),P===null?T=I:P.sibling=I,P=I);return t&&E.forEach(function(k){return e(b,k)}),ht&&Vs(b,S),T}function w(b,v,x,N){var T=Ll(x);if(typeof T!="function")throw Error(te(150));if(x=T.call(x),x==null)throw Error(te(151));for(var P=T=null,E=v,S=v=0,I=null,C=x.next();E!==null&&!C.done;S++,C=x.next()){E.index>S?(I=E,E=null):I=E.sibling;var k=p(b,E,C.value,N);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(b,E),v=s(k,v,S),P===null?T=k:P.sibling=k,P=k,E=I}if(C.done)return n(b,E),ht&&Vs(b,S),T;if(E===null){for(;!C.done;S++,C=x.next())C=h(b,C.value,N),C!==null&&(v=s(C,v,S),P===null?T=C:P.sibling=C,P=C);return ht&&Vs(b,S),T}for(E=r(b,E);!C.done;S++,C=x.next())C=m(E,b,S,C.value,N),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?S:C.key),v=s(C,v,S),P===null?T=C:P.sibling=C,P=C);return t&&E.forEach(function(j){return e(b,j)}),ht&&Vs(b,S),T}function _(b,v,x,N){if(typeof x=="object"&&x!==null&&x.type===Ho&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jd:e:{for(var T=x.key,P=v;P!==null;){if(P.key===T){if(T=x.type,T===Ho){if(P.tag===7){n(b,P.sibling),v=i(P,x.props.children),v.return=b,b=v;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bi&&B1(T)===P.type){n(b,P.sibling),v=i(P,x.props),v.ref=zl(b,P,x),v.return=b,b=v;break e}n(b,P);break}else e(b,P);P=P.sibling}x.type===Ho?(v=eo(x.props.children,b.mode,N,x.key),v.return=b,b=v):(N=Pf(x.type,x.key,x.props,null,b.mode,N),N.ref=zl(b,v,x),N.return=b,b=N)}return o(b);case Wo:e:{for(P=x.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(b,v.sibling),v=i(v,x.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=Bg(x,b.mode,N),v.return=b,b=v}return o(b);case Bi:return P=x._init,_(b,v,P(x._payload),N)}if(su(x))return y(b,v,x,N);if(Ll(x))return w(b,v,x,N);Bd(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,x),v.return=b,b=v):(n(b,v),v=Ug(x,b.mode,N),v.return=b,b=v),o(b)):n(b,v)}return _}var Aa=UN(!0),BN=UN(!1),Zf=_s(null),eh=null,ea=null,Bx=null;function zx(){Bx=ea=eh=null}function qx(t){var e=Zf.current;dt(Zf),t._currentValue=e}function iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ha(t,e){eh=t,Bx=ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(Bx!==t)if(t={context:t,memoizedValue:e,next:null},ea===null){if(eh===null)throw Error(te(308));ea=t,eh.dependencies={lanes:0,firstContext:t}}else ea=ea.next=t;return e}var Ks=null;function Wx(t){Ks===null?Ks=[t]:Ks.push(t)}function zN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wx(e)):(n.next=i.next,i.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zi=!1;function Hx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_i(t,n)}return i=r.interleaved,i===null?(e.next=e,Wx(r)):(e.next=i.next,i.next=e),r.interleaved=e,_i(t,n)}function wf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jx(t,n)}}function z1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function th(t,e,n,r){var i=t.updateQueue;zi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=yt({},h,p);break e;case 2:zi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fo|=o,t.lanes=o,t.memoizedState=h}}function q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Hc={},Mr=_s(Hc),Ku=_s(Hc),Gu=_s(Hc);function Gs(t){if(t===Hc)throw Error(te(174));return t}function Kx(t,e){switch(rt(Gu,e),rt(Ku,t),rt(Mr,Hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ly(e,t)}dt(Mr),rt(Mr,e)}function Pa(){dt(Mr),dt(Ku),dt(Gu)}function WN(t){Gs(Gu.current);var e=Gs(Mr.current),n=Ly(e,t.type);e!==n&&(rt(Ku,t),rt(Mr,n))}function Gx(t){Ku.current===t&&(dt(Mr),dt(Ku))}var mt=_s(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dg=[];function Qx(){for(var t=0;t<Dg.length;t++)Dg[t]._workInProgressVersionPrimary=null;Dg.length=0}var _f=ji.ReactCurrentDispatcher,Mg=ji.ReactCurrentBatchConfig,co=0,gt=null,kt=null,Ft=null,rh=!1,_u=!1,Qu=0,B$=0;function rn(){throw Error(te(321))}function Xx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function Yx(t,e,n,r,i,s){if(co=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=t===null||t.memoizedState===null?H$:K$,t=n(r,i),_u){s=0;do{if(_u=!1,Qu=0,25<=s)throw Error(te(301));s+=1,Ft=kt=null,e.updateQueue=null,_f.current=G$,t=n(r,i)}while(_u)}if(_f.current=ih,e=kt!==null&&kt.next!==null,co=0,Ft=kt=gt=null,rh=!1,e)throw Error(te(300));return t}function Jx(){var t=Qu!==0;return Qu=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?gt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function or(){if(kt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Ft===null?gt.memoizedState:Ft.next;if(e!==null)Ft=e,kt=t;else{if(t===null)throw Error(te(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ft===null?gt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Xu(t,e){return typeof e=="function"?e(t):e}function $g(t){var e=or(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((co&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,gt.lanes|=f,fo|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,_r(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,fo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lg(t){var e=or(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_r(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function HN(){}function KN(t,e){var n=gt,r=or(),i=e(),s=!_r(r.memoizedState,i);if(s&&(r.memoizedState=i,_n=!0),r=r.queue,Zx(XN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Yu(9,QN.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(te(349));co&30||GN(n,e,i)}return i}function GN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QN(t,e,n,r){e.value=n,e.getSnapshot=r,YN(e)&&JN(t)}function XN(t,e,n){return n(function(){YN(e)&&JN(t)})}function YN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function JN(t){var e=_i(t,1);e!==null&&br(e,t,1,-1)}function W1(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:t},e.queue=t,t=t.dispatch=W$.bind(null,gt,t),[e.memoizedState,t]}function Yu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZN(){return or().memoizedState}function Ef(t,e,n,r){var i=Or();gt.flags|=t,i.memoizedState=Yu(1|e,n,void 0,r===void 0?null:r)}function Np(t,e,n,r){var i=or();r=r===void 0?null:r;var s=void 0;if(kt!==null){var o=kt.memoizedState;if(s=o.destroy,r!==null&&Xx(r,o.deps)){i.memoizedState=Yu(e,n,s,r);return}}gt.flags|=t,i.memoizedState=Yu(1|e,n,s,r)}function H1(t,e){return Ef(8390656,8,t,e)}function Zx(t,e){return Np(2048,8,t,e)}function e2(t,e){return Np(4,2,t,e)}function t2(t,e){return Np(4,4,t,e)}function n2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r2(t,e,n){return n=n!=null?n.concat([t]):null,Np(4,4,n2.bind(null,e,t),n)}function eb(){}function i2(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function s2(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function o2(t,e,n){return co&21?(_r(n,e)||(n=dN(),gt.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function z$(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Mg.transition;Mg.transition={};try{t(!1),e()}finally{Ge=n,Mg.transition=r}}function a2(){return or().memoizedState}function q$(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l2(t))u2(e,n);else if(n=zN(t,e,n,r),n!==null){var i=mn();br(n,t,r,i),c2(n,e,r)}}function W$(t,e,n){var r=as(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l2(t))u2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_r(a,o)){var l=e.interleaved;l===null?(i.next=i,Wx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zN(t,e,i,r),n!==null&&(i=mn(),br(n,t,r,i),c2(n,e,r))}}function l2(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function u2(t,e){_u=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jx(t,n)}}var ih={readContext:sr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},H$={readContext:sr,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:H1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ef(4194308,4,n2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ef(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q$.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:W1,useDebugValue:eb,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=W1(!1),e=t[0];return t=z$.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Or();if(ht){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Ut===null)throw Error(te(349));co&30||GN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,H1(XN.bind(null,r,s,t),[t]),r.flags|=2048,Yu(9,QN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Or(),e=Ut.identifierPrefix;if(ht){var n=ai,r=oi;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=B$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K$={readContext:sr,useCallback:i2,useContext:sr,useEffect:Zx,useImperativeHandle:r2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:s2,useReducer:$g,useRef:ZN,useState:function(){return $g(Xu)},useDebugValue:eb,useDeferredValue:function(t){var e=or();return o2(e,kt.memoizedState,t)},useTransition:function(){var t=$g(Xu)[0],e=or().memoizedState;return[t,e]},useMutableSource:HN,useSyncExternalStore:KN,useId:a2,unstable_isNewReconciler:!1},G$={readContext:sr,useCallback:i2,useContext:sr,useEffect:Zx,useImperativeHandle:r2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:s2,useReducer:Lg,useRef:ZN,useState:function(){return Lg(Xu)},useDebugValue:eb,useDeferredValue:function(t){var e=or();return kt===null?e.memoizedState=t:o2(e,kt.memoizedState,t)},useTransition:function(){var t=Lg(Xu)[0],e=or().memoizedState;return[t,e]},useMutableSource:HN,useSyncExternalStore:KN,useId:a2,unstable_isNewReconciler:!1};function pr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Op={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=as(t),s=pi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(br(e,t,i,r),wf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=as(t),s=pi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(br(e,t,i,r),wf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=as(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ss(t,i,r),e!==null&&(br(e,t,r,n),wf(e,t,r))}};function K1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zu(n,r)||!zu(i,s):!0}function d2(t,e,n){var r=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=sr(s):(i=In(e)?lo:cn.current,r=e.contextTypes,s=(r=r!=null)?Sa(t,i):ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Op,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function G1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Op.enqueueReplaceState(e,e.state,null)}function ov(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sr(s):(s=In(e)?lo:cn.current,i.context=Sa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Op.enqueueReplaceState(i,i.state,null),th(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e){try{var n="",r=e;do n+=_M(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Q$=typeof WeakMap=="function"?WeakMap:Map;function f2(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){oh||(oh=!0,yv=r),av(t,e)},n}function h2(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){av(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){av(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Q1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Q$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=u4.bind(null,t,e,n),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,ss(n,e,1))),n.lanes|=1),t)}var X$=ji.ReactCurrentOwner,_n=!1;function hn(t,e,n,r){e.child=t===null?BN(e,null,n,r):Aa(e,t.child,n,r)}function J1(t,e,n,r,i){n=n.render;var s=e.ref;return ha(e,i),r=Yx(t,e,n,r,s,i),n=Jx(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ht&&n&&Vx(e),e.flags|=1,hn(t,e,r,i),e.child)}function Z1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,p2(t,e,s,r,i)):(t=Pf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zu,n(o,r)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=ls(s,r),t.ref=e.ref,t.return=e,e.child=t}function p2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zu(s,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return lv(t,e,n,r,i)}function m2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(na,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(na,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(na,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(na,kn),kn|=r;return hn(t,e,i,n),e.child}function g2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lv(t,e,n,r,i){var s=In(n)?lo:cn.current;return s=Sa(e,s),ha(e,i),n=Yx(t,e,n,r,s,i),r=Jx(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ht&&r&&Vx(e),e.flags|=1,hn(t,e,n,i),e.child)}function eE(t,e,n,r,i){if(In(n)){var s=!0;Xf(e)}else s=!1;if(ha(e,i),e.stateNode===null)Sf(t,e),d2(e,n,r),ov(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=sr(u):(u=In(n)?lo:cn.current,u=Sa(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&G1(e,o,r,u),zi=!1;var p=e.memoizedState;o.state=p,th(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Pn.current||zi?(typeof f=="function"&&(sv(e,n,f,r),l=e.memoizedState),(a=zi||K1(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:pr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=In(n)?lo:cn.current,l=Sa(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&G1(e,o,r,l),zi=!1,p=e.memoizedState,o.state=p,th(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||Pn.current||zi?(typeof m=="function"&&(sv(e,n,m,r),y=e.memoizedState),(u=zi||K1(e,n,u,r,p,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return uv(t,e,n,r,s,i)}function uv(t,e,n,r,i,s){g2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&V1(e,n,!1),Ei(t,e,s);r=e.stateNode,X$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Aa(e,t.child,null,s),e.child=Aa(e,null,a,s)):hn(t,e,a,s),e.memoizedState=r.state,i&&V1(e,n,!0),e.child}function y2(t){var e=t.stateNode;e.pendingContext?L1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L1(t,e.context,!1),Kx(t,e.containerInfo)}function tE(t,e,n,r,i){return Ta(),Ux(i),e.flags|=256,hn(t,e,n,r),e.child}var cv={dehydrated:null,treeContext:null,retryLane:0};function dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function v2(t,e,n){var r=e.pendingProps,i=mt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(mt,i&1),t===null)return rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kp(o,r,0,null),t=eo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dv(n),e.memoizedState=cv,t):tb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Y$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ls(a,s):(s=eo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cv,r}return s=t.child,t=s.sibling,r=ls(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tb(t,e){return e=kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zd(t,e,n,r){return r!==null&&Ux(r),Aa(e,t.child,null,n),t=tb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vg(Error(te(422))),zd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kp({mode:"visible",children:r.children},i,0,null),s=eo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Aa(e,t.child,null,o),e.child.memoizedState=dv(o),e.memoizedState=cv,s);if(!(e.mode&1))return zd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(te(419)),r=Vg(s,r,void 0),zd(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=Ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_i(t,i),br(r,t,i,-1))}return ab(),r=Vg(Error(te(421))),zd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=c4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=is(i.nextSibling),Ln=e,ht=!0,gr=null,t!==null&&(Xn[Yn++]=oi,Xn[Yn++]=ai,Xn[Yn++]=uo,oi=t.id,ai=t.overflow,uo=e),e=tb(e,r.children),e.flags|=4096,e)}function nE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iv(t.return,e,n)}function Fg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function x2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nE(t,n,e);else if(t.tag===19)nE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fg(e,!0,n,null,s);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J$(t,e,n){switch(e.tag){case 3:y2(e),Ta();break;case 5:WN(e);break;case 1:In(e.type)&&Xf(e);break;case 4:Kx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Zf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?v2(t,e,n):(rt(mt,mt.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);rt(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return x2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,m2(t,e,n)}return Ei(t,e,n)}var b2,fv,w2,_2;b2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fv=function(){};w2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gs(Mr.current);var s=null;switch(n){case"input":i=Ry(t,i),r=Ry(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=$y(t,i),r=$y(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gf)}Vy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&at("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z$(t,e,n){var r=e.pendingProps;switch(Fx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return In(e.type)&&Qf(),sn(e),null;case 3:return r=e.stateNode,Pa(),dt(Pn),dt(cn),Qx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(bv(gr),gr=null))),fv(t,e),sn(e),null;case 5:Gx(e);var i=Gs(Gu.current);if(n=e.type,t!==null&&e.stateNode!=null)w2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return sn(e),null}if(t=Gs(Mr.current),Ud(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cr]=e,r[Hu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<au.length;i++)at(au[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":d1(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":h1(r,s),at("invalid",r)}Vy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",""+a]):Mu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":Cd(r),f1(r,s,!0);break;case"textarea":Cd(r),p1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cr]=e,t[Hu]=r,b2(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fy(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<au.length;i++)at(au[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":d1(t,r),i=Ry(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),at("invalid",t);break;case"textarea":h1(t,r),i=$y(t,r),at("invalid",t);break;default:i=r}Vy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ZI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$u(t,l):typeof l=="number"&&$u(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",t):l!=null&&Tx(t,s,l,o))}switch(n){case"input":Cd(t),f1(t,r,!1);break;case"textarea":Cd(t),p1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ua(t,!!r.multiple,s,!1):r.defaultValue!=null&&ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)_2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Gs(Gu.current),Gs(Mr.current),Ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Fd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return sn(e),null;case 13:if(dt(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Mn!==null&&e.mode&1&&!(e.flags&128))FN(),Ta(),e.flags|=98560,s=!1;else if(s=Ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Cr]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else gr!==null&&(bv(gr),gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Rt===0&&(Rt=3):ab())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Pa(),fv(t,e),t===null&&qu(e.stateNode.containerInfo),sn(e),null;case 10:return qx(e.type._context),sn(e),null;case 17:return In(e.type)&&Qf(),sn(e),null;case 19:if(dt(mt),s=e.memoizedState,s===null)return sn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ql(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nh(t),o!==null){for(e.flags|=128,ql(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>Na&&(e.flags|=128,r=!0,ql(s,!1),e.lanes=4194304)}else{if(!r)if(t=nh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ht)return sn(e),null}else 2*At()-s.renderingStartTime>Na&&n!==1073741824&&(e.flags|=128,r=!0,ql(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=mt.current,rt(mt,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return ob(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function e4(t,e){switch(Fx(e),e.tag){case 1:return In(e.type)&&Qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),dt(Pn),dt(cn),Qx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gx(e),null;case 13:if(dt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(mt),null;case 4:return Pa(),null;case 10:return qx(e.type._context),null;case 22:case 23:return ob(),null;case 24:return null;default:return null}}var qd=!1,ln=!1,t4=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ta(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){bt(t,e,r)}}var rE=!1;function n4(t,e){if(Xy=Wf,t=PN(),Lx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++f===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yy={focusedElem:t,selectionRange:n},Wf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:pr(e.type,w),_);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(N){bt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=rE,rE=!1,y}function Eu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hv(e,n,s)}i=i.next}while(i!==r)}}function jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function E2(t){var e=t.alternate;e!==null&&(t.alternate=null,E2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[Hu],delete e[ev],delete e[L$],delete e[V$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S2(t){return t.tag===5||t.tag===3||t.tag===4}function iE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gf));else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}function gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gv(t,e,n),t=t.sibling;t!==null;)gv(t,e,n),t=t.sibling}var Wt=null,mr=!1;function Fi(t,e,n){for(n=n.child;n!==null;)T2(t,e,n),n=n.sibling}function T2(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Ep,n)}catch{}switch(n.tag){case 5:ln||ta(n,e);case 6:var r=Wt,i=mr;Wt=null,Fi(t,e,n),Wt=r,mr=i,Wt!==null&&(mr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(mr?(t=Wt,n=n.stateNode,t.nodeType===8?kg(t.parentNode,n):t.nodeType===1&&kg(t,n),Uu(t)):kg(Wt,n.stateNode));break;case 4:r=Wt,i=mr,Wt=n.stateNode.containerInfo,mr=!0,Fi(t,e,n),Wt=r,mr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hv(n,e,o),i=i.next}while(i!==r)}Fi(t,e,n);break;case 1:if(!ln&&(ta(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Fi(t,e,n),ln=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function sE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t4),e.forEach(function(r){var i=d4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,mr=!1;break e;case 3:Wt=a.stateNode.containerInfo,mr=!0;break e;case 4:Wt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(Wt===null)throw Error(te(160));T2(s,o,i),Wt=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A2(e,t),e=e.sibling}function A2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),Nr(t),r&4){try{Eu(3,t,t.return),jp(3,t)}catch(w){bt(t,t.return,w)}try{Eu(5,t,t.return)}catch(w){bt(t,t.return,w)}}break;case 1:fr(e,t),Nr(t),r&512&&n!==null&&ta(n,n.return);break;case 5:if(fr(e,t),Nr(t),r&512&&n!==null&&ta(n,n.return),t.flags&32){var i=t.stateNode;try{$u(i,"")}catch(w){bt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GI(i,s),Fy(a,o);var u=Fy(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?ZI(i,h):f==="dangerouslySetInnerHTML"?YI(i,h):f==="children"?$u(i,h):Tx(i,f,h,u)}switch(a){case"input":Dy(i,s);break;case"textarea":QI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ua(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ua(i,!!s.multiple,s.defaultValue,!0):ua(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hu]=s}catch(w){bt(t,t.return,w)}}break;case 6:if(fr(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){bt(t,t.return,w)}}break;case 3:if(fr(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uu(e.containerInfo)}catch(w){bt(t,t.return,w)}break;case 4:fr(e,t),Nr(t);break;case 13:fr(e,t),Nr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ib=At())),r&4&&sE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||f,fr(e,t),ln=u):fr(e,t),Nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(h=ce=f;ce!==null;){switch(p=ce,m=p.child,p.tag){case 0:case 11:case 14:case 15:Eu(4,p,p.return);break;case 1:ta(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){bt(r,n,w)}}break;case 5:ta(p,p.return);break;case 22:if(p.memoizedState!==null){aE(h);continue}}m!==null?(m.return=p,ce=m):aE(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JI("display",o))}catch(w){bt(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){bt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fr(e,t),Nr(t),r&4&&sE(t);break;case 21:break;default:fr(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S2(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($u(i,""),r.flags&=-33);var s=iE(t);gv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iE(t);mv(t,a,o);break;default:throw Error(te(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r4(t,e,n){ce=t,P2(t)}function P2(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=qd;var u=ln;if(qd=o,(ln=l)&&!u)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?lE(i):l!==null?(l.return=o,ce=l):lE(i);for(;s!==null;)ce=s,P2(s),s=s.sibling;ce=i,qd=a,ln=u}oE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):oE(t)}}function oE(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||jp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Uu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}ln||e.flags&512&&pv(e)}catch(p){bt(e,e.return,p)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function aE(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function lE(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jp(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var s=e.return;try{pv(e)}catch(l){bt(e,s,l)}break;case 5:var o=e.return;try{pv(e)}catch(l){bt(e,o,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var i4=Math.ceil,sh=ji.ReactCurrentDispatcher,nb=ji.ReactCurrentOwner,rr=ji.ReactCurrentBatchConfig,Fe=0,Ut=null,It=null,Qt=0,kn=0,na=_s(0),Rt=0,Ju=null,fo=0,Cp=0,rb=0,Su=null,bn=null,ib=0,Na=1/0,ri=null,oh=!1,yv=null,os=null,Wd=!1,Ji=null,ah=0,Tu=0,vv=null,Tf=-1,Af=0;function mn(){return Fe&6?At():Tf!==-1?Tf:Tf=At()}function as(t){return t.mode&1?Fe&2&&Qt!==0?Qt&-Qt:U$.transition!==null?(Af===0&&(Af=dN()),Af):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:vN(t.type)),t):1}function br(t,e,n,r){if(50<Tu)throw Tu=0,vv=null,Error(te(185));zc(t,n,r),(!(Fe&2)||t!==Ut)&&(t===Ut&&(!(Fe&2)&&(Cp|=n),Rt===4&&Hi(t,Qt)),Nn(t,r),n===1&&Fe===0&&!(e.mode&1)&&(Na=At()+500,Ip&&Es()))}function Nn(t,e){var n=t.callbackNode;UM(t,e);var r=qf(t,t===Ut?Qt:0);if(r===0)n!==null&&y1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y1(n),e===1)t.tag===0?F$(uE.bind(null,t)):$N(uE.bind(null,t)),M$(function(){!(Fe&6)&&Es()}),n=null;else{switch(fN(r)){case 1:n=Ox;break;case 4:n=uN;break;case 16:n=zf;break;case 536870912:n=cN;break;default:n=zf}n=D2(n,I2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function I2(t,e){if(Tf=-1,Af=0,Fe&6)throw Error(te(327));var n=t.callbackNode;if(pa()&&t.callbackNode!==n)return null;var r=qf(t,t===Ut?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lh(t,r);else{e=r;var i=Fe;Fe|=2;var s=O2();(Ut!==t||Qt!==e)&&(ri=null,Na=At()+500,Zs(t,e));do try{a4();break}catch(a){N2(t,a)}while(!0);zx(),sh.current=s,Fe=i,It!==null?e=0:(Ut=null,Qt=0,e=Rt)}if(e!==0){if(e===2&&(i=Wy(t),i!==0&&(r=i,e=xv(t,i))),e===1)throw n=Ju,Zs(t,0),Hi(t,r),Nn(t,At()),n;if(e===6)Hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!s4(i)&&(e=lh(t,r),e===2&&(s=Wy(t),s!==0&&(r=s,e=xv(t,s))),e===1))throw n=Ju,Zs(t,0),Hi(t,r),Nn(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Fs(t,bn,ri);break;case 3:if(Hi(t,r),(r&130023424)===r&&(e=ib+500-At(),10<e)){if(qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zy(Fs.bind(null,t,bn,ri),e);break}Fs(t,bn,ri);break;case 4:if(Hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i4(r/1960))-r,10<r){t.timeoutHandle=Zy(Fs.bind(null,t,bn,ri),r);break}Fs(t,bn,ri);break;case 5:Fs(t,bn,ri);break;default:throw Error(te(329))}}}return Nn(t,At()),t.callbackNode===n?I2.bind(null,t):null}function xv(t,e){var n=Su;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=lh(t,e),t!==2&&(e=bn,bn=n,e!==null&&bv(e)),t}function bv(t){bn===null?bn=t:bn.push.apply(bn,t)}function s4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_r(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~rb,e&=~Cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function uE(t){if(Fe&6)throw Error(te(327));pa();var e=qf(t,0);if(!(e&1))return Nn(t,At()),null;var n=lh(t,e);if(t.tag!==0&&n===2){var r=Wy(t);r!==0&&(e=r,n=xv(t,r))}if(n===1)throw n=Ju,Zs(t,0),Hi(t,e),Nn(t,At()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fs(t,bn,ri),Nn(t,At()),null}function sb(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(Na=At()+500,Ip&&Es())}}function ho(t){Ji!==null&&Ji.tag===0&&!(Fe&6)&&pa();var e=Fe;Fe|=1;var n=rr.transition,r=Ge;try{if(rr.transition=null,Ge=1,t)return t()}finally{Ge=r,rr.transition=n,Fe=e,!(Fe&6)&&Es()}}function ob(){kn=na.current,dt(na)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D$(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Fx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qf();break;case 3:Pa(),dt(Pn),dt(cn),Qx();break;case 5:Gx(r);break;case 4:Pa();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:qx(r.type._context);break;case 22:case 23:ob()}n=n.return}if(Ut=t,It=t=ls(t.current,null),Qt=kn=e,Rt=0,Ju=null,rb=Cp=fo=0,bn=Su=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ks=null}return t}function N2(t,e){do{var n=It;try{if(zx(),_f.current=ih,rh){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rh=!1}if(co=0,Ft=kt=gt=null,_u=!1,Qu=0,nb.current=null,n===null||n.return===null){Rt=1,Ju=e,It=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=X1(o);if(m!==null){m.flags&=-257,Y1(m,o,a,s,e),m.mode&1&&Q1(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Q1(s,u,e),ab();break e}l=Error(te(426))}}else if(ht&&a.mode&1){var _=X1(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Y1(_,o,a,s,e),Ux(Ia(l,a));break e}}s=l=Ia(l,a),Rt!==4&&(Rt=2),Su===null?Su=[s]:Su.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=f2(s,l,e);z1(s,b);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(os===null||!os.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=h2(s,a,e);z1(s,N);break e}}s=s.return}while(s!==null)}C2(n)}catch(T){e=T,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function O2(){var t=sh.current;return sh.current=ih,t===null?ih:t}function ab(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Ut===null||!(fo&268435455)&&!(Cp&268435455)||Hi(Ut,Qt)}function lh(t,e){var n=Fe;Fe|=2;var r=O2();(Ut!==t||Qt!==e)&&(ri=null,Zs(t,e));do try{o4();break}catch(i){N2(t,i)}while(!0);if(zx(),Fe=n,sh.current=r,It!==null)throw Error(te(261));return Ut=null,Qt=0,Rt}function o4(){for(;It!==null;)j2(It)}function a4(){for(;It!==null&&!CM();)j2(It)}function j2(t){var e=R2(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?C2(t):It=e,nb.current=null}function C2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e4(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,It=null;return}}else if(n=Z$(n,e,kn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Rt===0&&(Rt=5)}function Fs(t,e,n){var r=Ge,i=rr.transition;try{rr.transition=null,Ge=1,l4(t,e,n,r)}finally{rr.transition=i,Ge=r}return null}function l4(t,e,n,r){do pa();while(Ji!==null);if(Fe&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(BM(t,s),t===Ut&&(It=Ut=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wd||(Wd=!0,D2(zf,function(){return pa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var o=Ge;Ge=1;var a=Fe;Fe|=4,nb.current=null,n4(t,n),A2(n,t),I$(Yy),Wf=!!Xy,Yy=Xy=null,t.current=n,r4(n),kM(),Fe=a,Ge=o,rr.transition=s}else t.current=n;if(Wd&&(Wd=!1,Ji=t,ah=i),s=t.pendingLanes,s===0&&(os=null),MM(n.stateNode),Nn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,t=yv,yv=null,t;return ah&1&&t.tag!==0&&pa(),s=t.pendingLanes,s&1?t===vv?Tu++:(Tu=0,vv=t):Tu=0,Es(),null}function pa(){if(Ji!==null){var t=fN(ah),e=rr.transition,n=Ge;try{if(rr.transition=null,Ge=16>t?16:t,Ji===null)var r=!1;else{if(t=Ji,Ji=null,ah=0,Fe&6)throw Error(te(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Eu(8,f,s)}var h=f.child;if(h!==null)h.return=f,ce=h;else for(;ce!==null;){f=ce;var p=f.sibling,m=f.return;if(E2(f),f===u){ce=null;break}if(p!==null){p.return=m,ce=p;break}ce=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eu(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ce=b;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){o=ce;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ce=x;else e:for(o=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jp(9,a)}}catch(T){bt(a,a.return,T)}if(a===o){ce=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ce=N;break e}ce=a.return}}if(Fe=i,Es(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Ep,t)}catch{}r=!0}return r}finally{Ge=n,rr.transition=e}}return!1}function cE(t,e,n){e=Ia(n,e),e=f2(t,e,1),t=ss(t,e,1),e=mn(),t!==null&&(zc(t,1,e),Nn(t,e))}function bt(t,e,n){if(t.tag===3)cE(t,t,n);else for(;e!==null;){if(e.tag===3){cE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=Ia(n,t),t=h2(e,t,1),e=ss(e,t,1),t=mn(),e!==null&&(zc(e,1,t),Nn(e,t));break}}e=e.return}}function u4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Qt&n)===n&&(Rt===4||Rt===3&&(Qt&130023424)===Qt&&500>At()-ib?Zs(t,0):rb|=n),Nn(t,e)}function k2(t,e){e===0&&(t.mode&1?(e=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):e=1);var n=mn();t=_i(t,e),t!==null&&(zc(t,e,n),Nn(t,n))}function c4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k2(t,n)}function d4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),k2(t,n)}var R2;R2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,J$(t,e,n);_n=!!(t.flags&131072)}else _n=!1,ht&&e.flags&1048576&&LN(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sf(t,e),t=e.pendingProps;var i=Sa(e,cn.current);ha(e,n),i=Yx(null,e,r,t,i,n);var s=Jx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(s=!0,Xf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hx(e),i.updater=Op,e.stateNode=i,i._reactInternals=e,ov(e,r,t,n),e=uv(null,e,r,!0,s,n)):(e.tag=0,ht&&s&&Vx(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=h4(r),t=pr(r,t),i){case 0:e=lv(null,e,r,t,n);break e;case 1:e=eE(null,e,r,t,n);break e;case 11:e=J1(null,e,r,t,n);break e;case 14:e=Z1(null,e,r,pr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),lv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),eE(t,e,r,i,n);case 3:e:{if(y2(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qN(t,e),th(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ia(Error(te(423)),e),e=tE(t,e,r,n,i);break e}else if(r!==i){i=Ia(Error(te(424)),e),e=tE(t,e,r,n,i);break e}else for(Mn=is(e.stateNode.containerInfo.firstChild),Ln=e,ht=!0,gr=null,n=BN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ta(),r===i){e=Ei(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return WN(e),t===null&&rv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jy(r,i)?o=null:s!==null&&Jy(r,s)&&(e.flags|=32),g2(t,e),hn(t,e,o,n),e.child;case 6:return t===null&&rv(e),null;case 13:return v2(t,e,n);case 4:return Kx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Aa(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),J1(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Zf,r._currentValue),r._currentValue=o,s!==null)if(_r(s.value,o)){if(s.children===i.children&&!Pn.current){e=Ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),iv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),iv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ha(e,n),i=sr(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=pr(r,e.pendingProps),i=pr(r.type,i),Z1(t,e,r,i,n);case 15:return p2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Sf(t,e),e.tag=1,In(r)?(t=!0,Xf(e)):t=!1,ha(e,n),d2(e,r,i),ov(e,r,i,n),uv(null,e,r,!0,t,n);case 19:return x2(t,e,n);case 22:return m2(t,e,n)}throw Error(te(156,e.tag))};function D2(t,e){return lN(t,e)}function f4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new f4(t,e,n,r)}function lb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h4(t){if(typeof t=="function")return lb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Px)return 11;if(t===Ix)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")lb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return eo(n.children,i,s,e);case Ax:o=8,i|=8;break;case Oy:return t=Zn(12,n,e,i|2),t.elementType=Oy,t.lanes=s,t;case jy:return t=Zn(13,n,e,i),t.elementType=jy,t.lanes=s,t;case Cy:return t=Zn(19,n,e,i),t.elementType=Cy,t.lanes=s,t;case WI:return kp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zI:o=10;break e;case qI:o=9;break e;case Px:o=11;break e;case Ix:o=14;break e;case Bi:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function eo(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function kp(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=WI,t.lanes=n,t.stateNode={isHidden:!1},t}function Ug(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function Bg(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ub(t,e,n,r,i,s,o,a,l){return t=new p4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hx(s),t}function m4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M2(t){if(!t)return ps;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(In(n))return MN(t,n,e)}return e}function $2(t,e,n,r,i,s,o,a,l){return t=ub(n,r,!0,t,i,s,o,a,l),t.context=M2(null),n=t.current,r=mn(),i=as(n),s=pi(r,i),s.callback=e??null,ss(n,s,i),t.current.lanes=i,zc(t,i,r),Nn(t,r),t}function Rp(t,e,n,r){var i=e.current,s=mn(),o=as(i);return n=M2(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ss(i,e,o),t!==null&&(br(t,i,o,s),wf(t,i,o)),o}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cb(t,e){dE(t,e),(t=t.alternate)&&dE(t,e)}function g4(){return null}var L2=typeof reportError=="function"?reportError:function(t){console.error(t)};function db(t){this._internalRoot=t}Dp.prototype.render=db.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Rp(t,e,null,null)};Dp.prototype.unmount=db.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Rp(null,t,null,null)}),e[wi]=null}};function Dp(t){this._internalRoot=t}Dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=mN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&yN(t)}};function fb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fE(){}function y4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=uh(o);s.call(u)}}var o=$2(e,r,t,0,null,!1,!1,"",fE);return t._reactRootContainer=o,t[wi]=o.current,qu(t.nodeType===8?t.parentNode:t),ho(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=uh(l);a.call(u)}}var l=ub(t,0,!1,null,null,!1,!1,"",fE);return t._reactRootContainer=l,t[wi]=l.current,qu(t.nodeType===8?t.parentNode:t),ho(function(){Rp(e,l,n,r)}),l}function $p(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=uh(o);a.call(l)}}Rp(e,o,t,i)}else o=y4(n,e,t,i,r);return uh(o)}hN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ou(e.pendingLanes);n!==0&&(jx(e,n|1),Nn(e,At()),!(Fe&6)&&(Na=At()+500,Es()))}break;case 13:ho(function(){var r=_i(t,1);if(r!==null){var i=mn();br(r,t,1,i)}}),cb(t,1)}};Cx=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=mn();br(e,t,134217728,n)}cb(t,134217728)}};pN=function(t){if(t.tag===13){var e=as(t),n=_i(t,e);if(n!==null){var r=mn();br(n,t,e,r)}cb(t,e)}};mN=function(){return Ge};gN=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};By=function(t,e,n){switch(e){case"input":if(Dy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pp(r);if(!i)throw Error(te(90));KI(r),Dy(r,i)}}}break;case"textarea":QI(t,n);break;case"select":e=n.value,e!=null&&ua(t,!!n.multiple,e,!1)}};nN=sb;rN=ho;var v4={usingClientEntryPoint:!1,Events:[Wc,Xo,Pp,eN,tN,sb]},Wl={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x4={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oN(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||g4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Ep=Hd.inject(x4),Dr=Hd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v4;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fb(e))throw Error(te(200));return m4(t,e,null,n)};Un.createRoot=function(t,e){if(!fb(t))throw Error(te(299));var n=!1,r="",i=L2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ub(t,1,!1,null,null,n,!1,r,i),t[wi]=e.current,qu(t.nodeType===8?t.parentNode:t),new db(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=oN(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return ho(t)};Un.hydrate=function(t,e,n){if(!Mp(e))throw Error(te(200));return $p(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!fb(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=L2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$2(e,null,t,1,n??null,i,!1,s,o),t[wi]=e.current,qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dp(e)};Un.render=function(t,e,n){if(!Mp(e))throw Error(te(200));return $p(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!Mp(t))throw Error(te(40));return t._reactRootContainer?(ho(function(){$p(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};Un.unstable_batchedUpdates=sb;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mp(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return $p(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function V2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V2)}catch(t){console.error(t)}}V2(),VI.exports=Un;var b4=VI.exports,F2,hE=b4;F2=hE.createRoot,hE.hydrateRoot;var pE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},B2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[f],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new _4;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E4=function(t){const e=U2(t);return B2.encodeByteArray(e,!0)},ch=function(t){return E4(t).replace(/\./g,"")},z2=function(t){try{return B2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=()=>S4().__FIREBASE_DEFAULTS__,A4=()=>{if(typeof process>"u"||typeof pE>"u")return;const t=pE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z2(t[1]);return e&&JSON.parse(e)},Lp=()=>{try{return T4()||A4()||P4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q2=t=>{var e,n;return(n=(e=Lp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},W2=t=>{const e=q2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H2=()=>{var t;return(t=Lp())===null||t===void 0?void 0:t.config},K2=t=>{var e;return(e=Lp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ch(JSON.stringify(n)),ch(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function O4(){var t;const e=(t=Lp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R4(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D4(){return!O4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M4(){try{return typeof indexedDB=="object"}catch{return!1}}function $4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L4,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?V4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}}function V4(t,e){return t.replace(F4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F4=/\{\$([^}]+)}/g;function U4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mE(s)&&mE(o)){if(!dh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function B4(t,e){const n=new z4(t,e);return n.subscribe.bind(n)}class z4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zg),i.error===void 0&&(i.error=zg),i.complete===void 0&&(i.complete=zg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K4(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H4(t){return t===Us?void 0:t}function K4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const Q4={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},X4=ke.INFO,Y4={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},J4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hb{constructor(e){this.name=e,this._logLevel=X4,this._logHandler=J4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Z4=(t,e)=>e.some(n=>t instanceof n);let gE,yE;function eL(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tL(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q2=new WeakMap,wv=new WeakMap,X2=new WeakMap,qg=new WeakMap,pb=new WeakMap;function nL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Q2.set(n,t)}).catch(()=>{}),pb.set(e,t),e}function rL(t){if(wv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wv.set(t,e)}let _v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iL(t){_v=t(_v)}function sL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wg(this),e,...n);return X2.set(r,e.sort?e.sort():[e]),us(r)}:tL().includes(t)?function(...e){return t.apply(Wg(this),e),us(Q2.get(this))}:function(...e){return us(t.apply(Wg(this),e))}}function oL(t){return typeof t=="function"?sL(t):(t instanceof IDBTransaction&&rL(t),Z4(t,eL())?new Proxy(t,_v):t)}function us(t){if(t instanceof IDBRequest)return nL(t);if(qg.has(t))return qg.get(t);const e=oL(t);return e!==t&&(qg.set(t,e),pb.set(e,t)),e}const Wg=t=>pb.get(t);function aL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",l=>{r(us(o.result),l.oldVersion,l.newVersion,us(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const lL=["get","getKey","getAll","getAllKeys","count"],uL=["put","add","delete","clear"],Hg=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Hg.set(e,s),s}iL(t=>({...t,get:(e,n,r)=>vE(e,n)||t.get(e,n,r),has:(e,n)=>!!vE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",xE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new hb("@firebase/app"),fL="@firebase/app-compat",hL="@firebase/analytics-compat",pL="@firebase/analytics",mL="@firebase/app-check-compat",gL="@firebase/app-check",yL="@firebase/auth",vL="@firebase/auth-compat",xL="@firebase/database",bL="@firebase/data-connect",wL="@firebase/database-compat",_L="@firebase/functions",EL="@firebase/functions-compat",SL="@firebase/installations",TL="@firebase/installations-compat",AL="@firebase/messaging",PL="@firebase/messaging-compat",IL="@firebase/performance",NL="@firebase/performance-compat",OL="@firebase/remote-config",jL="@firebase/remote-config-compat",CL="@firebase/storage",kL="@firebase/storage-compat",RL="@firebase/firestore",DL="@firebase/vertexai-preview",ML="@firebase/firestore-compat",$L="firebase",LL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="[DEFAULT]",VL={[Ev]:"fire-core",[fL]:"fire-core-compat",[pL]:"fire-analytics",[hL]:"fire-analytics-compat",[gL]:"fire-app-check",[mL]:"fire-app-check-compat",[yL]:"fire-auth",[vL]:"fire-auth-compat",[xL]:"fire-rtdb",[bL]:"fire-data-connect",[wL]:"fire-rtdb-compat",[_L]:"fire-fn",[EL]:"fire-fn-compat",[SL]:"fire-iid",[TL]:"fire-iid-compat",[AL]:"fire-fcm",[PL]:"fire-fcm-compat",[IL]:"fire-perf",[NL]:"fire-perf-compat",[OL]:"fire-rc",[jL]:"fire-rc-compat",[CL]:"fire-gcs",[kL]:"fire-gcs-compat",[RL]:"fire-fst",[ML]:"fire-fst-compat",[DL]:"fire-vertex","fire-js":"fire-js",[$L]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,FL=new Map,Tv=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function po(t){const e=t.name;if(Tv.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,t);for(const n of fh.values())bE(n,t);for(const n of FL.values())bE(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Kc("app","Firebase",UL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=LL;function mb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=H2()),!n)throw cs.create("no-options");const s=fh.get(i);if(s){if(dh(n,s.options)&&dh(r,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const o=new G4(i);for(const l of Tv.values())o.addComponent(l);const a=new BL(n,r,o);return fh.set(i,a),a}function gb(t=Sv){const e=fh.get(t);if(!e&&t===Sv&&H2())return mb();if(!e)throw cs.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let i=(r=VL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}po(new ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebase-heartbeat-database",qL=1,Zu="firebase-heartbeat-store";let Kg=null;function Y2(){return Kg||(Kg=aL(zL,qL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Kg}async function WL(t){try{const n=(await Y2()).transaction(Zu),r=await n.objectStore(Zu).get(J2(t));return await n.done,r}catch(e){if(e instanceof Gr)Si.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function wE(t,e){try{const r=(await Y2()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,J2(t)),await r.done}catch(n){if(n instanceof Gr)Si.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function J2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=1024,KL=30*24*60*60*1e3;class GL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_E(),{heartbeatsToSend:r,unsentEntries:i}=QL(this._heartbeatsCache.heartbeats),s=ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Si.warn(n),""}}}function _E(){return new Date().toISOString().substring(0,10)}function QL(t,e=HL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M4()?$4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function EE(t){return ch(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){po(new ms("platform-logger",e=>new cL(e),"PRIVATE")),po(new ms("heartbeat",e=>new GL(e),"PRIVATE")),$r(Ev,xE,t),$r(Ev,xE,"esm2017"),$r("fire-js","")}YL("");function yb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JL=Z2,eO=new Kc("auth","Firebase",Z2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new hb("@firebase/auth");function ZL(t,...e){hh.logLevel<=ke.WARN&&hh.warn(`Auth (${Eo}): ${t}`,...e)}function If(t,...e){hh.logLevel<=ke.ERROR&&hh.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw vb(t,...e)}function Lr(t,...e){return vb(t,...e)}function tO(t,e,n){const r=Object.assign(Object.assign({},JL()),{[e]:n});return new Kc("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return tO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eO.create(t,...e)}function xe(t,e,...n){if(!t)throw vb(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Ti(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function e5(){return SE()==="http:"||SE()==="https:"}function SE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e5()||C4()||"connection"in navigator)?navigator.onLine:!0}function n5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=N4()||k4()}get(){return t5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Qc(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ci(t,e,n,r,i={}){return rO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return j4()||(u.referrerPolicy="no-referrer"),nO.fetch()(iO(t,t.config.apiHost,n,a),u)})}async function rO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r5),e);try{const i=new o5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Kd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kd(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tO(t,f,u);Er(t,f)}}catch(i){if(i instanceof Gr)throw i;Er(t,"network-request-failed",{message:String(i)})}}async function Xc(t,e,n,r,i={}){const s=await Ci(t,e,n,r,i);return"mfaPendingCredential"in s&&Er(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xb(t.config,i):`${t.config.apiScheme}://${i}`}function s5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),i5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}function TE(t){return t!==void 0&&t.enterprise!==void 0}class a5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function l5(t,e){return Ci(t,"GET","/v2/recaptchaConfig",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){return Ci(t,"POST","/v1/accounts:delete",e)}async function sO(t,e){return Ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c5(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=bb(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Au(Gg(i.auth_time)),issuedAtTime:Au(Gg(i.iat)),expirationTime:Au(Gg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gg(t){return Number(t)*1e3}function bb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const i=z2(n);return i?JSON.parse(i):(If("Failed to decode base64 JWT payload"),null)}catch(i){return If("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AE(t){const e=bb(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&d5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oa(t,sO(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oO(s.providerUserInfo):[],a=p5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function h5(t){const e=jt(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oO(t){return t.map(e=>{var{providerId:n}=e,r=yb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){const n=await rO(t,{},async()=>{const r=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g5(t,e){return Ci(t,"POST","/v2/accounts:revokeToken",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await m5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ma;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c5(this,e)}reload(){return h5(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Oa(this,u5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:x,emailVerified:N,isAnonymous:T,providerData:P,stsTokenManager:E}=n;xe(x&&E,e,"internal-error");const S=ma.fromJSON(this.name,E);xe(typeof x=="string",e,"internal-error"),Ui(h,e.name),Ui(p,e.name),xe(typeof N=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),Ui(m,e.name),Ui(y,e.name),Ui(w,e.name),Ui(_,e.name),Ui(b,e.name),Ui(v,e.name);const I=new ui({uid:x,auth:e,email:p,emailVerified:N,displayName:h,isAnonymous:T,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:b,lastLoginAt:v});return P&&Array.isArray(P)&&(I.providerData=P.map(C=>Object.assign({},C))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ma;i.updateFromServerResponse(n);const s=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ph(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ma;a.updateFromIdToken(r);const l=new ui({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function ci(t){Ti(t instanceof Function,"Expected a class definition");let e=PE.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aO.type="NONE";const IE=aO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(ci(IE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ci(IE);const o=Nf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const h=ui._fromJSON(e,f);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ga(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ga(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hO(e))return"Blackberry";if(pO(e))return"Webos";if(uO(e))return"Safari";if((e.includes("chrome/")||cO(e))&&!e.includes("edge/"))return"Chrome";if(fO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lO(t=dn()){return/firefox\//i.test(t)}function uO(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cO(t=dn()){return/crios\//i.test(t)}function dO(t=dn()){return/iemobile/i.test(t)}function fO(t=dn()){return/android/i.test(t)}function hO(t=dn()){return/blackberry/i.test(t)}function pO(t=dn()){return/webos/i.test(t)}function wb(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y5(t=dn()){var e;return wb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v5(){return R4()&&document.documentMode===10}function mO(t=dn()){return wb(t)||fO(t)||pO(t)||hO(t)||/windows phone/i.test(t)||dO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e=[]){let n;switch(t){case"Browser":n=NE(dn());break;case"Worker":n=`${NE(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",Ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=6;class _5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:w5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new x5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sO(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(mi(this));const n=e?jt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b5(this),n=new _5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(t){return jt(t)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=B4(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S5(t){Fp=t}function yO(t){return Fp.loadJS(t)}function T5(){return Fp.recaptchaEnterpriseScript}function A5(){return Fp.gapiScript}function P5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const I5="recaptcha-enterprise",N5="NO_RECAPTCHA";class O5{constructor(e){this.type=I5,this.auth=So(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{l5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new a5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;TE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(N5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&TE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T5();l.length!==0&&(l+=a),yO(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function jE(t,e,n,r=!1){const i=new O5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Iv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(dh(s,e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function C5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k5(t,e,n){const r=So(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=vO(e),{host:o,port:a}=R5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),D5()}function vO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R5(t){const e=vO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:CE(o)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function M5(t,e){return Ci(t,"POST","/v1/accounts:update",e)}async function $5(t,e){return Ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e){return Xc(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}async function F5(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends _b{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ec(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(e,n,"signInWithPassword",L5);case"emailLink":return V5(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(e,r,"signUpPassword",$5);case"emailLink":return F5(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return Xc(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="http://localhost";class mo extends _b{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=yb(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:U5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z5(t){const e=lu(uu(t)).link,n=e?lu(uu(e)).deep_link_id:null,r=lu(uu(t)).deep_link_id;return(r?lu(uu(r)).link:null)||r||n||e||t}class Eb{constructor(e){var n,r,i,s,o,a;const l=lu(uu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=B5((i=l.mode)!==null&&i!==void 0?i:null);xe(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=z5(e);try{return new Eb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Eb.parseLink(n);return xe(r,"argument-error"),ec._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends xO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Yc{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Yc{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Yc{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return Xc(t,"POST","/v1/accounts:signUp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ui._fromIdTokenResponse(e,r,i),o=kE(r);return new go({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kE(r);return new go({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mh(e,n,r,i)}}function bO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,s,e,r):s})}async function W5(t,e,n=!1){const r=await Oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const s=await Oa(t,bO(r,i,e,t),n);xe(s.idToken,r,"internal-error");const o=bb(s.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),go._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e,n=!1){if(kr(t.app))return Promise.reject(mi(t));const r="signIn",i=await bO(t,r,e),s=await go._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function K5(t,e){return wO(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sb(t,e,n){if(kr(t.app))return Promise.reject(mi(t));const r=So(t),o=await Iv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_O(t),l}),a=await go._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EO(t,e,n){return kr(t.app)?Promise.reject(mi(t)):K5(jt(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_O(t),r})}function SO(t,e){return G5(jt(t),null,e)}async function G5(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Oa(t,M5(r,s));await t._updateTokensIfNecessary(o,!0)}function Q5(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function X5(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function Y5(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function TO(t){return jt(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=1e3,Z5=10;class PO extends AO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);v5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PO.type="LOCAL";const eV=PO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO extends AO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IO.type="SESSION";const NO=IO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await tV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Tb("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function rV(t){Vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function iV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oV(){return OO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="firebaseLocalStorageDb",aV=1,yh="firebaseLocalStorage",CO="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bp(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function lV(){const t=indexedDB.deleteDatabase(jO);return new Jc(t).toPromise()}function Nv(){const t=indexedDB.open(jO,aV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yh,{keyPath:CO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await lV(),e(await Nv()))})})}async function RE(t,e,n){const r=Bp(t,!0).put({[CO]:e,value:n});return new Jc(r).toPromise()}async function uV(t,e){const n=Bp(t,!1).get(e),r=await new Jc(n).toPromise();return r===void 0?null:r.value}function DE(t,e){const n=Bp(t,!0).delete(e);return new Jc(n).toPromise()}const cV=800,dV=3;class kO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(oV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iV(),!this.activeServiceWorker)return;this.sender=new nV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nv();return await RE(e,gh,"1"),await DE(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bp(i,!1).getAll();return new Jc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kO.type="LOCAL";const fV=kO;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e){return e?ci(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends _b{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pV(t){return wO(t.auth,new Ab(t),t.bypassAuthState)}function mV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),H5(n,new Ab(t),t.bypassAuthState)}async function gV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),W5(n,new Ab(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return mV;default:Er(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Qc(2e3,1e4);class ra extends RO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Tb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yV.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="pendingRedirect",Of=new Map;class xV extends RO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await bV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bV(t,e){const n=EV(e),r=_V(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wV(t,e){Of.set(t._key(),e)}function _V(t){return ci(t._redirectPersistence)}function EV(t){return Nf(vV,t.config.apiKey,t.name)}async function SV(t,e,n=!1){if(kr(t.app))return Promise.reject(mi(t));const r=So(t),i=hV(r,e),o=await new xV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=10*60*1e3;class AV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e={}){return Ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OV=/^https?/;async function jV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IV(t);for(const n of e)try{if(CV(n))return}catch{}Er(t,"unauthorized-domain")}function CV(t){const e=Av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!OV.test(n))return!1;if(NV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Qc(3e4,6e4);function $E(){const t=Vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RV(t){return new Promise((e,n)=>{var r,i,s;function o(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(Lr(t,"network-request-failed"))},timeout:kV.get()})}if(!((i=(r=Vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vr().gapi)===null||s===void 0)&&s.load)o();else{const a=P5("iframefcb");return Vr()[a]=()=>{gapi.load?o():n(Lr(t,"network-request-failed"))},yO(`${A5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw jf=null,e})}let jf=null;function DV(t){return jf=jf||RV(t),jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new Qc(5e3,15e3),$V="__/auth/iframe",LV="emulator/auth/iframe",VV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UV(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xb(e,LV):`https://${t.config.authDomain}/${$V}`,r={apiKey:e.apiKey,appName:t.name,v:Eo},i=FV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gc(r).slice(1)}`}async function BV(t){const e=await DV(t),n=Vr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:UV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lr(t,"network-request-failed"),a=Vr().setTimeout(()=>{s(o)},MV.get());function l(){Vr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qV=500,WV=600,HV="_blank",KV="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GV(t,e,n,r=qV,i=WV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=dn().toLowerCase();n&&(a=cO(u)?HV:n),lO(u)&&(e=e||KV,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(y5(u)&&a!=="_self")return QV(e||"",a),new LE(null);const h=window.open(e||"",a,f);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new LE(h)}function QV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="__/auth/handler",YV="emulator/auth/handler",JV=encodeURIComponent("fac");async function VE(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(e instanceof xO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",U4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Yc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${JV}=${encodeURIComponent(l)}`:"";return`${ZV(t)}?${Gc(a).slice(1)}${u}`}function ZV({config:t}){return t.emulator?xb(t,YV):`https://${t.authDomain}/${XV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class e3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NO,this._completeRedirectFn=SV,this._overrideRedirectResult=wV}async _openPopup(e,n,r,i){var s;Ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await VE(e,n,r,Av(),i);return GV(e,o,Tb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VE(e,n,r,Av(),i);return rV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BV(e),r=new AV(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qg,{type:Qg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qg];o!==void 0&&n(!!o),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mO()||uO()||wb()}}const t3=e3;var FE="@firebase/auth",UE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i3(t){po(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gO(t)},u=new E5(r,i,s,l);return C5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),po(new ms("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new n3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(FE,UE,r3(t)),$r(FE,UE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=5*60,o3=K2("authIdTokenMaxAge")||s3;let BE=null;const a3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o3)return;const i=n==null?void 0:n.token;BE!==i&&(BE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MO(t=gb()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=j5(t,{popupRedirectResolver:t3,persistence:[fV,eV,NO]}),r=K2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=a3(s.toString());X5(n,o,()=>o(n.currentUser)),Q5(n,a=>o(a))}}const i=q2("auth");return i&&k5(n,`http://${i}`),n}function l3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",l3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i3("Browser");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,$O;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function I(){}I.prototype=S.prototype,E.D=S.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(C,k,j){for(var O=Array(arguments.length-2),q=2;q<arguments.length;q++)O[q-2]=arguments[q];return S.prototype[k].apply(C,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,I){I||(I=0);var C=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)C[k]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(k=0;16>k;++k)C[k]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=E.g[0],I=E.g[1],k=E.g[2];var j=E.g[3],O=S+(j^I&(k^j))+C[0]+3614090360&4294967295;S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[1]+3905402710&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[2]+606105819&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+C[4]+4118548399&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[5]+1200080426&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[6]+2821735955&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+C[8]+1770035416&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[9]+2336552879&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[10]+4294925233&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(j^I&(k^j))+C[12]+1804603682&4294967295,S=I+(O<<7&4294967295|O>>>25),O=j+(k^S&(I^k))+C[13]+4254626195&4294967295,j=S+(O<<12&4294967295|O>>>20),O=k+(I^j&(S^I))+C[14]+2792965006&4294967295,k=j+(O<<17&4294967295|O>>>15),O=I+(S^k&(j^S))+C[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=S+(k^j&(I^k))+C[1]+4129170786&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[6]+3225465664&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[11]+643717713&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+C[5]+3593408605&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[10]+38016083&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[15]+3634488961&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+C[9]+568446438&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[14]+3275163606&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[3]+4107603335&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(k^j&(I^k))+C[13]+2850285829&4294967295,S=I+(O<<5&4294967295|O>>>27),O=j+(I^k&(S^I))+C[2]+4243563512&4294967295,j=S+(O<<9&4294967295|O>>>23),O=k+(S^I&(j^S))+C[7]+1735328473&4294967295,k=j+(O<<14&4294967295|O>>>18),O=I+(j^S&(k^j))+C[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=S+(I^k^j)+C[5]+4294588738&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[8]+2272392833&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[11]+1839030562&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+C[1]+2763975236&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[4]+1272893353&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[7]+4139469664&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+C[13]+681279174&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[0]+3936430074&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[3]+3572445317&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(I^k^j)+C[9]+3654602809&4294967295,S=I+(O<<4&4294967295|O>>>28),O=j+(S^I^k)+C[12]+3873151461&4294967295,j=S+(O<<11&4294967295|O>>>21),O=k+(j^S^I)+C[15]+530742520&4294967295,k=j+(O<<16&4294967295|O>>>16),O=I+(k^j^S)+C[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=S+(k^(I|~j))+C[0]+4096336452&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[7]+1126891415&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[14]+2878612391&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+C[12]+1700485571&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[3]+2399980690&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[10]+4293915773&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+C[8]+1873313359&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[15]+4264355552&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[6]+2734768916&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=S+(k^(I|~j))+C[4]+4149444226&4294967295,S=I+(O<<6&4294967295|O>>>26),O=j+(I^(S|~k))+C[11]+3174756917&4294967295,j=S+(O<<10&4294967295|O>>>22),O=k+(S^(j|~I))+C[2]+718787259&4294967295,k=j+(O<<15&4294967295|O>>>17),O=I+(j^(k|~S))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var I=S-this.blockSize,C=this.B,k=this.h,j=0;j<S;){if(k==0)for(;j<=I;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(C[k++]=E.charCodeAt(j++),k==this.blockSize){i(this,C),k=0;break}}else for(;j<S;)if(C[k++]=E[j++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var I=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=I&255,I/=256;for(this.u(E),E=Array(16),S=I=0;4>S;++S)for(var C=0;32>C;C+=8)E[I++]=this.g[S]>>>C&255;return E};function s(E,S){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=S(E)}function o(E,S){this.h=S;for(var I=[],C=!0,k=E.length-1;0<=k;k--){var j=E[k]|0;C&&j==S||(I[k]=j,C=!1)}this.g=I}var a={};function l(E){return-128<=E&&128>E?s(E,function(S){return new o([S|0],0>S?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return _(u(-E));for(var S=[],I=1,C=0;E>=I;C++)S[C]=E/I|0,I*=4294967296;return new o(S,0)}function f(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return _(f(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),C=h,k=0;k<E.length;k+=8){var j=Math.min(8,E.length-k),O=parseInt(E.substring(k,k+j),S);8>j?(j=u(Math.pow(S,j)),C=C.j(j).add(u(O))):(C=C.j(I),C=C.add(u(O)))}return C}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var E=0,S=1,I=0;I<this.g.length;I++){var C=this.i(I);E+=(0<=C?C:4294967296+C)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(w(this))return"-"+_(this).toString(E);for(var S=u(Math.pow(E,6)),I=this,C="";;){var k=N(I,S).g;I=b(I,k.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=k,y(I))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function w(E){return E.h==-1}t.l=function(E){return E=b(this,E),w(E)?-1:y(E)?0:1};function _(E){for(var S=E.g.length,I=[],C=0;C<S;C++)I[C]=~E.g[C];return new o(I,~E.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0,k=0;k<=S;k++){var j=C+(this.i(k)&65535)+(E.i(k)&65535),O=(j>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);C=O>>>16,j&=65535,O&=65535,I[k]=O<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(E,S){return E.add(_(S))}t.j=function(E){if(y(this)||y(E))return h;if(w(this))return w(E)?_(this).j(_(E)):_(_(this).j(E));if(w(E))return _(this.j(_(E)));if(0>this.l(m)&&0>E.l(m))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,I=[],C=0;C<2*S;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<E.g.length;k++){var j=this.i(C)>>>16,O=this.i(C)&65535,q=E.i(k)>>>16,M=E.i(k)&65535;I[2*C+2*k]+=O*M,v(I,2*C+2*k),I[2*C+2*k+1]+=j*M,v(I,2*C+2*k+1),I[2*C+2*k+1]+=O*q,v(I,2*C+2*k+1),I[2*C+2*k+2]+=j*q,v(I,2*C+2*k+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new o(I,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function N(E,S){if(y(S))throw Error("division by zero");if(y(E))return new x(h,h);if(w(E))return S=N(_(E),S),new x(_(S.g),_(S.h));if(w(S))return S=N(E,_(S)),new x(_(S.g),S.h);if(30<E.g.length){if(w(E)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,C=S;0>=C.l(E);)I=T(I),C=T(C);var k=P(I,1),j=P(C,1);for(C=P(C,2),I=P(I,2);!y(C);){var O=j.add(C);0>=O.l(E)&&(k=k.add(I),j=O),C=P(C,1),I=P(I,1)}return S=b(E,k.j(S)),new x(k,S)}for(k=h;0<=E.l(S);){for(I=Math.max(1,Math.floor(E.m()/S.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=u(I),O=j.j(S);w(O)||0<O.l(E);)I-=C,j=u(I),O=j.j(S);y(j)&&(j=p),k=k.add(j),E=b(E,O)}return new x(k,E)}t.A=function(E){return N(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)&E.i(C);return new o(I,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)|E.i(C);return new o(I,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)^E.i(C);return new o(I,this.h^E.h)};function T(E){for(var S=E.g.length+1,I=[],C=0;C<S;C++)I[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(I,E.h)}function P(E,S){var I=S>>5;S%=32;for(var C=E.g.length-I,k=[],j=0;j<C;j++)k[j]=0<S?E.i(j+I)>>>S|E.i(j+I+1)<<32-S:E.i(j+I);return new o(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$O=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,to=o}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LO,cu,VO,Cf,Ov,FO,UO,BO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,A){return d==Array.prototype||d==Object.prototype||(d[g]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gd=="object"&&Gd];for(var g=0;g<d.length;++g){var A=d[g];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var A=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var z=d[R];if(!(z in A))break e;A=A[z]}d=d[d.length-1],R=A[d],g=g(R),g!=R&&g!=null&&e(A,d,{configurable:!0,writable:!0,value:g})}}function s(d,g){d instanceof String&&(d+="");var A=0,R=!1,z={next:function(){if(!R&&A<d.length){var H=A++;return{value:g(H,d[H]),done:!1}}return R=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(d){return d||function(){return s(this,function(g,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function u(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function f(d,g,A){return d.call.apply(d.bind,arguments)}function h(d,g,A){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,R),d.apply(g,z)}}return function(){return d.apply(g,arguments)}}function p(d,g,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function m(d,g){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,g){function A(){}A.prototype=g.prototype,d.aa=g.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(R,z,H){for(var ie=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ie[Ze-2]=arguments[Ze];return g.prototype[z].apply(R,ie)}}function w(d){const g=d.length;if(0<g){const A=Array(g);for(let R=0;R<g;R++)A[R]=d[R];return A}return[]}function _(d,g){for(let A=1;A<arguments.length;A++){const R=arguments[A];if(l(R)){const z=d.length||0,H=R.length||0;d.length=z+H;for(let ie=0;ie<H;ie++)d[z+ie]=R[ie]}else d.push(R)}}class b{constructor(g,A){this.i=g,this.j=A,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function N(d){return N[" "](d),d}N[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function P(d,g,A){for(const R in d)g.call(A,d[R],R,d)}function E(d,g){for(const A in d)g.call(void 0,d[A],A,d)}function S(d){const g={};for(const A in d)g[A]=d[A];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,g){let A,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(A in R)d[A]=R[A];for(let H=0;H<I.length;H++)A=I[H],Object.prototype.hasOwnProperty.call(R,A)&&(d[A]=R[A])}}function k(d){var g=1;d=d.split(":");const A=[];for(;0<g&&d.length;)A.push(d.shift()),g--;return d.length&&A.push(d.join(":")),A}function j(d){a.setTimeout(()=>{throw d},0)}function O(){var d=W;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class q{constructor(){this.h=this.g=null}add(g,A){const R=M.get();R.set(g,A),this.h?this.h.next=R:this.g=R,this.h=R}}var M=new b(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(g,A){this.h=g,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let G,F=!1,W=new q,V=()=>{const d=a.Promise.resolve(void 0);G=()=>{d.then(K)}};var K=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(A){j(A)}var g=M;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}F=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};a.addEventListener("test",A,g),a.removeEventListener("test",A,g)}catch{}return d}();function ne(d,g){if(L.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(T){e:{try{N(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else A=="mouseover"?g=d.fromElement:A=="mouseout"&&(g=d.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ne.aa.h.call(this)}}y(ne,L);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),De=0;function Z(d,g,A,R,z){this.listener=d,this.proxy=null,this.src=g,this.type=A,this.capture=!!R,this.ha=z,this.key=++De,this.da=this.fa=!1}function se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ae(d){this.src=d,this.g={},this.h=0}ae.prototype.add=function(d,g,A,R,z){var H=d.toString();d=this.g[H],d||(d=this.g[H]=[],this.h++);var ie=we(d,g,R,z);return-1<ie?(g=d[ie],A||(g.fa=!1)):(g=new Z(g,this.src,H,!!R,z),g.fa=A,d.push(g)),g};function Y(d,g){var A=g.type;if(A in d.g){var R=d.g[A],z=Array.prototype.indexOf.call(R,g,void 0),H;(H=0<=z)&&Array.prototype.splice.call(R,z,1),H&&(se(g),d.g[A].length==0&&(delete d.g[A],d.h--))}}function we(d,g,A,R){for(var z=0;z<d.length;++z){var H=d[z];if(!H.da&&H.listener==g&&H.capture==!!A&&H.ha==R)return z}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),We={};function Ke(d,g,A,R,z){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Ke(d,g[H],A,R,z);return null}return A=fe(A),d&&d[ge]?d.K(g,A,u(R)?!!R.capture:!!R,z):St(d,g,A,!1,R,z)}function St(d,g,A,R,z,H){if(!g)throw Error("Invalid event type");var ie=u(z)?!!z.capture:!!z,Ze=Wn(d);if(Ze||(d[ve]=Ze=new ae(d)),A=Ze.add(g,A,R,ie,H),A.proxy)return A;if(R=zn(),A.proxy=R,R.src=d,R.listener=A,d.addEventListener)X||(z=ie),z===void 0&&(z=!1),d.addEventListener(g.toString(),R,z);else if(d.attachEvent)d.attachEvent(qn(g.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function zn(){function d(A){return g.call(d.src,d.listener,A)}const g=Zt;return d}function cr(d,g,A,R,z){if(Array.isArray(g))for(var H=0;H<g.length;H++)cr(d,g[H],A,R,z);else R=u(R)?!!R.capture:!!R,A=fe(A),d&&d[ge]?(d=d.i,g=String(g).toString(),g in d.g&&(H=d.g[g],A=we(H,A,R,z),-1<A&&(se(H[A]),Array.prototype.splice.call(H,A,1),H.length==0&&(delete d.g[g],d.h--)))):d&&(d=Wn(d))&&(g=d.g[g.toString()],d=-1,g&&(d=we(g,A,R,z)),(A=-1<d?g[d]:null)&&Ir(A))}function Ir(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[ge])Y(g.i,d);else{var A=d.type,R=d.proxy;g.removeEventListener?g.removeEventListener(A,R,d.capture):g.detachEvent?g.detachEvent(qn(A),R):g.addListener&&g.removeListener&&g.removeListener(R),(A=Wn(g))?(Y(A,d),A.h==0&&(A.src=null,g[ve]=null)):se(d)}}}function qn(d){return d in We?We[d]:We[d]="on"+d}function Zt(d,g){if(d.da)d=!0;else{g=new ne(g,this);var A=d.listener,R=d.ha||d.src;d.fa&&Ir(d),d=A.call(R,g)}return d}function Wn(d){return d=d[ve],d instanceof ae?d:null}var Yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(d){return typeof d=="function"?d:(d[Yr]||(d[Yr]=function(g){return d.handleEvent(g)}),d[Yr])}function pe(){D.call(this),this.i=new ae(this),this.M=this,this.F=null}y(pe,D),pe.prototype[ge]=!0,pe.prototype.removeEventListener=function(d,g,A,R){cr(this,d,g,A,R)};function Se(d,g){var A,R=d.F;if(R)for(A=[];R;R=R.F)A.push(R);if(d=d.M,R=g.type||g,typeof g=="string")g=new L(g,d);else if(g instanceof L)g.target=g.target||d;else{var z=g;g=new L(R,d),C(g,z)}if(z=!0,A)for(var H=A.length-1;0<=H;H--){var ie=g.g=A[H];z=Le(ie,R,!0,g)&&z}if(ie=g.g=d,z=Le(ie,R,!0,g)&&z,z=Le(ie,R,!1,g)&&z,A)for(H=0;H<A.length;H++)ie=g.g=A[H],z=Le(ie,R,!1,g)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var A=d.g[g],R=0;R<A.length;R++)se(A[R]);delete d.g[g],d.h--}}this.F=null},pe.prototype.K=function(d,g,A,R){return this.i.add(String(d),g,!1,A,R)},pe.prototype.L=function(d,g,A,R){return this.i.add(String(d),g,!0,A,R)};function Le(d,g,A,R){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,H=0;H<g.length;++H){var ie=g[H];if(ie&&!ie.da&&ie.capture==A){var Ze=ie.listener,zt=ie.ha||ie.src;ie.fa&&Y(d.i,ie),z=Ze.call(zt,R)!==!1&&z}}return z&&!R.defaultPrevented}function en(d,g,A){if(typeof d=="function")A&&(d=p(d,A));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Jr(d){d.g=en(()=>{d.g=null,d.i&&(d.i=!1,Jr(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class st extends D{constructor(g,A){super(),this.m=g,this.l=A,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(d){D.call(this),this.h=d,this.g={}}y(ft,D);var js=[];function hd(d){P(d.g,function(g,A){this.g.hasOwnProperty(A)&&Ir(g)},d),d.g={}}ft.prototype.N=function(){ft.aa.N.call(this),hd(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=a.JSON.stringify,eg=a.JSON.parse,tg=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Al(){}Al.prototype.h=null;function ng(d){return d.h||(d.h=d.i())}function xn(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rg(){L.call(this,"d")}y(rg,L);function ig(){L.call(this,"c")}y(ig,L);var Cs={},g_=null;function pd(){return g_=g_||new pe}Cs.La="serverreachability";function y_(d){L.call(this,Cs.La,d)}y(y_,L);function Pl(d){const g=pd();Se(g,new y_(g))}Cs.STAT_EVENT="statevent";function v_(d,g){L.call(this,Cs.STAT_EVENT,d),this.stat=g}y(v_,L);function fn(d){const g=pd();Se(g,new v_(g,d))}Cs.Ma="timingevent";function x_(d,g){L.call(this,Cs.Ma,d),this.size=g}y(x_,L);function Il(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function Nl(){this.g=!0}Nl.prototype.xa=function(){this.g=!1};function AD(d,g,A,R,z,H){d.info(function(){if(d.g)if(H)for(var ie="",Ze=H.split("&"),zt=0;zt<Ze.length;zt++){var Ue=Ze[zt].split("=");if(1<Ue.length){var tn=Ue[0];Ue=Ue[1];var nn=tn.split("_");ie=2<=nn.length&&nn[1]=="type"?ie+(tn+"="+Ue+"&"):ie+(tn+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+g+`
`+A+`
`+ie})}function PD(d,g,A,R,z,H,ie){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+g+`
`+A+`
`+H+" "+ie})}function ko(d,g,A,R){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+ND(d,A)+(R?" "+R:"")})}function ID(d,g){d.info(function(){return"TIMEOUT: "+g})}Nl.prototype.info=function(){};function ND(d,g){if(!d.g)return g;if(!g)return null;try{var A=JSON.parse(g);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var R=A[d];if(!(2>R.length)){var z=R[1];if(Array.isArray(z)&&!(1>z.length)){var H=z[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Pe(A)}catch{return g}}var md={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},b_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sg;function gd(){}y(gd,Al),gd.prototype.g=function(){return new XMLHttpRequest},gd.prototype.i=function(){return{}},sg=new gd;function $i(d,g,A,R){this.j=d,this.i=g,this.l=A,this.R=R||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new w_}function w_(){this.i=null,this.g="",this.h=!1}var __={},og={};function ag(d,g,A){d.L=1,d.v=bd(ei(g)),d.m=A,d.P=!0,E_(d,null)}function E_(d,g){d.F=Date.now(),yd(d),d.A=ei(d.v);var A=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),$_(A.i,"t",R),d.C=0,A=d.j.J,d.h=new w_,d.g=t1(d.j,A?g:null,!d.m),0<d.O&&(d.M=new st(p(d.Y,d,d.g),d.O)),g=d.U,A=d.g,R=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(js[0]=z.toString()),z=js);for(var H=0;H<z.length;H++){var ie=Ke(A,z[H],R||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Pl(),AD(d.i,d.u,d.A,d.l,d.R,d.m)}$i.prototype.ca=function(d){d=d.target;const g=this.M;g&&ti(d)==3?g.j():this.Y(d)},$i.prototype.Y=function(d){try{if(d==this.g)e:{const nn=ti(this.g);var g=this.g.Ba();const Mo=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||q_(this.g)))){this.J||nn!=4||g==7||(g==8||0>=Mo?Pl(3):Pl(2)),lg(this);var A=this.g.Z();this.X=A;t:if(S_(this)){var R=q_(this.g);d="";var z=R.length,H=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),Ol(this);var ie="";break t}this.h.i=new a.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,d+=this.h.i.decode(R[g],{stream:!(H&&g==z-1)});R.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=A==200,PD(this.i,this.u,this.A,this.l,this.R,nn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,zt=this.g;if((Ze=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var Ue=Ze;break t}}Ue=null}if(A=Ue)ko(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ug(this,A);else{this.o=!1,this.s=3,fn(12),ks(this),Ol(this);break e}}if(this.P){A=!0;let dr;for(;!this.J&&this.C<ie.length;)if(dr=OD(this,ie),dr==og){nn==4&&(this.s=4,fn(14),A=!1),ko(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==__){this.s=4,fn(15),ko(this.i,this.l,ie,"[Invalid Chunk]"),A=!1;break}else ko(this.i,this.l,dr,null),ug(this,dr);if(S_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ie.length!=0||this.h.h||(this.s=1,fn(16),A=!1),this.o=this.o&&A,!A)ko(this.i,this.l,ie,"[Invalid Chunked Response]"),ks(this),Ol(this);else if(0<ie.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),mg(tn),tn.M=!0,fn(11))}}else ko(this.i,this.l,ie,null),ug(this,ie);nn==4&&ks(this),this.o&&!this.J&&(nn==4?Y_(this.j,this):(this.o=!1,yd(this)))}else KD(this.g),A==400&&0<ie.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),ks(this),Ol(this)}}}catch{}finally{}};function S_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function OD(d,g){var A=d.C,R=g.indexOf(`
`,A);return R==-1?og:(A=Number(g.substring(A,R)),isNaN(A)?__:(R+=1,R+A>g.length?og:(g=g.slice(R,R+A),d.C=R+A,g)))}$i.prototype.cancel=function(){this.J=!0,ks(this)};function yd(d){d.S=Date.now()+d.I,T_(d,d.I)}function T_(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Il(p(d.ba,d),g)}function lg(d){d.B&&(a.clearTimeout(d.B),d.B=null)}$i.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ID(this.i,this.A),this.L!=2&&(Pl(),fn(17)),ks(this),this.s=2,Ol(this)):T_(this,this.S-d)};function Ol(d){d.j.G==0||d.J||Y_(d.j,d)}function ks(d){lg(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,hd(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function ug(d,g){try{var A=d.j;if(A.G!=0&&(A.g==d||cg(A.h,d))){if(!d.K&&cg(A.h,d)&&A.G==3){try{var R=A.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Ad(A),Sd(A);else break e;pg(A),fn(18)}}else A.za=z[1],0<A.za-A.T&&37500>z[2]&&A.F&&A.v==0&&!A.C&&(A.C=Il(p(A.Za,A),6e3));if(1>=I_(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ds(A,11)}else if((d.K||A.g==d)&&Ad(A),!v(g))for(z=A.Da.g.parse(g),g=0;g<z.length;g++){let Ue=z[g];if(A.T=Ue[0],Ue=Ue[1],A.G==2)if(Ue[0]=="c"){A.K=Ue[1],A.ia=Ue[2];const tn=Ue[3];tn!=null&&(A.la=tn,A.j.info("VER="+A.la));const nn=Ue[4];nn!=null&&(A.Aa=nn,A.j.info("SVER="+A.Aa));const Mo=Ue[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(R=1.5*Mo,A.L=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const dr=d.g;if(dr){const Id=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Id){var H=R.h;H.g||Id.indexOf("spdy")==-1&&Id.indexOf("quic")==-1&&Id.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(dg(H,H.h),H.h=null))}if(R.D){const gg=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;gg&&(R.ya=gg,ot(R.I,R.D,gg))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),R=A;var ie=d;if(R.qa=e1(R,R.J?R.ia:null,R.W),ie.K){N_(R.h,ie);var Ze=ie,zt=R.L;zt&&(Ze.I=zt),Ze.B&&(lg(Ze),yd(Ze)),R.g=ie}else Q_(R);0<A.i.length&&Td(A)}else Ue[0]!="stop"&&Ue[0]!="close"||Ds(A,7);else A.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ds(A,7):hg(A):Ue[0]!="noop"&&A.l&&A.l.ta(Ue),A.v=0)}}Pl(4)}catch{}}var jD=class{constructor(d,g){this.g=d,this.map=g}};function A_(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function P_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function I_(d){return d.h?1:d.g?d.g.size:0}function cg(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function dg(d,g){d.g?d.g.add(g):d.h=g}function N_(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}A_.prototype.cancel=function(){if(this.i=O_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function O_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const A of d.g.values())g=g.concat(A.D);return g}return w(d.i)}function CD(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],A=d.length,R=0;R<A;R++)g.push(d[R]);return g}g=[],A=0;for(R in d)g[A++]=d[R];return g}function kD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var A=0;A<d;A++)g.push(A);return g}g=[],A=0;for(const R in d)g[A++]=R;return g}}}function j_(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var A=kD(d),R=CD(d),z=R.length,H=0;H<z;H++)g.call(void 0,R[H],A&&A[H],d)}var C_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RD(d,g){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var R=d[A].indexOf("="),z=null;if(0<=R){var H=d[A].substring(0,R);z=d[A].substring(R+1)}else H=d[A];g(H,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Rs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Rs){this.h=d.h,vd(this,d.j),this.o=d.o,this.g=d.g,xd(this,d.s),this.l=d.l;var g=d.i,A=new kl;A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),k_(this,A),this.m=d.m}else d&&(g=String(d).match(C_))?(this.h=!1,vd(this,g[1]||"",!0),this.o=jl(g[2]||""),this.g=jl(g[3]||"",!0),xd(this,g[4]),this.l=jl(g[5]||"",!0),k_(this,g[6]||"",!0),this.m=jl(g[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}Rs.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Cl(g,R_,!0),":");var A=this.g;return(A||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Cl(g,R_,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Cl(A,A.charAt(0)=="/"?$D:MD,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Cl(A,VD)),d.join("")};function ei(d){return new Rs(d)}function vd(d,g,A){d.j=A?jl(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function xd(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function k_(d,g,A){g instanceof kl?(d.i=g,FD(d.i,d.h)):(A||(g=Cl(g,LD)),d.i=new kl(g,d.h))}function ot(d,g,A){d.i.set(g,A)}function bd(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function jl(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Cl(d,g,A){return typeof d=="string"?(d=encodeURI(d).replace(g,DD),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function DD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var R_=/[#\/\?@]/g,MD=/[#\?:]/g,$D=/[#\?]/g,LD=/[#\?@]/g,VD=/#/g;function kl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Li(d){d.g||(d.g=new Map,d.h=0,d.i&&RD(d.i,function(g,A){d.add(decodeURIComponent(g.replace(/\+/g," ")),A)}))}t=kl.prototype,t.add=function(d,g){Li(this),this.i=null,d=Ro(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(g),this.h+=1,this};function D_(d,g){Li(d),g=Ro(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function M_(d,g){return Li(d),g=Ro(d,g),d.g.has(g)}t.forEach=function(d,g){Li(this),this.g.forEach(function(A,R){A.forEach(function(z){d.call(g,z,R,this)},this)},this)},t.na=function(){Li(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),A=[];for(let R=0;R<g.length;R++){const z=d[R];for(let H=0;H<z.length;H++)A.push(g[R])}return A},t.V=function(d){Li(this);let g=[];if(typeof d=="string")M_(this,d)&&(g=g.concat(this.g.get(Ro(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)g=g.concat(d[A])}return g},t.set=function(d,g){return Li(this),this.i=null,d=Ro(this,d),M_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function $_(d,g,A){D_(d,g),0<A.length&&(d.i=null,d.g.set(Ro(d,g),w(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var A=0;A<g.length;A++){var R=g[A];const H=encodeURIComponent(String(R)),ie=this.V(R);for(R=0;R<ie.length;R++){var z=H;ie[R]!==""&&(z+="="+encodeURIComponent(String(ie[R]))),d.push(z)}}return this.i=d.join("&")};function Ro(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function FD(d,g){g&&!d.j&&(Li(d),d.i=null,d.g.forEach(function(A,R){var z=R.toLowerCase();R!=z&&(D_(this,R),$_(this,z,A))},d)),d.j=g}function UD(d,g){const A=new Nl;if(a.Image){const R=new Image;R.onload=m(Vi,A,"TestLoadImage: loaded",!0,g,R),R.onerror=m(Vi,A,"TestLoadImage: error",!1,g,R),R.onabort=m(Vi,A,"TestLoadImage: abort",!1,g,R),R.ontimeout=m(Vi,A,"TestLoadImage: timeout",!1,g,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else g(!1)}function BD(d,g){const A=new Nl,R=new AbortController,z=setTimeout(()=>{R.abort(),Vi(A,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:R.signal}).then(H=>{clearTimeout(z),H.ok?Vi(A,"TestPingServer: ok",!0,g):Vi(A,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Vi(A,"TestPingServer: error",!1,g)})}function Vi(d,g,A,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(A)}catch{}}function zD(){this.g=new tg}function qD(d,g,A){const R=A||"";try{j_(d,function(z,H){let ie=z;u(z)&&(ie=Pe(z)),g.push(R+H+"="+encodeURIComponent(ie))})}catch(z){throw g.push(R+"type="+encodeURIComponent("_badmap")),z}}function wd(d){this.l=d.Ub||null,this.j=d.eb||!1}y(wd,Al),wd.prototype.g=function(){return new _d(this.l,this.j)},wd.prototype.i=function(d){return function(){return d}}({});function _d(d,g){pe.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(_d,pe),t=_d.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Dl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;L_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function L_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Rl(this):Dl(this),this.readyState==3&&L_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Rl(this))},t.Qa=function(d){this.g&&(this.response=d,Rl(this))},t.ga=function(){this.g&&Rl(this)};function Rl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Dl(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var A=g.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=g.next();return d.join(`\r
`)};function Dl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function V_(d){let g="";return P(d,function(A,R){g+=R,g+=":",g+=A,g+=`\r
`}),g}function fg(d,g,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=V_(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):ot(d,g,A))}function xt(d){pe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(xt,pe);var WD=/^https?$/i,HD=["POST","PUT"];t=xt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sg.g(),this.v=this.o?ng(this.o):ng(sg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(H){F_(this,H);return}if(d=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)A.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const H of R.keys())A.set(H,R.get(H));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(H=>H.toLowerCase()=="content-type"),z=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HD,g,void 0))||R||z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of A)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z_(this),this.u=!0,this.g.send(d),this.u=!1}catch(H){F_(this,H)}};function F_(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,U_(d),Ed(d)}function U_(d){d.A||(d.A=!0,Se(d,"complete"),Se(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Se(this,"complete"),Se(this,"abort"),Ed(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ed(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?B_(this):this.bb())},t.bb=function(){B_(this)};function B_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ti(d)!=4||d.Z()!=2)){if(d.u&&ti(d)==4)en(d.Ea,0,d);else if(Se(d,"readystatechange"),ti(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var A;if(!(A=g)){var R;if(R=ie===0){var z=String(d.D).match(C_)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),R=!WD.test(z?z.toLowerCase():"")}A=R}if(A)Se(d,"complete"),Se(d,"success");else{d.m=6;try{var H=2<ti(d)?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.Z()+"]",U_(d)}}finally{Ed(d)}}}}function Ed(d,g){if(d.g){z_(d);const A=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Se(d,"ready");try{A.onreadystatechange=R}catch{}}}function z_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ti(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),eg(g)}};function q_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function KD(d){const g={};d=(d.g&&2<=ti(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(v(d[R]))continue;var A=k(d[R]);const z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const H=g[z]||[];g[z]=H,H.push(A)}E(g,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(d,g,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||g}function W_(d){this.Aa=0,this.i=[],this.j=new Nl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,d),this.cb=Ml("retryDelaySeedMs",1e4,d),this.Wa=Ml("forwardChannelMaxRetries",2,d),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new A_(d&&d.concurrentRequestLimit),this.Da=new zD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W_.prototype,t.la=8,t.G=1,t.connect=function(d,g,A,R){fn(0),this.W=d,this.H=g||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.I=e1(this,null,this.W),Td(this)};function hg(d){if(H_(d),d.G==3){var g=d.U++,A=ei(d.I);if(ot(A,"SID",d.K),ot(A,"RID",g),ot(A,"TYPE","terminate"),$l(d,A),g=new $i(d,d.j,g),g.L=2,g.v=bd(ei(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=g.v,A=!0),A||(g.g=t1(g.j,null),g.g.ea(g.v)),g.F=Date.now(),yd(g)}Z_(d)}function Sd(d){d.g&&(mg(d),d.g.cancel(),d.g=null)}function H_(d){Sd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Ad(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Td(d){if(!P_(d.h)&&!d.s){d.s=!0;var g=d.Ga;G||V(),F||(G(),F=!0),W.add(g,d),d.B=0}}function GD(d,g){return I_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Il(p(d.Ga,d,g),J_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new $i(this,this.j,d);let H=this.o;if(this.S&&(H?(H=S(H),C(H,this.S)):H=this.S),this.m!==null||this.O||(z.H=H,H=null),this.P)e:{for(var g=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=A;break e}if(g===4096||A===this.i.length-1){g=A+1;break e}}g=1e3}else g=1e3;g=G_(this,z,g),A=ei(this.I),ot(A,"RID",d),ot(A,"CVER",22),this.D&&ot(A,"X-HTTP-Session-Id",this.D),$l(this,A),H&&(this.O?g="headers="+encodeURIComponent(String(V_(H)))+"&"+g:this.m&&fg(A,this.m,H)),dg(this.h,z),this.Ua&&ot(A,"TYPE","init"),this.P?(ot(A,"$req",g),ot(A,"SID","null"),z.T=!0,ag(z,A,null)):ag(z,A,g),this.G=2}}else this.G==3&&(d?K_(this,d):this.i.length==0||P_(this.h)||K_(this))};function K_(d,g){var A;g?A=g.l:A=d.U++;const R=ei(d.I);ot(R,"SID",d.K),ot(R,"RID",A),ot(R,"AID",d.T),$l(d,R),d.m&&d.o&&fg(R,d.m,d.o),A=new $i(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),g&&(d.i=g.D.concat(d.i)),g=G_(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),dg(d.h,A),ag(A,R,g)}function $l(d,g){d.H&&P(d.H,function(A,R){ot(g,R,A)}),d.l&&j_({},function(A,R){ot(g,R,A)})}function G_(d,g,A){A=Math.min(d.i.length,A);var R=d.l?p(d.l.Na,d.l,d):null;e:{var z=d.i;let H=-1;for(;;){const ie=["count="+A];H==-1?0<A?(H=z[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let Ze=!0;for(let zt=0;zt<A;zt++){let Ue=z[zt].g;const tn=z[zt].map;if(Ue-=H,0>Ue)H=Math.max(0,z[zt].g-100),Ze=!1;else try{qD(tn,ie,"req"+Ue+"_")}catch{R&&R(tn)}}if(Ze){R=ie.join("&");break e}}}return d=d.i.splice(0,A),g.D=d,R}function Q_(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;G||V(),F||(G(),F=!0),W.add(g,d),d.v=0}}function pg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Il(p(d.Fa,d),J_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,X_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Il(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),Sd(this),X_(this))};function mg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function X_(d){d.g=new $i(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=ei(d.qa);ot(g,"RID","rpc"),ot(g,"SID",d.K),ot(g,"AID",d.T),ot(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(g,"TO",d.ja),ot(g,"TYPE","xmlhttp"),$l(d,g),d.m&&d.o&&fg(g,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=bd(ei(g)),A.m=null,A.P=!0,E_(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Sd(this),pg(this),fn(19))};function Ad(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Y_(d,g){var A=null;if(d.g==g){Ad(d),mg(d),d.g=null;var R=2}else if(cg(d.h,g))A=g.D,N_(d.h,g),R=1;else return;if(d.G!=0){if(g.o)if(R==1){A=g.m?g.m.length:0,g=Date.now()-g.F;var z=d.B;R=pd(),Se(R,new x_(R,A)),Td(d)}else Q_(d);else if(z=g.s,z==3||z==0&&0<g.X||!(R==1&&GD(d,g)||R==2&&pg(d)))switch(A&&0<A.length&&(g=d.h,g.i=g.i.concat(A)),z){case 1:Ds(d,5);break;case 4:Ds(d,10);break;case 3:Ds(d,6);break;default:Ds(d,2)}}}function J_(d,g){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*g}function Ds(d,g){if(d.j.info("Error code "+g),g==2){var A=p(d.fb,d),R=d.Xa;const z=!R;R=new Rs(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vd(R,"https"),bd(R),z?UD(R.toString(),A):BD(R.toString(),A)}else fn(2);d.G=0,d.l&&d.l.sa(g),Z_(d),H_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Z_(d){if(d.G=0,d.ka=[],d.l){const g=O_(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function e1(d,g,A){var R=A instanceof Rs?ei(A):new Rs(A);if(R.g!="")g&&(R.g=g+"."+R.g),xd(R,R.s);else{var z=a.location;R=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var H=new Rs(null);R&&vd(H,R),g&&(H.g=g),z&&xd(H,z),A&&(H.l=A),R=H}return A=d.D,g=d.ya,A&&g&&ot(R,A,g),ot(R,"VER",d.la),$l(d,R),R}function t1(d,g,A){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new xt(new wd({eb:A})):new xt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n1(){}t=n1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pd(){}Pd.prototype.g=function(d,g){return new jn(d,g)};function jn(d,g){pe.call(this),this.g=new W_(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!v(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Do(this)}y(jn,pe),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){hg(this.g)},jn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Pe(d),d=A);g.i.push(new jD(g.Ya++,d)),g.G==3&&Td(g)},jn.prototype.N=function(){this.g.l=null,delete this.j,hg(this.g),delete this.g,jn.aa.N.call(this)};function r1(d){rg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const A in g){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(r1,rg);function i1(){ig.call(this),this.status=1}y(i1,ig);function Do(d){this.g=d}y(Do,n1),Do.prototype.ua=function(){Se(this.g,"a")},Do.prototype.ta=function(d){Se(this.g,new r1(d))},Do.prototype.sa=function(d){Se(this.g,new i1)},Do.prototype.ra=function(){Se(this.g,"b")},Pd.prototype.createWebChannel=Pd.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,BO=function(){return new Pd},UO=function(){return pd()},FO=Cs,Ov={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},md.NO_ERROR=0,md.TIMEOUT=8,md.HTTP_ERROR=6,Cf=md,b_.COMPLETE="complete",VO=b_,xn.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",pe.prototype.listen=pe.prototype.K,cu=xn,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,LO=xt}).apply(typeof Gd<"u"?Gd:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new hb("@firebase/firestore");function Hl(){return yo.logLevel}function he(t,...e){if(yo.logLevel<=ke.DEBUG){const n=e.map(Pb);yo.debug(`Firestore (${dl}): ${t}`,...n)}}function Ai(t,...e){if(yo.logLevel<=ke.ERROR){const n=e.map(Pb);yo.error(`Firestore (${dl}): ${t}`,...n)}}function ja(t,...e){if(yo.logLevel<=ke.WARN){const n=e.map(Pb);yo.warn(`Firestore (${dl}): ${t}`,...n)}}function Pb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function Qe(t,e){t||_e()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class c3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d3{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new zO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new an(e)}}class f3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new p3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=g3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function Ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Mt(0,0))}static max(){return new Te(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends tc{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends tc{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}function v3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new gs(i,me.empty(),e)}function x3(t){return new gs(t.readTime,t.key,-1)}class gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gs(Te.min(),me.empty(),-1)}static max(){return new gs(Te.max(),me.empty(),-1)}}function b3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==w3)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function E3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ib.oe=-1;function zp(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function S3(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Xt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HO("Invalid base64 string: "+s):s}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const T3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=T3.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ob(t){const e=t.mapValue.fields.__previous_value__;return Nb(e)?Ob(e):e}function nc(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nb(t)?4:I3(t)?9007199254740991:P3(t)?10:11:_e()}function Wr(t,e){if(t===e)return!0;const n=xo(t);if(n!==xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ys(i.timestampValue),a=ys(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vo(i.bytesValue).isEqual(vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Tt(i.doubleValue),a=Tt(s.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(WE(o)!==WE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wr(o[l],a[l])))return!1;return!0}(t,e);default:return _e()}}function ic(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function ka(t,e){if(t===e)return 0;const n=xo(t),r=xo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Tt(s.integerValue||s.doubleValue),l=Tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return KE(t.timestampValue,e.timestampValue);case 4:return KE(nc(t),nc(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vo(s),l=vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Be(a[u],l[u]);if(f!==0)return f}return Be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Be(Tt(s.latitude),Tt(o.latitude));return a!==0?a:Be(Tt(s.longitude),Tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const h=s.fields||{},p=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=Be(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:GE(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Xd.mapValue&&o===Xd.mapValue)return 0;if(s===Xd.mapValue)return 1;if(o===Xd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const p=Be(l[h],f[h]);if(p!==0)return p;const m=ka(a[l[h]],u[f[h]]);if(m!==0)return m}return Be(l.length,f.length)}(t.mapValue,e.mapValue);default:throw _e()}}function KE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=ys(t),r=ys(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function GE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ka(n[i],r[i]);if(s)return s}return Be(n.length,r.length)}function Ra(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jv(n.fields[o])}`;return i+"}"}(t.mapValue):_e()}function QE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cv(t){return!!t&&"integerValue"in t}function jb(t){return!!t&&"arrayValue"in t}function XE(t){return!!t&&"nullValue"in t}function YE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kf(t){return!!t&&"mapValue"in t}function P3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function I3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(Pu(this.value))}}function KO(t){const e=[];return To(t.fields,(n,r)=>{const i=new Gt([n]);if(kf(r)){const s=KO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,Te.min(),Te.min(),Te.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new un(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new un(e,2,n,Te.min(),Te.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Te.min(),Te.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function JE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=ka(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function N3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GO=class{};class Nt extends GO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j3(e,n,r):n==="array-contains"?new R3(e,r):n==="in"?new D3(e,r):n==="not-in"?new M3(e,r):n==="array-contains-any"?new $3(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C3(e,r):new k3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ka(n,this.value)):n!==null&&xo(this.value)===xo(n)&&this.matchesComparison(ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends GO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return QO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QO(t){return t.op==="and"}function XO(t){return O3(t)&&QO(t)}function O3(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function kv(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Ra(t.value);if(XO(t))return t.filters.map(e=>kv(e)).join(",");{const e=t.filters.map(n=>kv(n)).join(",");return`${t.op}(${e})`}}function YO(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YO(o,i.filters[a]),!0):!1}(t,e):void _e()}function JO(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ra(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(JO).join(" ,")+"}"}(t):"Filter"}class j3 extends Nt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class C3 extends Nt{constructor(e,n){super(e,"in",n),this.keys=ZO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k3 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=ZO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class R3 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jb(n)&&ic(n.arrayValue,this.value)}}class D3 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class M3 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ic(this.value.arrayValue,n)}}class $3 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function eS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new L3(t,e,n,r,i,s,o)}function Cb(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ra(r)).join(",")),e.ue=n}return e.ue}function kb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function Rv(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function V3(t,e,n,r,i,s,o,a){return new fl(t,e,n,r,i,s,o,a)}function Rb(t){return new fl(t)}function tS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ej(t){return t.collectionGroup!==null}function Iu(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xt(Gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sc(s,r))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new sc(Gt.keyField(),r))}return e.ce}function Fr(t){const e=Ae(t);return e.le||(e.le=F3(e,Iu(t))),e.le}function F3(t,e){if(t.limitType==="F")return eS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sc(i.field,s)});const n=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;return eS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dv(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mv(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qp(t,e){return kb(Fr(t),Fr(e))&&t.limitType===e.limitType}function tj(t){return`${Cb(Fr(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JO(i)).join(", ")}]`),zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`}(Fr(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Iu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=JE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Iu(r),i)||r.endAt&&!function(o,a,l){const u=JE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Iu(r),i))}(t,e)}function U3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nj(t){return(e,n)=>{let r=!1;for(const i of Iu(t)){const s=B3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B3(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ka(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new vt(me.comparator);function Pi(){return z3}const rj=new vt(me.comparator);function du(...t){let e=rj;for(const n of t)e=e.insert(n.key,n);return e}function ij(t){let e=rj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return Nu()}function sj(){return Nu()}function Nu(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const q3=new vt(me.comparator),W3=new Xt(me.comparator);function Ce(...t){let e=W3;for(const n of t)e=e.add(n);return e}const H3=new Xt(Be);function K3(){return H3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function oj(t){return{integerValue:""+t}}function G3(t,e){return S3(e)?oj(e):Db(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this._=void 0}}function Q3(t,e,n){return t instanceof bh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nb(s)&&(s=Ob(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oc?lj(t,e):t instanceof ac?uj(t,e):function(i,s){const o=aj(i,s),a=nS(o)+nS(i.Pe);return Cv(o)&&Cv(i.Pe)?oj(a):Db(i.serializer,a)}(t,e)}function X3(t,e,n){return t instanceof oc?lj(t,e):t instanceof ac?uj(t,e):n}function aj(t,e){return t instanceof wh?function(r){return Cv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bh extends Hp{}class oc extends Hp{constructor(e){super(),this.elements=e}}function lj(t,e){const n=cj(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends Hp{constructor(e){super(),this.elements=e}}function uj(t,e){let n=cj(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class wh extends Hp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nS(t){return Tt(t.integerValue||t.doubleValue)}function cj(t){return jb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?Ca(r.elements,i.elements,Wr):r instanceof wh&&i instanceof wh?Wr(r.Pe,i.Pe):r instanceof bh&&i instanceof bh}(t.transform,e.transform)}class J3{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kp{}function dj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mb(t.key,ir.none()):new td(t.key,t.data,ir.none());{const n=t.data,r=wn.empty();let i=new Xt(Gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ts(t.key,r,new $n(i.toArray()),ir.none())}}function Z3(t,e,n){t instanceof td?function(i,s,o){const a=i.value.clone(),l=iS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ts?function(i,s,o){if(!Rf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=iS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(fj(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ou(t,e,n,r){return t instanceof td?function(s,o,a,l){if(!Rf(s.precondition,o))return a;const u=s.value.clone(),f=sS(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ts?function(s,o,a,l){if(!Rf(s.precondition,o))return a;const u=sS(s.fieldTransforms,l,o),f=o.data;return f.setAll(fj(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Rf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function e6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aj(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function rS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,(s,o)=>Y3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class td extends Kp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends Kp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iS(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,X3(o,a,n[i]))}return r}function sS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Q3(s,o,e))}return r}class Mb extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t6 extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dj(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>rS(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>rS(n,r))}}class $b{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return q3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $b(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Me;function s6(t){switch(t){default:return _e();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function hj(t){if(t===void 0)return Ai("GRPC error has no .code"),J.UNKNOWN;switch(t){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return _e()}}(Me=Pt||(Pt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new to([4294967295,4294967295],0);function oS(t){const e=o6().encode(t),n=new $O;return n.update(e),new Uint8Array(n.digest())}function aS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new to([n,r],0),new to([i,s],0)]}class Lb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=to.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(to.fromNumber(r)));return i.compare(a6)===1&&(i=new to([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=oS(e),[r,i]=aS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=oS(e),[r,i]=aS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gp(Te.min(),i,new vt(Be),Pi(),Ce())}}class nd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nd(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pj{constructor(e,n){this.targetId=e,this.me=n}}class mj{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lS{constructor(){this.fe=0,this.ge=cS(),this.pe=Jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new nd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=cS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class l6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=uS(),this.Qe=new vt(Be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Rv(s))if(r===0){const o=new me(s.path);this.Ue(n,o,un.newNoDocument(o,Te.min()))}else Qe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vo(r).toUint8Array()}catch(l){if(l instanceof HO)return ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Lb(o,i,s)}catch(l){return ja(l instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Rv(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,un.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ce();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Gp(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=uS(),this.Qe=new vt(Be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function uS(){return new vt(me.comparator)}function cS(){return new vt(me.comparator)}const u6={asc:"ASCENDING",desc:"DESCENDING"},c6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d6={and:"AND",or:"OR"};class f6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $v(t,e){return t.useProto3Json||zp(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h6(t,e){return _h(t,e.toTimestamp())}function Ur(t){return Qe(!!t),Te.fromTimestamp(function(n){const r=ys(n);return new Mt(r.seconds,r.nanos)}(t))}function Vb(t,e){return Lv(t,e).canonicalString()}function Lv(t,e){const n=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yj(t){const e=ct.fromString(t);return Qe(_j(e)),e}function Vv(t,e){return Vb(t.databaseId,e.path)}function Xg(t,e){const n=yj(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(xj(n))}function vj(t,e){return Vb(t.databaseId,e)}function p6(t){const e=yj(t);return e.length===4?ct.emptyPath():xj(e)}function Fv(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xj(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dS(t,e,n){return{name:Vv(t,e),fields:n.value.mapValue.fields}}function m6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Qe(f===void 0||typeof f=="string"),Jt.fromBase64String(f||"")):(Qe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Jt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?J.UNKNOWN:hj(u.code);return new ue(f,u.message||"")}(o);n=new mj(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xg(t,r.document.name),s=Ur(r.document.updateTime),o=r.document.createTime?Ur(r.document.createTime):Te.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Df(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xg(t,r.document),s=r.readTime?Ur(r.readTime):Te.min(),o=un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Df([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xg(t,r.document),s=r.removedTargetIds||[];n=new Df([],s,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new i6(i,s),a=r.targetId;n=new pj(a,o)}}return n}function g6(t,e){let n;if(e instanceof td)n={update:dS(t,e.key,e.value)};else if(e instanceof Mb)n={delete:Vv(t,e.key)};else if(e instanceof Ts)n={update:dS(t,e.key,e.data),updateMask:T6(e.fieldMask)};else{if(!(e instanceof t6))return _e();n={verify:Vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e()}(t,e.precondition)),n}function y6(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ur(i.updateTime):Ur(s);return o.isEqual(Te.min())&&(o=Ur(s)),new J3(o,i.transformResults||[])}(n,e))):[]}function v6(t,e){return{documents:[vj(t,e.path)]}}function x6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vj(t,i);const s=function(u){if(u.length!==0)return wj(Sr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:Uo(p.field),direction:_6(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$v(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function b6(t){let e=p6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const p=bj(h);return p instanceof Sr&&XO(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new sc(Bo(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,zp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new xh(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new xh(m,p)}(n.endAt)),V3(e,i,o,s,a,"F",l,u)}function w6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bo(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bo(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bo(n.unaryFilter.field);return Nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bo(n.unaryFilter.field);return Nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>bj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function _6(t){return u6[t]}function E6(t){return c6[t]}function S6(t){return d6[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return Gt.fromServerFormat(t.fieldPath)}function wj(t){return t instanceof Nt?function(n){if(n.op==="=="){if(YE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(XE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(XE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:E6(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>wj(i));return r.length===1?r[0]:{compositeFilter:{op:S6(n.op),filters:r}}}(t):_e()}function T6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _j(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.ct=e}}function P6(t){const e=b6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.un=new N6}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(gs.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class N6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xt(ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Da(0)}static kn(){return new Da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ou(r.mutation,i,$n.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=du();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pi();const o=Nu(),a=function(){return Nu()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ts)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Ou(f.mutation,u,f.mutation.getFieldMask(),Mt.now())):o.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new j6(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nu();let i=new vt((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||$n.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=sj();f.forEach(p=>{if(!s.has(p)){const m=dj(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ej(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(Qs());let a=-1,l=s;return o.next(u=>ee.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?ee.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ce())).next(f=>({batchId:a,changes:ij(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=du();return this.indexManager.getCollectionParents(e,s).next(a=>ee.forEach(a,l=>{const u=function(h,p){return new fl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,un.newInvalidDocument(f)))});let a=du();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&Ou(f.mutation,u,$n.empty(),Mt.now()),Wp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:P6(i.bundledQuery),readTime:Ur(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.overlays=new vt(me.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Qs(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Qs(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=Qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ee.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r6(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ce(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.Tr=new Xt(Lt.Er),this.dr=new Xt(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new ct([])),r=new Lt(n,e),i=new Lt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new ct([])),r=new Lt(n,e),i=new Lt(n,e+1);let s=Ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Be(e.wr,n.wr)}static Ar(e,n){return Be(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(Lt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(Be);return n.forEach(i=>{const s=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Lt(new me(s),0);let a=new Xt(Be);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ee.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const s=new Lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Lt(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.Mr=e,this.docs=function(){return new vt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pi();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||b3(x3(f),r)<=0||(i.has(f.key)||Wp(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L6(this)}getSize(e){return ee.resolve(this.size)}}class L6 extends O6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.persistence=e,this.Nr=new hl(n=>Cb(n),kb),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fb,this.targetCount=0,this.kr=Da.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Da(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ib(0),this.Kr=!1,this.Kr=!0,this.$r=new D6,this.referenceDelegate=e(this),this.Ur=new V6(this),this.indexManager=new I6,this.remoteDocumentCache=function(i){return new $6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new A6(n),this.Gr=new k6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new M6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new U6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class U6 extends _3{constructor(e){super(),this.currentSequenceNumber=e}}class Ub{constructor(e){this.persistence=e,this.Jr=new Fb,this.Yr=null}static Zr(e){return new Ub(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Bb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return D4()?8:E3(dn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new B6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Hl()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Hl()<=ke.DEBUG&&he("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Hl()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):ee.resolve())}Yi(e,n){if(tS(n))return ee.resolve(null);let r=Fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mv(n,null,"F"),r=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Mv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return tS(n)||i.isEqual(Te.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ee.resolve(null):(Hl()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fo(n)),this.rs(e,o,n,v3(i,-1)).next(a=>a))})}ts(e,n){let r=new Xt(nj(e));return n.forEach((i,s)=>{Wp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Hl()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,gs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new vt(Be),this._s=new hl(s=>Cb(s),kb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function W6(t,e,n,r){return new q6(t,e,n,r)}async function Ej(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ce();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function H6(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const h=u.batch,p=h.keys();let m=ee.resolve();return p.forEach(y=>{m=m.next(()=>f.getEntry(l,y)).next(w=>{const _=u.docVersions.get(y);Qe(_!==null),w.version.compareTo(_)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),f.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sj(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function K6(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(h,m),function(w,_,b){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,f)&&a.push(n.Ur.updateTargetData(s,m))});let l=Pi(),u=Ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(G6(s,o,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(Te.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return ee.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function G6(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Q6(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X6(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Uv(t,e,n){const r=Ae(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ed(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function fS(t,e,n){const r=Ae(t);let i=Te.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const h=Ae(l),p=h._s.get(f);return p!==void 0?ee.resolve(h.os.get(p)):h.Ur.getTargetData(u,f)}(r,o,Fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Ce())).next(a=>(Y6(r,U3(e),a),{documents:a,Ts:s})))}function Y6(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class hS{constructor(){this.activeTargetIds=K3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J6{constructor(){this.so=new hS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function Yg(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class nF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Yg(),l=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(f=>(he("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw ja("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=eF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Yg();return new Promise((o,a)=>{const l=new LO;l.setWithCredentials(!0),l.listenOnce(VO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cf.NO_ERROR:const f=l.getResponseJson();he(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Cf.TIMEOUT:he(on,`RPC '${e}' ${s} timed out`),a(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const h=l.getStatus();if(he(on,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(b)>=0?b:J.UNKNOWN}(m.status);a(new ue(y,m.message))}else a(new ue(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(J.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{he(on,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);he(on,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Yg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BO(),a=UO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");he(on,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=o.createWebChannel(f,l);let p=!1,m=!1;const y=new tF({Io:_=>{m?he(on,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(he(on,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),he(on,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),w=(_,b,v)=>{_.listen(b,x=>{try{v(x)}catch(N){setTimeout(()=>{throw N},0)}})};return w(h,cu.EventType.OPEN,()=>{m||(he(on,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),w(h,cu.EventType.CLOSE,()=>{m||(m=!0,he(on,`RPC '${e}' stream ${i} transport closed`),y.So())}),w(h,cu.EventType.ERROR,_=>{m||(m=!0,ja(on,`RPC '${e}' stream ${i} transport errored:`,_),y.So(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),w(h,cu.EventType.MESSAGE,_=>{var b;if(!m){const v=_.data[0];Qe(!!v);const x=v,N=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(N){he(on,`RPC '${e}' stream ${i} received error:`,N);const T=N.status;let P=function(I){const C=Pt[I];if(C!==void 0)return hj(C)}(T),E=N.message;P===void 0&&(P=J.INTERNAL,E="Unknown error status: "+T+" with message "+N.message),m=!0,y.So(new ue(P,E)),h.close()}else he(on,`RPC '${e}' stream ${i} received:`,v),y.bo(v)}}),w(a,FO.STAT_EVENT,_=>{_.stat===Ov.PROXY?he(on,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ov.NOPROXY&&he(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return new f6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rF extends Aj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=m6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?Ur(o.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Fv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Rv(l)?{documents:v6(s,l)}:{query:x6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gj(s,o.resumeToken);const u=$v(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=_h(s,o.snapshotVersion.toTimestamp());const u=$v(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=w6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Fv(this.serializer),n.removeTarget=e,this.a_(n)}}class iF extends Aj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=y6(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Fv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Lv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(J.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Lv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(J.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ao(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.L_.add(4),await rd(u),u.q_.set("Unknown"),u.L_.delete(4),await Xp(u)}(this))})}),this.q_=new oF(r,i)}}async function Xp(t){if(Ao(t))for(const e of t.B_)await e(!0)}async function rd(t){for(const e of t.B_)await e(!1)}function Pj(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hb(n)?Wb(n):pl(n).r_()&&qb(n,e))}function zb(t,e){const n=Ae(t),r=pl(n);n.N_.delete(e),r.r_()&&Ij(n,e),n.N_.size===0&&(r.r_()?r.o_():Ao(n)&&n.q_.set("Unknown"))}function qb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).A_(e)}function Ij(t,e){t.Q_.xe(e),pl(t).R_(e)}function Wb(t){t.Q_=new l6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.q_.v_()}function Hb(t){return Ao(t)&&!pl(t).n_()&&t.N_.size>0}function Ao(t){return Ae(t).L_.size===0}function Nj(t){t.Q_=void 0}async function lF(t){t.q_.set("Online")}async function uF(t){t.N_.forEach((e,n)=>{qb(t,e)})}async function cF(t,e){Nj(t),Hb(t)?(t.q_.M_(e),Wb(t)):t.q_.set("Unknown")}async function dF(t,e,n){if(t.q_.set("Online"),e instanceof mj&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(t,r)}else if(e instanceof Df?t.Q_.Ke(e):e instanceof pj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await Sj(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Jt.EMPTY_BYTE_STRING,f.snapshotVersion)),Ij(s,l);const h=new Zi(f.target,l,u,f.sequenceNumber);qb(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Eh(t,r)}}async function Eh(t,e,n){if(!ed(e))throw e;t.L_.add(1),await rd(t),t.q_.set("Offline"),n||(n=()=>Sj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xp(t)})}function Oj(t,e){return e().catch(n=>Eh(t,n,e))}async function Yp(t){const e=Ae(t),n=vs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fF(e);)try{const i=await Q6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,hF(e,i)}catch(i){await Eh(e,i)}jj(e)&&Cj(e)}function fF(t){return Ao(t)&&t.O_.length<10}function hF(t,e){t.O_.push(e);const n=vs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jj(t){return Ao(t)&&!vs(t).n_()&&t.O_.length>0}function Cj(t){vs(t).start()}async function pF(t){vs(t).p_()}async function mF(t){const e=vs(t);for(const n of t.O_)e.m_(n.mutations)}async function gF(t,e,n){const r=t.O_.shift(),i=$b.from(r,e,n);await Oj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yp(t)}async function yF(t,e){e&&vs(t).V_&&await async function(r,i){if(function(o){return s6(o)&&o!==J.ABORTED}(i.code)){const s=r.O_.shift();vs(r).s_(),await Oj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yp(r)}}(t,e),jj(t)&&Cj(t)}async function mS(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.L_.add(3),await rd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xp(n)}async function vF(t,e){const n=Ae(t);e?(n.L_.delete(2),await Xp(n)):e||(n.L_.add(2),await rd(n),n.q_.set("Unknown"))}function pl(t){return t.K_||(t.K_=function(n,r,i){const s=Ae(n);return s.w_(),new rF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:lF.bind(null,t),Ro:uF.bind(null,t),mo:cF.bind(null,t),d_:dF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hb(t)?Wb(t):t.q_.set("Unknown")):(await t.K_.stop(),Nj(t))})),t.K_}function vs(t){return t.U_||(t.U_=function(n,r,i){const s=Ae(n);return s.w_(),new iF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pF.bind(null,t),mo:yF.bind(null,t),f_:mF.bind(null,t),g_:gF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yp(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Kb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gb(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),ed(t))return new ue(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=du(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.W_=new vt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ma{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ma(e,n,va.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bF{constructor(){this.queries=yS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ae(n),s=i.queries;i.queries=yS(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function yS(){return new hl(t=>tj(t),qp)}async function kj(t,e){const n=Ae(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new xF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Gb(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Qb(n)}async function Rj(t,e){const n=Ae(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wF(t,e){const n=Ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Qb(n)}function _F(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Qb(t){t.Y_.forEach(e=>{e.next()})}var Bv,vS;(vS=Bv||(Bv={})).ea="default",vS.Cache="cache";class Dj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.key=e}}class $j{constructor(e){this.key=e}}class EF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=nj(e),this.Ra=new va(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new gS,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const p=i.get(f),m=Wp(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),_=!0):this.ga(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(m,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return w(m)-w(y)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ma(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new $j(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Mj(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ma.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TF{constructor(e){this.key=e,this.va=!1}}class AF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hl(a=>tj(a),qp),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(me.comparator),this.Na=new Map,this.La=new Fb,this.Ba={},this.ka=new Map,this.qa=Da.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PF(t,e,n=!0){const r=zj(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Lj(r,e,n,!0),i}async function IF(t,e){const n=zj(t);await Lj(n,e,!0,!1)}async function Lj(t,e,n,r){const i=await X6(t.localStore,Fr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await NF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Pj(t.remoteStore,i),a}async function NF(t,e,n,r,i){t.Ka=(h,p,m)=>async function(w,_,b,v){let x=_.view.ma(b);x.ns&&(x=await fS(w.localStore,_.query,!1).then(({documents:E})=>_.view.ma(E,x)));const N=v&&v.targetChanges.get(_.targetId),T=v&&v.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(x,w.isPrimaryClient,N,T);return bS(w,_.targetId,P.wa),P.snapshot}(t,h,p,m);const s=await fS(t.localStore,e,!0),o=new EF(e,s.Ts),a=o.ma(s.documents),l=nd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);bS(t,n,u.wa);const f=new SF(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function OF(t,e,n){const r=Ae(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!qp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zb(r.remoteStore,i.targetId),zv(r,i.targetId)}).catch(Zc)):(zv(r,i.targetId),await Uv(r.localStore,i.targetId,!0))}async function jF(t,e){const n=Ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zb(n.remoteStore,r.targetId))}async function CF(t,e,n){const r=VF(t);try{const i=await function(o,a){const l=Ae(o),u=Mt.now(),f=a.reduce((m,y)=>m.add(y.key),Ce());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Pi(),w=Ce();return l.cs.getEntries(m,f).next(_=>{y=_,y.forEach((b,v)=>{v.isValidDocument()||(w=w.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(_=>{h=_;const b=[];for(const v of a){const x=e6(v,h.get(v.key).overlayedDocument);x!=null&&b.push(new Ts(v.key,x,KO(x.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,a)}).next(_=>{p=_;const b=_.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,_.batchId,b)})}).then(()=>({batchId:p.batchId,changes:ij(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new vt(Be)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await id(r,i.changes),await Yp(r.remoteStore)}catch(i){const s=Gb(i,"Failed to persist write");n.reject(s)}}async function Vj(t,e){const n=Ae(t);try{const r=await K6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Qe(o.va):i.removedDocuments.size>0&&(Qe(o.va),o.va=!1))}),await id(n,r,e)}catch(r){await Zc(r)}}function xS(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ae(o);l.onlineState=a;let u=!1;l.queries.forEach((f,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&Qb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kF(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new vt(me.comparator);o=o.insert(s,un.newNoDocument(s,Te.min()));const a=Ce().add(s),l=new Gp(Te.min(),new Map,new vt(Be),o,a);await Vj(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Xb(r)}else await Uv(r.localStore,e,!1).then(()=>zv(r,e,n)).catch(Zc)}async function RF(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await H6(n.localStore,e);Uj(n,r,null),Fj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await id(n,i)}catch(i){await Zc(i)}}async function DF(t,e,n){const r=Ae(t);try{const i=await function(o,a){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Qe(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);Uj(r,e,n),Fj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await id(r,i)}catch(i){await Zc(i)}}function Fj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Uj(t,e,n){const r=Ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Bj(t,r)})}function Bj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Xb(t))}function bS(t,e,n){for(const r of n)r instanceof Mj?(t.La.addReference(r.key,e),MF(t,r)):r instanceof $j?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Bj(t,r.key)):_e()}function MF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),Xb(t))}function Xb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(ct.fromString(e)),r=t.qa.next();t.Na.set(r,new TF(n)),t.Oa=t.Oa.insert(n,r),Pj(t.remoteStore,new Zi(Fr(Rb(n.path)),r,"TargetPurposeLimboResolution",Ib.oe))}}async function id(t,e,n){const r=Ae(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Bb.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const f=Ae(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ee.forEach(u,p=>ee.forEach(p.$i,m=>f.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>ee.forEach(p.Ui,m=>f.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!ed(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=f.os.get(p),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);f.os=f.os.insert(p,w)}}}(r.localStore,s))}async function $F(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await Ej(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(J.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await id(n,r.hs)}}function LF(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function zj(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kF.bind(null,e),e.Ca.d_=wF.bind(null,e.eventManager),e.Ca.$a=_F.bind(null,e.eventManager),e}function VF(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DF.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return W6(this.persistence,new z6,e.initialUser,this.serializer)}Ga(e){return new F6(Ub.Zr,this.serializer)}Wa(e){return new J6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$F.bind(null,this.syncEngine),await vF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bF}()}createDatastore(e){const n=Qp(e.databaseInfo.databaseId),r=function(s){return new nF(s)}(e.databaseInfo);return function(s,o,a,l){return new sF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new aF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xS(this.syncEngine,n,0),function(){return pS.D()?new pS:new Z6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const h=new AF(i,s,o,a,l,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ae(i);he("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await rd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=qO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zg(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ej(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UF(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mS(e.remoteStore,i)),t._onlineComponents=e}async function UF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Zg(t,new Sh)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Zg(t,new Sh);return t._offlineComponents}async function Wj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await wS(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await wS(t,new qv))),t._onlineComponents}function BF(t){return Wj(t).then(e=>e.syncEngine)}async function Hj(t){const e=await Wj(t),n=e.eventManager;return n.onListen=PF.bind(null,e.syncEngine),n.onUnlisten=OF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jF.bind(null,e.syncEngine),n}function zF(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new qj({next:p=>{f.Za(),o.enqueueAndForget(()=>Rj(s,h));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Dj(Rb(a.path),f,{includeMetadataChanges:!0,_a:!0});return kj(s,h)}(await Hj(t),t.asyncQueue,e,n,r)),r.promise}function qF(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new qj({next:p=>{f.Za(),o.enqueueAndForget(()=>Rj(s,h)),p.fromCache&&l.source==="server"?u.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Dj(a,f,{includeMetadataChanges:!0,_a:!0});return kj(s,h)}(await Hj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,n,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ES(t){if(!me.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SS(t){if(me.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(t);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u3;switch(r.type){case"firstParty":return new h3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_S.get(n);r&&(he("ComponentProvider","Removing Datastore"),_S.delete(n),r.terminate())}(this),Promise.resolve()}}function HF(t,e,n,r={}){var i;const s=(t=Tr(t,Zp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=G2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new c3(new zO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class ds extends Po{constructor(e,n,r){super(e,n,Rb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new me(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function be(t,e,...n){if(t=jt(t),Gj("collection","path",e),t instanceof Zp){const r=ct.fromString(e,...n);return SS(r),new ds(t,null,r)}{if(!(t instanceof gn||t instanceof ds))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return SS(r),new ds(t.firestore,null,r)}}function _t(t,e,...n){if(t=jt(t),arguments.length===1&&(e=qO.newId()),Gj("doc","path",e),t instanceof Zp){const r=ct.fromString(e,...n);return ES(r),new gn(t,null,new me(r))}{if(!(t instanceof gn||t instanceof ds))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return ES(r),new gn(t.firestore,t instanceof ds?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tj(this,"async_queue_retry"),this.Vu=()=>{const r=Jg();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new gi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ed(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Kb.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Io extends Zp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new AS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AS(e),this._firestoreClient=void 0,await e}}}function KF(t,e){const n=typeof t=="object"?t:gb(),r=typeof t=="string"?t:"(default)",i=Vp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=W2("firestore");s&&HF(i,...s)}return i}function Yb(t){if(t._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GF(t),t._firestoreClient}function GF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new A3(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Kj(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(Jt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $a(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=/^__.*__$/;class XF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new td(e,this.data,n,this.fieldTransforms)}}class Qj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class tw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Xj(this.Cu)&&QF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qp(e)}Qu(e,n,r,i=!1){return new tw({Cu:e,methodName:n,qu:r,path:Gt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(t){const e=t._freezeSettings(),n=Qp(t._databaseId);return new YF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yj(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);nw("Data must be an object, but it was:",o,r);const a=Jj(r,o);let l,u;if(s.merge)l=new $n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const p=Wv(e,h,n);if(!o.contains(p))throw new ue(J.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);eC(f,p)||f.push(p)}l=new $n(f),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new XF(new wn(a),l,u)}class nm extends Jb{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nm}}function JF(t,e,n,r){const i=t.Qu(1,e,n);nw("Data must be an object, but it was:",i,r);const s=[],o=wn.empty();To(r,(l,u)=>{const f=rw(e,l,n);u=jt(u);const h=i.Nu(f);if(u instanceof nm)s.push(f);else{const p=sd(u,h);p!=null&&(s.push(f),o.set(f,p))}});const a=new $n(s);return new Qj(o,a,i.fieldTransforms)}function ZF(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Wv(e,r,n)],l=[i];if(s.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Wv(e,s[p])),l.push(s[p+1]);const u=[],f=wn.empty();for(let p=a.length-1;p>=0;--p)if(!eC(u,a[p])){const m=a[p];let y=l[p];y=jt(y);const w=o.Nu(m);if(y instanceof nm)u.push(m);else{const _=sd(y,w);_!=null&&(u.push(m),f.set(m,_))}}const h=new $n(u);return new Qj(f,h,o.fieldTransforms)}function eU(t,e,n,r=!1){return sd(n,t.Qu(r?4:3,e))}function sd(t,e){if(Zj(t=jt(t)))return nw("Unsupported field value:",e,t),Jj(t,e);if(t instanceof Jb)return function(r,i){if(!Xj(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=sd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mt.fromDate(r);return{timestampValue:_h(i.serializer,s)}}if(r instanceof Mt){const s=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,s)}}if(r instanceof Zb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:gj(i.serializer,r._byteString)};if(r instanceof gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ew)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Db(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Jp(r)}`)}(t,e)}function Jj(t,e){const n={};return WO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{const s=sd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Zj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Zb||t instanceof $a||t instanceof gn||t instanceof Jb||t instanceof ew)}function nw(t,e,n){if(!Zj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Wv(t,e,n){if((e=jt(e))instanceof em)return e._internalPath;if(typeof e=="string")return rw(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const tU=new RegExp("[~\\*/\\[\\]]");function rw(t,e,n){if(e.search(tU)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new em(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(J.INVALID_ARGUMENT,a+t+l)}function eC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nU extends tC{data(){return super.data()}}function rm(t,e){return typeof e=="string"?rw(t,e):e instanceof em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}class nC extends iw{}function Ve(t,e,...n){let r=[];e instanceof iw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof sw).length,a=s.filter(l=>l instanceof im).length;if(o>1||o>0&&a>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class im extends nC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new im(e,n,r)}_apply(e){const n=this._parse(e);return rC(e._query,n),new Po(e.firestore,e.converter,Dv(e._query,n))}_parse(e){const n=tm(e.firestore);return function(s,o,a,l,u,f,h){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){IS(h,f);const m=[];for(const y of h)m.push(PS(l,s,y));p={arrayValue:{values:m}}}else p=PS(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||IS(h,f),p=eU(a,o,h,f==="in"||f==="not-in");return Nt.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $e(t,e,n){const r=e,i=rm("where",t);return im._create(i,r,n)}class sw extends iw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)rC(o,l),o=Dv(o,l)}(e._query,n),new Po(e.firestore,e.converter,Dv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ow extends nC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ow(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sc(s,o)}(e._query,this._field,this._direction);return new Po(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new fl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function iU(t,e="asc"){const n=e,r=rm("orderBy",t);return ow._create(r,n)}function PS(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ej(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!me.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QE(t,new me(r))}if(n instanceof gn)return QE(t,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jp(n)}.`)}function IS(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sU{convertValue(e,n="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Tt(o.doubleValue));return new ew(s)}convertGeoPoint(e){return new Zb(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ob(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Qe(_j(r));const i=new rc(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sC extends tC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mf extends sC{data(e={}){return super.data(e)}}class oU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mf(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Mf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Mf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:aU(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){t=Tr(t,gn);const e=Tr(t.firestore,Io);return zF(Yb(e),t._key).then(n=>lU(e,t,n))}class oC extends sU{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Oe(t){t=Tr(t,Po);const e=Tr(t.firestore,Io),n=Yb(e),r=new oC(e);return rU(t._query),qF(n,t._query).then(i=>new oU(e,r,t,i))}function pu(t,e,n){t=Tr(t,gn);const r=Tr(t.firestore,Io),i=iC(t.converter,e);return sm(r,[Yj(tm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ir.none())])}function En(t,e,n,...r){t=Tr(t,gn);const i=Tr(t.firestore,Io),s=tm(i);let o;return o=typeof(e=jt(e))=="string"||e instanceof em?ZF(s,"updateDoc",t._key,e,n,r):JF(s,"updateDoc",t._key,e),sm(i,[o.toMutation(t._key,ir.exists(!0))])}function xa(t){return sm(Tr(t.firestore,Io),[new Mb(t._key,ir.none())])}function xs(t,e){const n=Tr(t.firestore,Io),r=_t(t),i=iC(t.converter,e);return sm(n,[Yj(tm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function sm(t,e){return function(r,i){const s=new gi;return r.asyncQueue.enqueueAndForget(async()=>CF(await BF(r),i,s)),s.promise}(Yb(t),e)}function lU(t,e,n){const r=n.docs.get(e._key),i=new oC(t);return new sC(t,i,e._key,r,new hu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){dl=i})(Eo),po(new ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Io(new d3(r.getProvider("auth-internal")),new m3(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$r(qE,"4.7.3",e),$r(qE,"4.7.3","esm2017")})();var uU="firebase",cU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(uU,cU,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebasestorage.googleapis.com",dU="storageBucket",fU=2*60*1e3,hU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Gr{constructor(e,n,r=0){super(ey(e),`Firebase Storage: ${n} (${ey(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hr||(Hr={}));function ey(t){return"storage/"+t}function pU(){const t="An unknown error occurred, please check the error payload for server response.";return new Qr(Hr.UNKNOWN,t)}function mU(){return new Qr(Hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gU(){return new Qr(Hr.CANCELED,"User canceled the upload/download.")}function yU(t){return new Qr(Hr.INVALID_URL,"Invalid URL '"+t+"'.")}function vU(t){return new Qr(Hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function NS(t){return new Qr(Hr.INVALID_ARGUMENT,t)}function lC(){return new Qr(Hr.APP_DELETED,"The Firebase app was deleted.")}function xU(t){return new Qr(Hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vr.makeFromUrl(e,n)}catch{return new vr(e,"")}if(r.path==="")return r;throw vU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${f}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},w=n===aC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp(`^https?://${w}/${i}/${_}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<x.length;N++){const T=x[N],P=T.regex.exec(e);if(P){const E=P[T.indices.bucket];let S=P[T.indices.path];S||(S=""),r=new vr(E,S),T.postModify(r);break}}if(r==null)throw yU(e);return r}}class bU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function f(..._){u||(u=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function p(){s&&clearTimeout(s)}function m(_,...b){if(u){p();return}if(_){p(),f.call(null,_,...b);return}if(l()||o){p(),f.call(null,_,...b);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let y=!1;function w(_){y||(y=!0,p(),!u&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function _U(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){return t!==void 0}function OS(t,e,n,r){if(r<e)throw NS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw NS(`Invalid value for '${t}'. Expected ${n} or less.`)}function SU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ah;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ah||(Ah={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n,r,i,s,o,a,l,u,f,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Jd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ah.NO_ERROR,l=s.getStatus();if(!a||TU(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Ah.ABORT;r(!1,new Jd(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Jd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=pU();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?lC():gU();o(l)}else{const l=mU();o(l)}};this.canceled_?n(!1,new Jd(!1,null,!0)):this.backoffId_=wU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_U(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jU(t,e,n,r,i,s,o=!0){const a=SU(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return NU(u,e),PU(u,n),IU(u,s),OU(u,r),new AU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this._service=e,n instanceof vr?this._location=n:this._location=vr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ph(e,n)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kU(this._location.path)}get storage(){return this._service}get parent(){const e=CU(this._location.path);if(e===null)return null;const n=new vr(this._location.bucket,e);return new Ph(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xU(e)}}function jS(t,e){const n=e==null?void 0:e[dU];return n==null?null:vr.makeFromBucketSpec(n,t)}function RU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:G2(i,t.app.options.projectId))}class DU{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=aC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fU,this._maxUploadRetryTime=hU,this._requests=new Set,i!=null?this._bucket=vr.makeFromBucketSpec(i,this._host):this._bucket=jS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=jS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ph(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new bU(lC());{const o=jU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const CS="@firebase/storage",kS="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="storage";function MU(t=gb(),e){t=jt(t);const r=Vp(t,uC).getImmediate({identifier:e}),i=W2("storage");return i&&$U(r,...i),r}function $U(t,e,n,r={}){RU(t,e,n,r)}function LU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new DU(n,r,i,e,Eo)}function VU(){po(new ms(uC,LU,"PUBLIC").setMultipleInstances(!0)),$r(CS,kS,""),$r(CS,kS,"esm2017")}VU();const FU={apiKey:"AIzaSyCbEoR07MXBiYZZ1HM3aEzP0GzNpJOulsY",authDomain:"aisp-lab.firebaseapp.com",projectId:"aisp-lab",storageBucket:"aisp-lab.firebasestorage.app",messagingSenderId:"412257840376",appId:"1:412257840376:web:8bc3debdb459bb72dd9f0d",measurementId:"G-YZ1QG04P9L"},aw=mb(FU),ia=MO(aw),le=KF(aw);MU(aw);const cC=$.createContext(void 0),Ar=()=>{const t=$.useContext(cC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},UU=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(null),[s,o]=$.useState(!0),a=async(h,p)=>{await EO(ia,h,p)},l=async(h,p,m,y)=>{const _=(await Sb(ia,h,p)).user,b={uid:_.uid,email:_.email,name:m,role:y,passwordChanged:y==="faculty"};await pu(_t(le,"users",_.uid),b)},u=async()=>{await TO(ia)};$.useEffect(()=>Y5(ia,async p=>{if(n(p),p)try{console.log("User authenticated:",p.email,"UID:",p.uid);const m=await zo(_t(le,"users",p.uid));if(m.exists()){const y=m.data();if(console.log("Found user document:",y),y.role==="student"){console.log("Student login detected, syncing data for:",y.email);const w=Ve(be(le,"students"),$e("email","==",y.email)),_=await Oe(w);if(_.empty)console.log("No student data found for email:",y.email),i(y);else{const b=_.docs[0].data();console.log("Found student data:",b);const v={...y,name:b.name,rollNo:b.rollNo,section:b.section,facultyId:b.facultyId,passwordChanged:b.passwordChanged||y.passwordChanged};await pu(_t(le,"users",p.uid),v),console.log("Updated user profile:",v),i(v)}}else console.log("Faculty login detected"),i(y)}else{console.log("No user document found, checking if student by email:",p.email);const y=p.email;if(y){const w=Ve(be(le,"facultyAccess"),$e("facultyId","==",p.uid)),_=await Oe(w);if(!_.empty){console.log("Found faculty access for user");const x=_.docs[0].data(),N={uid:p.uid,email:y,name:x.facultyName,role:"faculty",passwordChanged:!0,primaryFacultyId:x.primaryFacultyId};await pu(_t(le,"users",p.uid),N),i(N),console.log("Created faculty profile:",N)}console.log("Searching for student by email:",y);const b=Ve(be(le,"students"),$e("email","==",y)),v=await Oe(b);if(v.empty)console.log("No faculty access found, searching for student by email:",y),console.log("No student found by email search"),i(null);else{const x=v.docs[0].data();console.log("Found student by email search:",x);const N={uid:p.uid,email:y,name:x.name,role:"student",rollNo:x.rollNo,section:x.section,facultyId:x.facultyId,passwordChanged:x.passwordChanged||!1};await pu(_t(le,"users",p.uid),N),console.log("Created student profile:",N),i(N)}}}}catch(m){console.error("Error fetching user profile:",m),i(null)}else console.log("No user authenticated"),i(null);o(!1)}),[]);const f={currentUser:e,userProfile:r,login:a,signup:l,logout:u,loading:s};return c.jsx(cC.Provider,{value:f,children:!s&&t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>$.createElement("svg",{ref:f,...BU,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${zU(t)}`,a].join(" "),...u},[...e.map(([h,p])=>$.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Ee("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Ee("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Ee("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Ee("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function sB(){const{login:t,signup:e}=Ar(),[n,r]=$.useState(!1),[i,s]=$.useState("faculty"),[o,a]=$.useState(!1),[l,u]=$.useState(!1),[f,h]=$.useState({email:"",password:"",confirmPassword:"",name:"",rollNo:""}),[p,m]=$.useState(!1),[y,w]=$.useState(""),_=async v=>{v.preventDefault(),w(""),m(!0);try{if(n){if(f.password!==f.confirmPassword)throw new Error("Passwords do not match");await e(f.email,f.password,f.name,"faculty")}else console.log("Attempting login with:",f.email,"User type:",i),await t(f.email,f.password)}catch(x){console.error("Login error:",x),w(x.message)}finally{m(!1)}},b=()=>{h({email:"",password:"",confirmPassword:"",name:"",rollNo:""}),w("")};return c.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-teal-800 via-emerald-800 to-cyan-800 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute -top-32 -left-32 w-64 h-64 bg-gradient-to-r from-teal-400/30 to-cyan-400/30 rounded-full blur-3xl animate-modern-float"}),c.jsx("div",{className:"absolute -top-16 -right-16 w-48 h-48 bg-gradient-to-r from-emerald-400/25 to-teal-400/25 rounded-full blur-2xl animate-modern-float",style:{animationDelay:"2s"}}),c.jsx("div",{className:"absolute -bottom-32 -left-16 w-56 h-56 bg-gradient-to-r from-cyan-400/20 to-blue-400/20 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"4s"}}),c.jsx("div",{className:"absolute -bottom-16 -right-32 w-40 h-40 bg-gradient-to-r from-teal-400/35 to-emerald-400/35 rounded-full blur-2xl animate-modern-float",style:{animationDelay:"6s"}}),c.jsx("div",{className:"absolute top-1/2 -left-20 w-72 h-72 bg-gradient-to-r from-emerald-300/20 to-cyan-300/20 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute top-1/4 -right-24 w-80 h-80 bg-gradient-to-r from-teal-300/15 to-emerald-300/15 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"3s"}}),c.jsx("div",{className:"absolute bottom-1/2 -right-20 w-60 h-60 bg-gradient-to-r from-cyan-300/25 to-blue-300/25 rounded-full blur-3xl animate-modern-float",style:{animationDelay:"5s"}}),c.jsx("div",{className:"absolute top-1/4 left-1/6 w-32 h-32 bg-gradient-to-r from-cyan-400/40 to-teal-400/40 rounded-full blur-xl animate-modern-float",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute top-1/3 right-1/4 w-24 h-24 bg-gradient-to-r from-emerald-400/30 to-cyan-400/30 rounded-full blur-lg animate-modern-float",style:{animationDelay:"3s"}}),c.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-28 h-28 bg-gradient-to-r from-teal-400/35 to-emerald-400/35 rounded-full blur-xl animate-modern-float",style:{animationDelay:"5s"}}),c.jsx("div",{className:"absolute bottom-1/4 right-1/5 w-20 h-20 bg-gradient-to-r from-cyan-400/45 to-blue-400/45 rounded-full blur-lg animate-modern-float",style:{animationDelay:"7s"}}),c.jsx("div",{className:"absolute top-1/6 left-1/2 w-36 h-36 bg-gradient-to-r from-emerald-400/25 to-teal-400/25 rounded-full blur-xl animate-modern-float",style:{animationDelay:"2s"}}),c.jsx("div",{className:"absolute top-2/3 left-1/6 w-44 h-44 bg-gradient-to-r from-cyan-400/20 to-emerald-400/20 rounded-full blur-2xl animate-modern-float",style:{animationDelay:"4s"}}),c.jsx("div",{className:"absolute bottom-1/6 right-1/3 w-32 h-32 bg-gradient-to-r from-teal-400/30 to-cyan-400/30 rounded-full blur-xl animate-modern-float",style:{animationDelay:"6s"}}),Array.from({length:35}).map((v,x)=>c.jsx("div",{className:"absolute w-4 h-4 bg-gradient-to-r from-teal-400/60 to-cyan-400/60 rounded-full animate-modern-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`,animationDuration:`${4+Math.random()*4}s`}},x)),Array.from({length:25}).map((v,x)=>c.jsx("div",{className:"absolute w-2 h-2 bg-gradient-to-r from-emerald-400/40 to-cyan-400/40 rounded-full animate-modern-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${3+Math.random()*5}s`}},`tiny-${x}`)),c.jsx("div",{className:"absolute top-20 left-20 w-16 h-16 border-2 border-teal-400/40 rotate-45 animate-modern-float rounded-lg"}),c.jsx("div",{className:"absolute top-32 right-32 w-12 h-12 bg-gradient-to-r from-emerald-400/30 to-teal-400/30 rounded-full animate-modern-float",style:{animationDelay:"2s"}}),c.jsx("div",{className:"absolute bottom-32 left-32 w-20 h-20 border-2 border-cyan-400/50 animate-modern-float rounded-xl",style:{animationDelay:"4s"}}),c.jsx("div",{className:"absolute bottom-20 right-20 w-8 h-8 bg-gradient-to-r from-teal-400/40 to-cyan-400/40 rotate-45 animate-modern-float rounded-md",style:{animationDelay:"6s"}}),c.jsx("div",{className:"absolute top-1/3 left-1/4 w-14 h-14 border-2 border-emerald-400/35 rotate-12 animate-modern-float rounded-lg",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute top-3/4 right-1/4 w-18 h-18 bg-gradient-to-r from-cyan-400/25 to-teal-400/25 rotate-45 animate-modern-float rounded-xl",style:{animationDelay:"3s"}}),c.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-10 h-10 border-2 border-teal-400/45 animate-modern-float rounded-full",style:{animationDelay:"5s"}}),c.jsx("div",{className:"absolute top-1/2 right-1/6 w-22 h-22 bg-gradient-to-r from-emerald-400/20 to-cyan-400/20 rotate-30 animate-modern-float rounded-2xl",style:{animationDelay:"7s"}}),c.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-20",viewBox:"0 0 1200 800",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"curveGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#14B8A6",stopOpacity:"0.6"}),c.jsx("stop",{offset:"50%",stopColor:"#06B6D4",stopOpacity:"0.4"}),c.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:"0.6"})]}),c.jsxs("linearGradient",{id:"curveGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:"0.5"}),c.jsx("stop",{offset:"50%",stopColor:"#14B8A6",stopOpacity:"0.3"}),c.jsx("stop",{offset:"100%",stopColor:"#06B6D4",stopOpacity:"0.5"})]}),c.jsxs("linearGradient",{id:"curveGradient3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#0EA5E9",stopOpacity:"0.4"}),c.jsx("stop",{offset:"50%",stopColor:"#06B6D4",stopOpacity:"0.6"}),c.jsx("stop",{offset:"100%",stopColor:"#14B8A6",stopOpacity:"0.4"})]})]}),c.jsx("path",{d:"M0,200 Q300,100 600,200 T1200,200",stroke:"url(#curveGradient1)",strokeWidth:"3",fill:"none",className:"animate-mega-draw-line"}),c.jsx("path",{d:"M0,400 Q400,250 800,400 T1600,400",stroke:"url(#curveGradient2)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-delayed"}),c.jsx("path",{d:"M200,0 Q500,300 800,100 T1400,200",stroke:"url(#curveGradient3)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-slow"}),c.jsx("path",{d:"M0,600 Q200,450 400,600 Q600,750 800,600 Q1000,450 1200,600",stroke:"url(#curveGradient1)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line",style:{animationDelay:"2s"}}),c.jsx("path",{d:"M100,100 Q350,350 600,150 Q850,50 1100,250",stroke:"url(#curveGradient2)",strokeWidth:"1.5",fill:"none",className:"animate-mega-draw-line-delayed",style:{animationDelay:"1s"}}),c.jsx("path",{d:"M0,300 Q150,150 300,300 Q450,450 600,300 Q750,150 900,300 Q1050,450 1200,300",stroke:"url(#curveGradient3)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-slow",style:{animationDelay:"3s"}}),c.jsx("path",{d:"M0,500 Q100,400 200,500 Q300,600 400,500 Q500,400 600,500 Q700,600 800,500 Q900,400 1000,500 Q1100,600 1200,500",stroke:"url(#curveGradient1)",strokeWidth:"1.5",fill:"none",className:"animate-mega-draw-line",style:{animationDelay:"4s"}}),c.jsx("path",{d:"M0,700 Q150,550 300,700 Q450,850 600,700 Q750,550 900,700 Q1050,850 1200,700",stroke:"url(#curveGradient2)",strokeWidth:"2",fill:"none",className:"animate-mega-draw-line-delayed",style:{animationDelay:"2.5s"}})]}),c.jsx("div",{className:"absolute top-1/4 left-1/8 w-32 h-16 border-2 border-teal-400/30 rounded-full animate-modern-float",style:{animationDelay:"1.5s"}}),c.jsx("div",{className:"absolute top-2/3 right-1/8 w-40 h-20 border-2 border-emerald-400/25 rounded-full animate-modern-float",style:{animationDelay:"3.5s"}}),c.jsx("div",{className:"absolute bottom-1/3 left-1/5 w-24 h-12 bg-gradient-to-r from-cyan-400/20 to-teal-400/20 rounded-full animate-modern-float",style:{animationDelay:"5.5s"}}),c.jsx("div",{className:"absolute top-1/2 right-1/3 w-36 h-18 border-2 border-cyan-400/35 rounded-full animate-modern-float",style:{animationDelay:"7.5s"}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-teal-900/30 via-transparent to-emerald-900/30"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-900/20 via-transparent to-teal-900/20"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-emerald-900/10 to-transparent"})]}),c.jsxs("div",{className:"relative z-10 max-w-md w-full",children:[c.jsxs("div",{className:"text-center mb-8 animate-slide-in-down",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-teal-400 via-emerald-400 to-cyan-400 rounded-full blur-xl opacity-60 animate-pulse group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"relative bg-gradient-to-r from-teal-500 via-emerald-500 to-cyan-500 p-4 rounded-full shadow-2xl transform group-hover:scale-110 transition-transform duration-500 border border-white/20",children:c.jsx($f,{className:"h-12 w-12 text-white"})})]})}),c.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-white via-teal-100 to-cyan-100 bg-clip-text text-transparent",children:"NBKR Institute of Science and Technology"}),c.jsx("p",{className:"text-teal-200/90 text-lg font-medium mb-4",children:"Artificial Intelligence and System Programming Laboratory"}),c.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-green-300/90 bg-green-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-green-500/20",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm font-medium",children:"System Online"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-cyan-300/90 bg-cyan-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-cyan-500/20",children:[c.jsx(no,{className:"h-3 w-3"}),c.jsx("span",{className:"text-sm font-medium",children:"Secure Connection"})]})]}),c.jsxs("div",{className:"flex justify-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-pulse"}),c.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}}),c.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse",style:{animationDelay:"0.8s"}}),c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"1.2s"}})]})]}),c.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl shadow-2xl border border-white/20 p-8 relative overflow-hidden group hover:bg-white/15 transition-all duration-500 animate-fade-in-scale",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/5 via-emerald-500/5 to-cyan-500/5 rounded-2xl"}),c.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-teal-400/20 via-emerald-400/20 to-cyan-400/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsxs("div",{className:"relative z-10",children:[!n&&c.jsxs("div",{className:"flex mb-6 bg-white/5 rounded-xl p-1 backdrop-blur-sm border border-white/10",children:[c.jsxs("button",{type:"button",onClick:()=>{s("faculty"),b()},className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-all duration-300 ${i==="faculty"?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-lg transform scale-105":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[c.jsx(Xv,{className:"h-4 w-4"}),c.jsx("span",{children:"Faculty"})]}),c.jsxs("button",{type:"button",onClick:()=>{s("student"),b()},className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-all duration-300 ${i==="student"?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-lg transform scale-105":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[c.jsx(di,{className:"h-4 w-4"}),c.jsx("span",{children:"Student"})]})]}),c.jsxs("form",{onSubmit:_,className:"space-y-6",children:[n&&c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[c.jsx(di,{className:"h-4 w-4 text-teal-400"}),c.jsx("span",{children:"Full Name"})]}),c.jsx("input",{type:"text",required:!0,value:f.name,onChange:v=>h({...f,name:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:"Enter your full name"})]}),c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[c.jsx(QU,{className:"h-4 w-4 text-emerald-400"}),c.jsx("span",{children:"Email Address"})]}),c.jsx("input",{type:"email",required:!0,value:f.email,onChange:v=>h({...f,email:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:i==="student"?"Enter your college email":"Enter your email"}),i==="student"&&!n&&c.jsxs("p",{className:"text-xs text-teal-300/80 mt-2 flex items-center space-x-1",children:[c.jsx(HU,{className:"h-3 w-3"}),c.jsx("span",{children:"Use your college email address provided by the faculty"})]})]}),c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[c.jsx(ty,{className:"h-4 w-4 text-cyan-400"}),c.jsx("span",{children:"Password"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",required:!0,value:f.password,onChange:v=>h({...f,password:v.target.value}),className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-all duration-300 hover:scale-110",children:o?c.jsx(Ih,{className:"h-5 w-5"}):c.jsx(La,{className:"h-5 w-5"})})]}),i==="student"&&!n&&c.jsxs("p",{className:"text-xs text-cyan-300/80 mt-2 flex items-center space-x-1",children:[c.jsx(iB,{className:"h-3 w-3"}),c.jsx("span",{children:"Use the password provided by your faculty or your updated password"})]})]}),n&&c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2 flex items-center space-x-2",children:[c.jsx(ty,{className:"h-4 w-4 text-blue-400"}),c.jsx("span",{children:"Confirm Password"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:l?"text":"password",required:!0,value:f.confirmPassword,onChange:v=>h({...f,confirmPassword:v.target.value}),className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-transparent text-white placeholder-white/50 backdrop-blur-sm transition-all duration-300 group-hover:bg-white/15 focus:scale-105",placeholder:"Confirm your password"}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-all duration-300 hover:scale-110",children:l?c.jsx(Ih,{className:"h-5 w-5"}):c.jsx(La,{className:"h-5 w-5"})})]})]}),y&&c.jsx("div",{className:"bg-red-500/20 border border-red-400/30 text-red-200 px-4 py-3 rounded-xl backdrop-blur-sm animate-shake",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),c.jsx("span",{children:y})]})}),c.jsxs("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-teal-500 via-emerald-500 to-cyan-500 text-white py-4 rounded-xl font-medium hover:from-teal-600 hover:via-emerald-600 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-500 transform hover:scale-105 hover:shadow-2xl relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-white/5 to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"relative flex items-center justify-center space-x-2",children:p?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white modern-spinner"}),c.jsx("span",{children:"Authenticating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:n?"Create Account":"Sign In"}),c.jsx(MS,{className:"h-4 w-4"})]})})]})]}),i==="faculty"&&c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("button",{type:"button",onClick:()=>{r(!n),b()},className:"text-teal-300 hover:text-white font-medium transition-all duration-300 relative group px-4 py-2 rounded-lg",children:[c.jsx("span",{className:"relative z-10",children:n?"Already have an account? Sign In":"Don't have an account? Create One"}),c.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]}),c.jsx("div",{className:"text-center mt-8 animate-slide-in-up",children:c.jsxs("div",{className:"flex justify-center items-center space-x-6 text-white/60 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-teal-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-teal-500/20",children:[c.jsx(no,{className:"h-3 w-3 text-teal-400"}),c.jsx("span",{children:"Secure"})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-emerald-500/20",children:[c.jsx(ty,{className:"h-3 w-3 text-emerald-400"}),c.jsx("span",{children:"Modern"})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-cyan-900/30 px-3 py-1 rounded-full backdrop-blur-sm border border-cyan-500/20",children:[c.jsx(MS,{className:"h-3 w-3 text-cyan-400"}),c.jsx("span",{children:"Efficient"})]})]})})]})]})}const oB=({children:t,activeTab:e,onTabChange:n})=>{const{userProfile:r,logout:i}=Ar(),s=[{id:"dashboard",label:"Dashboard",icon:Hv,color:"text-blue-600"},{id:"students",label:"Students",icon:Oh,color:"text-green-600"},{id:"experiments",label:"Experiments",icon:$f,color:"text-purple-600"},{id:"viva-questions",label:"Viva Questions",icon:lc,color:"text-orange-600"},{id:"submissions",label:"Submissions",icon:GU,color:"text-teal-600"},{id:"profile",label:"My Profile",icon:di,color:"text-gray-600"}],o=[{id:"dashboard",label:"Dashboard",icon:Hv,color:"text-blue-600"},{id:"experiments",label:"Experiments",icon:$f,color:"text-purple-600"},{id:"profile",label:"My Profile",icon:di,color:"text-gray-600"}],a=(r==null?void 0:r.role)==="faculty"?s:o;return r?c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[c.jsx("header",{className:"bg-blue shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:c.jsx($f,{className:"h-8 w-8 text-blue"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"NBKR Institute of Science and Technology"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Artificial Intelligence and System Programming Laboratory (CSE-AIML)"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-lg px-4 py-2 border",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-2 rounded-full",children:c.jsx(WU,{className:"h-5 w-5 text-white"})})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r==null?void 0:r.name}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(r==null?void 0:r.role)==="faculty"?"bg-blue-100 text-blue-800 border border-blue-200":"bg-green-100 text-blue-800 border border-blue-200"}`,children:(r==null?void 0:r.role)==="faculty"?"Faculty":"Student"})]}),(r==null?void 0:r.role)==="student"&&(r==null?void 0:r.rollNo)&&c.jsxs("p",{className:"text-xs text-gray-500",children:["Roll No: ",r.rollNo]})]})]}),c.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",children:[c.jsx(YU,{className:"h-4 w-4"}),c.jsx("span",{children:"Logout"})]})]})]})})}),c.jsx("div",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:c.jsxs("div",{className:"flex space-x-8 min-h-full",children:[c.jsx("div",{className:"w-64 flex-shrink-0",children:c.jsx("nav",{className:"bg-white rounded-lg shadow-sm border",children:c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),c.jsx("ul",{className:"space-y-2",children:a.map(l=>{const u=l.icon;return c.jsx("li",{children:c.jsxs("button",{onClick:()=>n(l.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left rounded-md transition-colors ${e===l.id?"bg-blue-100 text-blue-700 border border-yellow-400":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(u,{className:`h-5 w-5 ${e===l.id?"text-blue-600":l.color}`}),c.jsx("span",{className:"font-medium",children:l.label})]})},l.id)})})]})})}),c.jsx("div",{className:"flex-1",children:t})]})}),c.jsx("footer",{className:"bg-gray-800 text-white py-6 mt-auto",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-sm",children:["Designed and Developed by ",c.jsx("span",{className:"font-bold text-blue-400",children:"IEEE-NBKRIST"})]}),c.jsx("p",{className:"text-xs text-grey-400 mt-1",children:"Artificial Intelligence and System Programming Laboratory III-I  2025"})]})})})]}):c.jsx("div",{children:"Loading..."})};function hC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hC(t))&&(r&&(r+=" "),r+=e);return r}var aB=Array.isArray,On=aB,lB=typeof Nd=="object"&&Nd&&Nd.Object===Object&&Nd,pC=lB,uB=pC,cB=typeof self=="object"&&self&&self.Object===Object&&self,dB=uB||cB||Function("return this")(),Xr=dB,fB=Xr,hB=fB.Symbol,od=hB,LS=od,mC=Object.prototype,pB=mC.hasOwnProperty,mB=mC.toString,Gl=LS?LS.toStringTag:void 0;function gB(t){var e=pB.call(t,Gl),n=t[Gl];try{t[Gl]=void 0;var r=!0}catch{}var i=mB.call(t);return r&&(e?t[Gl]=n:delete t[Gl]),i}var yB=gB,vB=Object.prototype,xB=vB.toString;function bB(t){return xB.call(t)}var wB=bB,VS=od,_B=yB,EB=wB,SB="[object Null]",TB="[object Undefined]",FS=VS?VS.toStringTag:void 0;function AB(t){return t==null?t===void 0?TB:SB:FS&&FS in Object(t)?_B(t):EB(t)}var ki=AB;function PB(t){return t!=null&&typeof t=="object"}var Ri=PB,IB=ki,NB=Ri,OB="[object Symbol]";function jB(t){return typeof t=="symbol"||NB(t)&&IB(t)==OB}var ml=jB,CB=On,kB=ml,RB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DB=/^\w*$/;function MB(t,e){if(CB(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kB(t)?!0:DB.test(t)||!RB.test(t)||e!=null&&t in Object(e)}var cw=MB;function $B(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var As=$B;const gl=Je(As);var LB=ki,VB=As,FB="[object AsyncFunction]",UB="[object Function]",BB="[object GeneratorFunction]",zB="[object Proxy]";function qB(t){if(!VB(t))return!1;var e=LB(t);return e==UB||e==BB||e==FB||e==zB}var dw=qB;const Ne=Je(dw);var WB=Xr,HB=WB["__core-js_shared__"],KB=HB,ny=KB,US=function(){var t=/[^.]+$/.exec(ny&&ny.keys&&ny.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GB(t){return!!US&&US in t}var QB=GB,XB=Function.prototype,YB=XB.toString;function JB(t){if(t!=null){try{return YB.call(t)}catch{}try{return t+""}catch{}}return""}var gC=JB,ZB=dw,e9=QB,t9=As,n9=gC,r9=/[\\^$.*+?()[\]{}|]/g,i9=/^\[object .+?Constructor\]$/,s9=Function.prototype,o9=Object.prototype,a9=s9.toString,l9=o9.hasOwnProperty,u9=RegExp("^"+a9.call(l9).replace(r9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c9(t){if(!t9(t)||e9(t))return!1;var e=ZB(t)?u9:i9;return e.test(n9(t))}var d9=c9;function f9(t,e){return t==null?void 0:t[e]}var h9=f9,p9=d9,m9=h9;function g9(t,e){var n=m9(t,e);return p9(n)?n:void 0}var No=g9,y9=No,v9=y9(Object,"create"),lm=v9,BS=lm;function x9(){this.__data__=BS?BS(null):{},this.size=0}var b9=x9;function w9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _9=w9,E9=lm,S9="__lodash_hash_undefined__",T9=Object.prototype,A9=T9.hasOwnProperty;function P9(t){var e=this.__data__;if(E9){var n=e[t];return n===S9?void 0:n}return A9.call(e,t)?e[t]:void 0}var I9=P9,N9=lm,O9=Object.prototype,j9=O9.hasOwnProperty;function C9(t){var e=this.__data__;return N9?e[t]!==void 0:j9.call(e,t)}var k9=C9,R9=lm,D9="__lodash_hash_undefined__";function M9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=R9&&e===void 0?D9:e,this}var $9=M9,L9=b9,V9=_9,F9=I9,U9=k9,B9=$9;function yl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yl.prototype.clear=L9;yl.prototype.delete=V9;yl.prototype.get=F9;yl.prototype.has=U9;yl.prototype.set=B9;var z9=yl;function q9(){this.__data__=[],this.size=0}var W9=q9;function H9(t,e){return t===e||t!==t&&e!==e}var fw=H9,K9=fw;function G9(t,e){for(var n=t.length;n--;)if(K9(t[n][0],e))return n;return-1}var um=G9,Q9=um,X9=Array.prototype,Y9=X9.splice;function J9(t){var e=this.__data__,n=Q9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Y9.call(e,n,1),--this.size,!0}var Z9=J9,e8=um;function t8(t){var e=this.__data__,n=e8(e,t);return n<0?void 0:e[n][1]}var n8=t8,r8=um;function i8(t){return r8(this.__data__,t)>-1}var s8=i8,o8=um;function a8(t,e){var n=this.__data__,r=o8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var l8=a8,u8=W9,c8=Z9,d8=n8,f8=s8,h8=l8;function vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vl.prototype.clear=u8;vl.prototype.delete=c8;vl.prototype.get=d8;vl.prototype.has=f8;vl.prototype.set=h8;var cm=vl,p8=No,m8=Xr,g8=p8(m8,"Map"),hw=g8,zS=z9,y8=cm,v8=hw;function x8(){this.size=0,this.__data__={hash:new zS,map:new(v8||y8),string:new zS}}var b8=x8;function w8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _8=w8,E8=_8;function S8(t,e){var n=t.__data__;return E8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var dm=S8,T8=dm;function A8(t){var e=T8(this,t).delete(t);return this.size-=e?1:0,e}var P8=A8,I8=dm;function N8(t){return I8(this,t).get(t)}var O8=N8,j8=dm;function C8(t){return j8(this,t).has(t)}var k8=C8,R8=dm;function D8(t,e){var n=R8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var M8=D8,$8=b8,L8=P8,V8=O8,F8=k8,U8=M8;function xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xl.prototype.clear=$8;xl.prototype.delete=L8;xl.prototype.get=V8;xl.prototype.has=F8;xl.prototype.set=U8;var pw=xl,yC=pw,B8="Expected a function";function mw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(B8);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(mw.Cache||yC),n}mw.Cache=yC;var vC=mw;const z8=Je(vC);var q8=vC,W8=500;function H8(t){var e=q8(t,function(r){return n.size===W8&&n.clear(),r}),n=e.cache;return e}var K8=H8,G8=K8,Q8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X8=/\\(\\)?/g,Y8=G8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Q8,function(n,r,i,s){e.push(i?s.replace(X8,"$1"):r||n)}),e}),J8=Y8;function Z8(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var gw=Z8,qS=od,ez=gw,tz=On,nz=ml,rz=1/0,WS=qS?qS.prototype:void 0,HS=WS?WS.toString:void 0;function xC(t){if(typeof t=="string")return t;if(tz(t))return ez(t,xC)+"";if(nz(t))return HS?HS.call(t):"";var e=t+"";return e=="0"&&1/t==-rz?"-0":e}var iz=xC,sz=iz;function oz(t){return t==null?"":sz(t)}var bC=oz,az=On,lz=cw,uz=J8,cz=bC;function dz(t,e){return az(t)?t:lz(t,e)?[t]:uz(cz(t))}var wC=dz,fz=ml,hz=1/0;function pz(t){if(typeof t=="string"||fz(t))return t;var e=t+"";return e=="0"&&1/t==-hz?"-0":e}var fm=pz,mz=wC,gz=fm;function yz(t,e){e=mz(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[gz(e[n++])];return n&&n==r?t:void 0}var yw=yz,vz=yw;function xz(t,e,n){var r=t==null?void 0:vz(t,e);return r===void 0?n:r}var _C=xz;const wr=Je(_C);function bz(t){return t==null}var wz=bz;const Re=Je(wz);var _z=ki,Ez=On,Sz=Ri,Tz="[object String]";function Az(t){return typeof t=="string"||!Ez(t)&&Sz(t)&&_z(t)==Tz}var Pz=Az;const ad=Je(Pz);var EC={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=Symbol.for("react.element"),xw=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),Iz=Symbol.for("react.server_context"),vm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),Nz=Symbol.for("react.offscreen"),SC;SC=Symbol.for("react.module.reference");function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vw:switch(t=t.type,t){case hm:case mm:case pm:case xm:case bm:return t;default:switch(t=t&&t.$$typeof,t){case Iz:case ym:case vm:case _m:case wm:case gm:return t;default:return e}}case xw:return e}}}Xe.ContextConsumer=ym;Xe.ContextProvider=gm;Xe.Element=vw;Xe.ForwardRef=vm;Xe.Fragment=hm;Xe.Lazy=_m;Xe.Memo=wm;Xe.Portal=xw;Xe.Profiler=mm;Xe.StrictMode=pm;Xe.Suspense=xm;Xe.SuspenseList=bm;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return lr(t)===ym};Xe.isContextProvider=function(t){return lr(t)===gm};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vw};Xe.isForwardRef=function(t){return lr(t)===vm};Xe.isFragment=function(t){return lr(t)===hm};Xe.isLazy=function(t){return lr(t)===_m};Xe.isMemo=function(t){return lr(t)===wm};Xe.isPortal=function(t){return lr(t)===xw};Xe.isProfiler=function(t){return lr(t)===mm};Xe.isStrictMode=function(t){return lr(t)===pm};Xe.isSuspense=function(t){return lr(t)===xm};Xe.isSuspenseList=function(t){return lr(t)===bm};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hm||t===mm||t===pm||t===xm||t===bm||t===Nz||typeof t=="object"&&t!==null&&(t.$$typeof===_m||t.$$typeof===wm||t.$$typeof===gm||t.$$typeof===ym||t.$$typeof===vm||t.$$typeof===SC||t.getModuleId!==void 0)};Xe.typeOf=lr;EC.exports=Xe;var Oz=EC.exports,jz=ki,Cz=Ri,kz="[object Number]";function Rz(t){return typeof t=="number"||Cz(t)&&jz(t)==kz}var TC=Rz;const Dz=Je(TC);var Mz=TC;function $z(t){return Mz(t)&&t!=+t}var Lz=$z;const ld=Je(Lz);var tr=function(e){return e===0?0:e>0?1:-1},Xs=function(e){return ad(e)&&e.indexOf("%")===e.length-1},oe=function(e){return Dz(e)&&!ld(e)},Dt=function(e){return oe(e)||ad(e)},Vz=0,Em=function(e){var n=++Vz;return"".concat(e||"").concat(n)},Tn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!ad(e))return r;var s;if(Xs(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return ld(s)&&(s=r),i&&s>n&&(s=n),s},qo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Fz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},KS=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Yv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wr(r,e))===n})}function Jv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}var Uz=["viewBox","children"],Bz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GS=["points","pathLength"],ry={svg:Uz,polygon:GS,polyline:GS},bw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!gl(r))return null;var i={};return Object.keys(r).forEach(function(s){bw.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},zz=function(e,n,r){return function(i){return e(n,r,i),null}},Sm=function(e,n,r){if(!gl(e)||Zv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];bw.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=zz(o,n,r))}),i},qz=["children"],Wz=["children"];function QS(t,e){if(t==null)return{};var n=Hz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var XS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YS=null,iy=null,ww=function t(e){if(e===YS&&Array.isArray(iy))return iy;var n=[];return $.Children.forEach(e,function(r){Re(r)||(Oz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),iy=n,YS=e,n};function Br(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return yi(i)}):r=[yi(e)],ww(t).forEach(function(i){var s=wr(i,"type.displayName")||wr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Qn(t,e){var n=Br(t,e);return n&&n[0]}var JS=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},Kz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gz=function(e){return e&&e.type&&ad(e.type)&&Kz.indexOf(e.type)>=0},Qz=function(e,n,r,i){var s,o=(s=ry==null?void 0:ry[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ne(e)&&(i&&o.includes(n)||Bz.includes(n))||r&&bw.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!gl(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Qz((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},e0=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ZS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!ZS(s,o))return!1}return!0},ZS=function(e,n){if(Re(e)&&Re(n))return!0;if(!Re(e)&&!Re(n)){var r=e.props||{},i=r.children,s=QS(r,qz),o=n.props||{},a=o.children,l=QS(o,Wz);return i&&a?Jv(s,l)&&e0(i,a):!i&&!a?Jv(s,l):!1}return!1},eT=function(e,n){var r=[],i={};return ww(e).forEach(function(s,o){if(Gz(s))r.push(s);else if(s){var a=yi(s.type),l=n[a]||{},u=l.handler,f=l.once;if(u&&(!f||!i[a])){var h=u(s,a,o);r.push(h),i[a]=!0}}}),r},Xz=function(e){var n=e&&e.type;return n&&XS[n]?XS[n]:null},Yz=function(e,n){return ww(n).indexOf(e)},Jz=["children","width","height","viewBox","className","style","title","desc"];function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t0.apply(this,arguments)}function Zz(t,e){if(t==null)return{};var n=e7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,u=Zz(t,Jz),f=i||{width:n,height:r,x:0,y:0},h=ze("recharts-surface",s);return B.createElement("svg",t0({},Ie(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),B.createElement("title",null,a),B.createElement("desc",null,l),e)}var t7=["children","className"];function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r0.apply(this,arguments)}function n7(t,e){if(t==null)return{};var n=r7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Et=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=n7(t,t7),s=ze("recharts-layer",r);return B.createElement("g",r0({className:s},Ie(i,!0),{ref:e}),n)}),vi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function i7(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var s7=i7,o7=s7;function a7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:o7(t,e,n)}var l7=a7,u7="\\ud800-\\udfff",c7="\\u0300-\\u036f",d7="\\ufe20-\\ufe2f",f7="\\u20d0-\\u20ff",h7=c7+d7+f7,p7="\\ufe0e\\ufe0f",m7="\\u200d",g7=RegExp("["+m7+u7+h7+p7+"]");function y7(t){return g7.test(t)}var AC=y7;function v7(t){return t.split("")}var x7=v7,PC="\\ud800-\\udfff",b7="\\u0300-\\u036f",w7="\\ufe20-\\ufe2f",_7="\\u20d0-\\u20ff",E7=b7+w7+_7,S7="\\ufe0e\\ufe0f",T7="["+PC+"]",i0="["+E7+"]",s0="\\ud83c[\\udffb-\\udfff]",A7="(?:"+i0+"|"+s0+")",IC="[^"+PC+"]",NC="(?:\\ud83c[\\udde6-\\uddff]){2}",OC="[\\ud800-\\udbff][\\udc00-\\udfff]",P7="\\u200d",jC=A7+"?",CC="["+S7+"]?",I7="(?:"+P7+"(?:"+[IC,NC,OC].join("|")+")"+CC+jC+")*",N7=CC+jC+I7,O7="(?:"+[IC+i0+"?",i0,NC,OC,T7].join("|")+")",j7=RegExp(s0+"(?="+s0+")|"+O7+N7,"g");function C7(t){return t.match(j7)||[]}var k7=C7,R7=x7,D7=AC,M7=k7;function $7(t){return D7(t)?M7(t):R7(t)}var L7=$7,V7=l7,F7=AC,U7=L7,B7=bC;function z7(t){return function(e){e=B7(e);var n=F7(e)?U7(e):void 0,r=n?n[0]:e.charAt(0),i=n?V7(n,1).join(""):e.slice(1);return r[t]()+i}}var q7=z7,W7=q7,H7=W7("toUpperCase"),K7=H7;const Tm=Je(K7);function nt(t){return function(){return t}}const kC=Math.cos,Ch=Math.sin,Pr=Math.sqrt,kh=Math.PI,Am=2*kh,o0=Math.PI,a0=2*o0,Bs=1e-6,G7=a0-Bs;function RC(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Q7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RC;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RC:Q7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,f=o-e,h=a-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Bs)if(!(Math.abs(h*l-u*f)>Bs)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,y=i-a,w=l*l+u*u,_=m*m+y*y,b=Math.sqrt(w),v=Math.sqrt(p),x=s*Math.tan((o0-Math.acos((w+p-_)/(2*b*v)))/2),N=x/v,T=x/b;Math.abs(N-1)>Bs&&this._append`L${e+N*f},${n+N*h}`,this._append`A${s},${s},0,0,${+(h*m>f*y)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,f=n+l,h=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Bs||Math.abs(this._y1-f)>Bs)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%a0+a0),p>G7?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>Bs&&this._append`A${r},${r},0,${+(p>=o0)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _w(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X7(e)}function Ew(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DC(t){this._context=t}DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Pm(t){return new DC(t)}function MC(t){return t[0]}function $C(t){return t[1]}function LC(t,e){var n=nt(!0),r=null,i=Pm,s=null,o=_w(a);t=typeof t=="function"?t:t===void 0?MC:nt(t),e=typeof e=="function"?e:e===void 0?$C:nt(e);function a(l){var u,f=(l=Ew(l)).length,h,p=!1,m;for(r==null&&(s=i(m=o())),u=0;u<=f;++u)!(u<f&&n(h=l[u],u,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(h,u,l),+e(h,u,l));if(m)return s=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:nt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Zd(t,e,n){var r=null,i=nt(!0),s=null,o=Pm,a=null,l=_w(u);t=typeof t=="function"?t:t===void 0?MC:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$C:nt(+n);function u(h){var p,m,y,w=(h=Ew(h)).length,_,b=!1,v,x=new Array(w),N=new Array(w);for(s==null&&(a=o(v=l())),p=0;p<=w;++p){if(!(p<w&&i(_=h[p],p,h))===b)if(b=!b)m=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=p-1;y>=m;--y)a.point(x[y],N[y]);a.lineEnd(),a.areaEnd()}b&&(x[p]=+t(_,p,h),N[p]=+e(_,p,h),a.point(r?+r(_,p,h):x[p],n?+n(_,p,h):N[p]))}if(v)return a=null,v+""||null}function f(){return LC().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:nt(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:nt(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:nt(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:nt(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:nt(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:nt(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:nt(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),u):s},u}class VC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Y7(t){return new VC(t,!0)}function J7(t){return new VC(t,!1)}const Sw={draw(t,e){const n=Pr(e/kh);t.moveTo(n,0),t.arc(0,0,n,0,Am)}},Z7={draw(t,e){const n=Pr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},FC=Pr(1/3),eq=FC*2,tq={draw(t,e){const n=Pr(e/eq),r=n*FC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nq={draw(t,e){const n=Pr(e),r=-n/2;t.rect(r,r,n,n)}},rq=.8908130915292852,UC=Ch(kh/10)/Ch(7*kh/10),iq=Ch(Am/10)*UC,sq=-kC(Am/10)*UC,oq={draw(t,e){const n=Pr(e*rq),r=iq*n,i=sq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Am*s/5,a=kC(o),l=Ch(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},sy=Pr(3),aq={draw(t,e){const n=-Pr(e/(sy*3));t.moveTo(0,n*2),t.lineTo(-sy*n,-n),t.lineTo(sy*n,-n),t.closePath()}},Hn=-.5,Kn=Pr(3)/2,l0=1/Pr(12),lq=(l0/2+1)*3,uq={draw(t,e){const n=Pr(e/lq),r=n/2,i=n*l0,s=r,o=n*l0+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(Hn*r-Kn*i,Kn*r+Hn*i),t.lineTo(Hn*s-Kn*o,Kn*s+Hn*o),t.lineTo(Hn*a-Kn*l,Kn*a+Hn*l),t.lineTo(Hn*r+Kn*i,Hn*i-Kn*r),t.lineTo(Hn*s+Kn*o,Hn*o-Kn*s),t.lineTo(Hn*a+Kn*l,Hn*l-Kn*a),t.closePath()}};function cq(t,e){let n=null,r=_w(i);t=typeof t=="function"?t:nt(t||Sw),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:nt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:nt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Rh(){}function Dh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function BC(t){this._context=t}BC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dq(t){return new BC(t)}function zC(t){this._context=t}zC.prototype={areaStart:Rh,areaEnd:Rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fq(t){return new zC(t)}function qC(t){this._context=t}qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hq(t){return new qC(t)}function WC(t){this._context=t}WC.prototype={areaStart:Rh,areaEnd:Rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pq(t){return new WC(t)}function tT(t){return t<0?-1:1}function nT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(tT(s)+tT(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function rT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function oy(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function Mh(t){this._context=t}Mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oy(this,this._t0,rT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,oy(this,rT(this,n=nT(this,t,e)),n);break;default:oy(this,this._t0,n=nT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function HC(t){this._context=new KC(t)}(HC.prototype=Object.create(Mh.prototype)).point=function(t,e){Mh.prototype.point.call(this,e,t)};function KC(t){this._context=t}KC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function mq(t){return new Mh(t)}function gq(t){return new HC(t)}function GC(t){this._context=t}GC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=iT(t),i=iT(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iT(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function yq(t){return new GC(t)}function Im(t,e){this._context=t,this._t=e}Im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function vq(t){return new Im(t,.5)}function xq(t){return new Im(t,0)}function bq(t){return new Im(t,1)}function Va(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function u0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wq(t,e){return t[e]}function _q(t){const e=[];return e.key=t,e}function Eq(){var t=nt([]),e=u0,n=Va,r=wq;function i(s){var o=Array.from(t.apply(this,arguments),_q),a,l=o.length,u=-1,f;for(const h of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(h,o[a].key,u,s)]).data=h;for(a=0,f=Ew(e(o));a<l;++a)o[f[a]].index=a;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:nt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:nt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?u0:typeof s=="function"?s:nt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Va,i):n},i}function Sq(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Va(t,e)}}function Tq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Va(t,e)}}function Aq(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var f=t[e[a]],h=f[r][1]||0,p=f[r-1][1]||0,m=(h-p)/2,y=0;y<a;++y){var w=t[e[y]],_=w[r][1]||0,b=w[r-1][1]||0;m+=_-b}l+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Va(t,e)}}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var Pq=["type","size","sizeType"];function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}function sT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(r){Iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iq(t,e,n){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nq(t){var e=Oq(t,"string");return uc(e)=="symbol"?e:e+""}function Oq(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jq(t,e){if(t==null)return{};var n=Cq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QC={symbolCircle:Sw,symbolCross:Z7,symbolDiamond:tq,symbolSquare:nq,symbolStar:oq,symbolTriangle:aq,symbolWye:uq},kq=Math.PI/180,Rq=function(e){var n="symbol".concat(Tm(e));return QC[n]||Sw},Dq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mq=function(e,n){QC["symbol".concat(Tm(e))]=n},Tw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=jq(e,Pq),u=oT(oT({},l),{},{type:r,size:s,sizeType:a}),f=function(){var _=Rq(r),b=cq().type(_).size(Dq(s,a,r));return b()},h=u.className,p=u.cx,m=u.cy,y=Ie(u,!0);return p===+p&&m===+m&&s===+s?B.createElement("path",c0({},y,{className:ze("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(m,")"),d:f()})):null};Tw.registerSymbol=Mq;function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YC(r.key),r)}}function Fq(t,e,n){return e&&Vq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uq(t,e,n){return e=$h(e),Bq(t,XC()?Reflect.construct(e,n||[],$h(t).constructor):e.apply(t,n))}function Bq(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zq(t)}function zq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$h(t)}function qq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f0(t,e)}function cc(t,e,n){return e=YC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YC(t){var e=Wq(t,"string");return Fa(e)=="symbol"?e:e+""}function Wq(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gn=32,Aw=function(t){function e(){return Lq(this,e),Uq(this,e,arguments)}return qq(e,t),Fq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Gn/2,o=Gn/6,a=Gn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Gn,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Gn,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Gn/8,"h").concat(Gn,"v").concat(Gn*3/4,"h").concat(-Gn,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=$q({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(Tw,{fill:l,cx:s,cy:s,size:Gn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Gn,height:Gn},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,y){var w=m.formatter||l,_=ze(cc(cc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Ne(m.value)?null:m.value;vi(!Ne(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return B.createElement("li",d0({className:_,style:h,key:"legend-item-".concat(y)},Sm(r.props,m,y)),B.createElement(n0,{width:o,height:o,viewBox:f,style:p},r.renderIcon(m)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},w?w(b,m,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);cc(Aw,"displayName","Legend");cc(Aw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hq=cm;function Kq(){this.__data__=new Hq,this.size=0}var Gq=Kq;function Qq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Xq=Qq;function Yq(t){return this.__data__.get(t)}var Jq=Yq;function Zq(t){return this.__data__.has(t)}var eW=Zq,tW=cm,nW=hw,rW=pw,iW=200;function sW(t,e){var n=this.__data__;if(n instanceof tW){var r=n.__data__;if(!nW||r.length<iW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rW(r)}return n.set(t,e),this.size=n.size,this}var oW=sW,aW=cm,lW=Gq,uW=Xq,cW=Jq,dW=eW,fW=oW;function bl(t){var e=this.__data__=new aW(t);this.size=e.size}bl.prototype.clear=lW;bl.prototype.delete=uW;bl.prototype.get=cW;bl.prototype.has=dW;bl.prototype.set=fW;var JC=bl,hW="__lodash_hash_undefined__";function pW(t){return this.__data__.set(t,hW),this}var mW=pW;function gW(t){return this.__data__.has(t)}var yW=gW,vW=pw,xW=mW,bW=yW;function Lh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new vW;++e<n;)this.add(t[e])}Lh.prototype.add=Lh.prototype.push=xW;Lh.prototype.has=bW;var ZC=Lh;function wW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ek=wW;function _W(t,e){return t.has(e)}var tk=_W,EW=ZC,SW=ek,TW=tk,AW=1,PW=2;function IW(t,e,n,r,i,s){var o=n&AW,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var h=-1,p=!0,m=n&PW?new EW:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var y=t[h],w=e[h];if(r)var _=o?r(w,y,h,e,t,s):r(y,w,h,t,e,s);if(_!==void 0){if(_)continue;p=!1;break}if(m){if(!SW(e,function(b,v){if(!TW(m,v)&&(y===b||i(y,b,n,r,s)))return m.push(v)})){p=!1;break}}else if(!(y===w||i(y,w,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var nk=IW,NW=Xr,OW=NW.Uint8Array,jW=OW;function CW(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var kW=CW;function RW(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Pw=RW,lT=od,uT=jW,DW=fw,MW=nk,$W=kW,LW=Pw,VW=1,FW=2,UW="[object Boolean]",BW="[object Date]",zW="[object Error]",qW="[object Map]",WW="[object Number]",HW="[object RegExp]",KW="[object Set]",GW="[object String]",QW="[object Symbol]",XW="[object ArrayBuffer]",YW="[object DataView]",cT=lT?lT.prototype:void 0,ay=cT?cT.valueOf:void 0;function JW(t,e,n,r,i,s,o){switch(n){case YW:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XW:return!(t.byteLength!=e.byteLength||!s(new uT(t),new uT(e)));case UW:case BW:case WW:return DW(+t,+e);case zW:return t.name==e.name&&t.message==e.message;case HW:case GW:return t==e+"";case qW:var a=$W;case KW:var l=r&VW;if(a||(a=LW),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=FW,o.set(t,e);var f=MW(a(t),a(e),r,i,s,o);return o.delete(t),f;case QW:if(ay)return ay.call(t)==ay.call(e)}return!1}var ZW=JW;function eH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var rk=eH,tH=rk,nH=On;function rH(t,e,n){var r=e(t);return nH(t)?r:tH(r,n(t))}var iH=rH;function sH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var oH=sH;function aH(){return[]}var lH=aH,uH=oH,cH=lH,dH=Object.prototype,fH=dH.propertyIsEnumerable,dT=Object.getOwnPropertySymbols,hH=dT?function(t){return t==null?[]:(t=Object(t),uH(dT(t),function(e){return fH.call(t,e)}))}:cH,pH=hH;function mH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gH=mH,yH=ki,vH=Ri,xH="[object Arguments]";function bH(t){return vH(t)&&yH(t)==xH}var wH=bH,fT=wH,_H=Ri,ik=Object.prototype,EH=ik.hasOwnProperty,SH=ik.propertyIsEnumerable,TH=fT(function(){return arguments}())?fT:function(t){return _H(t)&&EH.call(t,"callee")&&!SH.call(t,"callee")},Iw=TH,Vh={exports:{}};function AH(){return!1}var PH=AH;Vh.exports;(function(t,e){var n=Xr,r=PH,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Vh,Vh.exports);var sk=Vh.exports,IH=9007199254740991,NH=/^(?:0|[1-9]\d*)$/;function OH(t,e){var n=typeof t;return e=e??IH,!!e&&(n=="number"||n!="symbol"&&NH.test(t))&&t>-1&&t%1==0&&t<e}var Nw=OH,jH=9007199254740991;function CH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jH}var Ow=CH,kH=ki,RH=Ow,DH=Ri,MH="[object Arguments]",$H="[object Array]",LH="[object Boolean]",VH="[object Date]",FH="[object Error]",UH="[object Function]",BH="[object Map]",zH="[object Number]",qH="[object Object]",WH="[object RegExp]",HH="[object Set]",KH="[object String]",GH="[object WeakMap]",QH="[object ArrayBuffer]",XH="[object DataView]",YH="[object Float32Array]",JH="[object Float64Array]",ZH="[object Int8Array]",eK="[object Int16Array]",tK="[object Int32Array]",nK="[object Uint8Array]",rK="[object Uint8ClampedArray]",iK="[object Uint16Array]",sK="[object Uint32Array]",lt={};lt[YH]=lt[JH]=lt[ZH]=lt[eK]=lt[tK]=lt[nK]=lt[rK]=lt[iK]=lt[sK]=!0;lt[MH]=lt[$H]=lt[QH]=lt[LH]=lt[XH]=lt[VH]=lt[FH]=lt[UH]=lt[BH]=lt[zH]=lt[qH]=lt[WH]=lt[HH]=lt[KH]=lt[GH]=!1;function oK(t){return DH(t)&&RH(t.length)&&!!lt[kH(t)]}var aK=oK;function lK(t){return function(e){return t(e)}}var ok=lK,Fh={exports:{}};Fh.exports;(function(t,e){var n=pC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Fh,Fh.exports);var uK=Fh.exports,cK=aK,dK=ok,hT=uK,pT=hT&&hT.isTypedArray,fK=pT?dK(pT):cK,ak=fK,hK=gH,pK=Iw,mK=On,gK=sk,yK=Nw,vK=ak,xK=Object.prototype,bK=xK.hasOwnProperty;function wK(t,e){var n=mK(t),r=!n&&pK(t),i=!n&&!r&&gK(t),s=!n&&!r&&!i&&vK(t),o=n||r||i||s,a=o?hK(t.length,String):[],l=a.length;for(var u in t)(e||bK.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yK(u,l)))&&a.push(u);return a}var _K=wK,EK=Object.prototype;function SK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||EK;return t===n}var TK=SK;function AK(t,e){return function(n){return t(e(n))}}var lk=AK,PK=lk,IK=PK(Object.keys,Object),NK=IK,OK=TK,jK=NK,CK=Object.prototype,kK=CK.hasOwnProperty;function RK(t){if(!OK(t))return jK(t);var e=[];for(var n in Object(t))kK.call(t,n)&&n!="constructor"&&e.push(n);return e}var DK=RK,MK=dw,$K=Ow;function LK(t){return t!=null&&$K(t.length)&&!MK(t)}var Nm=LK,VK=_K,FK=DK,UK=Nm;function BK(t){return UK(t)?VK(t):FK(t)}var jw=BK,zK=iH,qK=pH,WK=jw;function HK(t){return zK(t,WK,qK)}var KK=HK,mT=KK,GK=1,QK=Object.prototype,XK=QK.hasOwnProperty;function YK(t,e,n,r,i,s){var o=n&GK,a=mT(t),l=a.length,u=mT(e),f=u.length;if(l!=f&&!o)return!1;for(var h=l;h--;){var p=a[h];if(!(o?p in e:XK.call(e,p)))return!1}var m=s.get(t),y=s.get(e);if(m&&y)return m==e&&y==t;var w=!0;s.set(t,e),s.set(e,t);for(var _=o;++h<l;){p=a[h];var b=t[p],v=e[p];if(r)var x=o?r(v,b,p,e,t,s):r(b,v,p,t,e,s);if(!(x===void 0?b===v||i(b,v,n,r,s):x)){w=!1;break}_||(_=p=="constructor")}if(w&&!_){var N=t.constructor,T=e.constructor;N!=T&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof T=="function"&&T instanceof T)&&(w=!1)}return s.delete(t),s.delete(e),w}var JK=YK,ZK=No,eG=Xr,tG=ZK(eG,"DataView"),nG=tG,rG=No,iG=Xr,sG=rG(iG,"Promise"),oG=sG,aG=No,lG=Xr,uG=aG(lG,"Set"),uk=uG,cG=No,dG=Xr,fG=cG(dG,"WeakMap"),hG=fG,h0=nG,p0=hw,m0=oG,g0=uk,y0=hG,ck=ki,wl=gC,gT="[object Map]",pG="[object Object]",yT="[object Promise]",vT="[object Set]",xT="[object WeakMap]",bT="[object DataView]",mG=wl(h0),gG=wl(p0),yG=wl(m0),vG=wl(g0),xG=wl(y0),zs=ck;(h0&&zs(new h0(new ArrayBuffer(1)))!=bT||p0&&zs(new p0)!=gT||m0&&zs(m0.resolve())!=yT||g0&&zs(new g0)!=vT||y0&&zs(new y0)!=xT)&&(zs=function(t){var e=ck(t),n=e==pG?t.constructor:void 0,r=n?wl(n):"";if(r)switch(r){case mG:return bT;case gG:return gT;case yG:return yT;case vG:return vT;case xG:return xT}return e});var bG=zs,ly=JC,wG=nk,_G=ZW,EG=JK,wT=bG,_T=On,ET=sk,SG=ak,TG=1,ST="[object Arguments]",TT="[object Array]",ef="[object Object]",AG=Object.prototype,AT=AG.hasOwnProperty;function PG(t,e,n,r,i,s){var o=_T(t),a=_T(e),l=o?TT:wT(t),u=a?TT:wT(e);l=l==ST?ef:l,u=u==ST?ef:u;var f=l==ef,h=u==ef,p=l==u;if(p&&ET(t)){if(!ET(e))return!1;o=!0,f=!1}if(p&&!f)return s||(s=new ly),o||SG(t)?wG(t,e,n,r,i,s):_G(t,e,l,n,r,i,s);if(!(n&TG)){var m=f&&AT.call(t,"__wrapped__"),y=h&&AT.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,_=y?e.value():e;return s||(s=new ly),i(w,_,n,r,s)}}return p?(s||(s=new ly),EG(t,e,n,r,i,s)):!1}var IG=PG,NG=IG,PT=Ri;function dk(t,e,n,r,i){return t===e?!0:t==null||e==null||!PT(t)&&!PT(e)?t!==t&&e!==e:NG(t,e,n,r,dk,i)}var Cw=dk,OG=JC,jG=Cw,CG=1,kG=2;function RG(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],f=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new OG;if(r)var p=r(u,f,l,t,e,h);if(!(p===void 0?jG(f,u,CG|kG,r,h):p))return!1}}return!0}var DG=RG,MG=As;function $G(t){return t===t&&!MG(t)}var fk=$G,LG=fk,VG=jw;function FG(t){for(var e=VG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,LG(i)]}return e}var UG=FG;function BG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var hk=BG,zG=DG,qG=UG,WG=hk;function HG(t){var e=qG(t);return e.length==1&&e[0][2]?WG(e[0][0],e[0][1]):function(n){return n===t||zG(n,t,e)}}var KG=HG;function GG(t,e){return t!=null&&e in Object(t)}var QG=GG,XG=wC,YG=Iw,JG=On,ZG=Nw,eQ=Ow,tQ=fm;function nQ(t,e,n){e=XG(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=tQ(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&eQ(i)&&ZG(o,i)&&(JG(t)||YG(t)))}var rQ=nQ,iQ=QG,sQ=rQ;function oQ(t,e){return t!=null&&sQ(t,e,iQ)}var aQ=oQ,lQ=Cw,uQ=_C,cQ=aQ,dQ=cw,fQ=fk,hQ=hk,pQ=fm,mQ=1,gQ=2;function yQ(t,e){return dQ(t)&&fQ(e)?hQ(pQ(t),e):function(n){var r=uQ(n,t);return r===void 0&&r===e?cQ(n,t):lQ(e,r,mQ|gQ)}}var vQ=yQ;function xQ(t){return t}var _l=xQ;function bQ(t){return function(e){return e==null?void 0:e[t]}}var wQ=bQ,_Q=yw;function EQ(t){return function(e){return _Q(e,t)}}var SQ=EQ,TQ=wQ,AQ=SQ,PQ=cw,IQ=fm;function NQ(t){return PQ(t)?TQ(IQ(t)):AQ(t)}var OQ=NQ,jQ=KG,CQ=vQ,kQ=_l,RQ=On,DQ=OQ;function MQ(t){return typeof t=="function"?t:t==null?kQ:typeof t=="object"?RQ(t)?CQ(t[0],t[1]):jQ(t):DQ(t)}var Ps=MQ;function $Q(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var LQ=$Q;function VQ(t){return t!==t}var FQ=VQ;function UQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var BQ=UQ,zQ=LQ,qQ=FQ,WQ=BQ;function HQ(t,e,n){return e===e?WQ(t,e,n):zQ(t,qQ,n)}var KQ=HQ,GQ=KQ;function QQ(t,e){var n=t==null?0:t.length;return!!n&&GQ(t,e,0)>-1}var XQ=QQ;function YQ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var JQ=YQ;function ZQ(){}var eX=ZQ,uy=uk,tX=eX,nX=Pw,rX=1/0,iX=uy&&1/nX(new uy([,-0]))[1]==rX?function(t){return new uy(t)}:tX,sX=iX,oX=ZC,aX=XQ,lX=JQ,uX=tk,cX=sX,dX=Pw,fX=200;function hX(t,e,n){var r=-1,i=aX,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=lX;else if(s>=fX){var u=e?null:cX(t);if(u)return dX(u);o=!1,i=uX,l=new oX}else l=e?[]:a;e:for(;++r<s;){var f=t[r],h=e?e(f):f;if(f=n||f!==0?f:0,o&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;e&&l.push(h),a.push(f)}else i(l,h,n)||(l!==a&&l.push(h),a.push(f))}return a}var pX=hX,mX=Ps,gX=pX;function yX(t,e){return t&&t.length?gX(t,mX(e)):[]}var vX=yX;const IT=Je(vX);function pk(t,e,n){return e===!0?IT(t,n):Ne(e)?IT(t,e):t}function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}var xX=["ref"];function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){Om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gk(r.key),r)}}function wX(t,e,n){return e&&OT(t.prototype,e),n&&OT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _X(t,e,n){return e=Uh(e),EX(t,mk()?Reflect.construct(e,n||[],Uh(t).constructor):e.apply(t,n))}function EX(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(t)}function SX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mk=function(){return!!t})()}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(t)}function TX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v0(t,e)}function Om(t,e,n){return e=gk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gk(t){var e=AX(t,"string");return Ua(e)=="symbol"?e:e+""}function AX(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PX(t,e){if(t==null)return{};var n=IX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NX(t){return t.value}function OX(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=PX(e,xX);return B.createElement(Aw,n)}var jT=1,ro=function(t){function e(){var n;bX(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=_X(this,e,[].concat(i)),Om(n,"lastBoundingBox",{width:-1,height:-1}),n}return TX(e,t),wX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jT||Math.abs(i.height-this.lastBoundingBox.height)>jT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();p={top:((f||0)-y.height)/2}}else p=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ni(ni({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=ni(ni({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},OX(s,ni(ni({},this.props),{},{payload:pk(f,u,NX)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ni(ni({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Om(ro,"displayName","Legend");Om(ro,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CT=od,jX=Iw,CX=On,kT=CT?CT.isConcatSpreadable:void 0;function kX(t){return CX(t)||jX(t)||!!(kT&&t&&t[kT])}var RX=kX,DX=rk,MX=RX;function yk(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=MX),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?yk(a,e-1,n,r,i):DX(i,a):r||(i[i.length]=a)}return i}var vk=yk;function $X(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var LX=$X,VX=LX,FX=VX(),UX=FX,BX=UX,zX=jw;function qX(t,e){return t&&BX(t,e,zX)}var xk=qX,WX=Nm;function HX(t,e){return function(n,r){if(n==null)return n;if(!WX(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var KX=HX,GX=xk,QX=KX,XX=QX(GX),kw=XX,YX=kw,JX=Nm;function ZX(t,e){var n=-1,r=JX(t)?Array(t.length):[];return YX(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var bk=ZX;function eY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var tY=eY,RT=ml;function nY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=RT(t),o=e!==void 0,a=e===null,l=e===e,u=RT(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var rY=nY,iY=rY;function sY(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=iY(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var oY=sY,cy=gw,aY=yw,lY=Ps,uY=bk,cY=tY,dY=ok,fY=oY,hY=_l,pY=On;function mY(t,e,n){e.length?e=cy(e,function(s){return pY(s)?function(o){return aY(o,s.length===1?s[0]:s)}:s}):e=[hY];var r=-1;e=cy(e,dY(lY));var i=uY(t,function(s,o,a){var l=cy(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return cY(i,function(s,o){return fY(s,o,n)})}var gY=mY;function yY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vY=yY,xY=vY,DT=Math.max;function bY(t,e,n){return e=DT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=DT(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),xY(t,this,a)}}var wY=bY;function _Y(t){return function(){return t}}var EY=_Y,SY=No,TY=function(){try{var t=SY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wk=TY,AY=EY,MT=wk,PY=_l,IY=MT?function(t,e){return MT(t,"toString",{configurable:!0,enumerable:!1,value:AY(e),writable:!0})}:PY,NY=IY,OY=800,jY=16,CY=Date.now;function kY(t){var e=0,n=0;return function(){var r=CY(),i=jY-(r-n);if(n=r,i>0){if(++e>=OY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var RY=kY,DY=NY,MY=RY,$Y=MY(DY),LY=$Y,VY=_l,FY=wY,UY=LY;function BY(t,e){return UY(FY(t,e,VY),t+"")}var zY=BY,qY=fw,WY=Nm,HY=Nw,KY=As;function GY(t,e,n){if(!KY(n))return!1;var r=typeof e;return(r=="number"?WY(n)&&HY(e,n.length):r=="string"&&e in n)?qY(n[e],t):!1}var jm=GY,QY=vk,XY=gY,YY=zY,$T=jm,JY=YY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&$T(t,e[0],e[1])?e=[]:n>2&&$T(e[0],e[1],e[2])&&(e=[e[0]]),XY(t,QY(e,1),[])}),ZY=JY;const Rw=Je(ZY);function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function eJ(t,e){return iJ(t)||rJ(t,e)||nJ(t,e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function iJ(t){if(Array.isArray(t))return t}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=aJ(t,"string");return dc(e)=="symbol"?e:e+""}function aJ(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lJ(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var uJ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,h=e.formatter,p=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,w=e.label,_=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,x=function(){if(f&&f.length){var j={padding:0,margin:0},O=(p?Rw(f,p):f).map(function(q,M){if(q.type==="none")return null;var U=dy({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},a),G=q.formatter||h||lJ,F=q.value,W=q.name,V=F,K=W;if(G&&V!=null&&K!=null){var D=G(F,W,q,M,f);if(Array.isArray(D)){var L=eJ(D,2);V=L[0],K=L[1]}else V=D}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:U},Dt(K)?B.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Dt(K)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},V),B.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},N=dy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=dy({margin:0},u),P=!Re(w),E=P?w:"",S=ze("recharts-default-tooltip",m),I=ze("recharts-tooltip-label",y);P&&_&&f!==void 0&&f!==null&&(E=_(w,f));var C=v?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",x0({className:S,style:N},C),B.createElement("p",{className:I,style:T},B.isValidElement(E)?E:"".concat(E)),x())};function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function tf(t,e,n){return e=cJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=dJ(t,"string");return fc(e)=="symbol"?e:e+""}function dJ(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ql="recharts-tooltip-wrapper",fJ={visibility:"hidden"};function hJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ze(Ql,tf(tf(tf(tf({},"".concat(Ql,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(Ql,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(Ql,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(Ql,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function FT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&oe(s[r]))return s[r];var f=n[r]-a-i,h=n[r]+i;if(e[r])return o[r]?f:h;if(o[r]){var p=f,m=l[r];return p<m?Math.max(h,l[r]):Math.max(f,l[r])}var y=h+a,w=l[r]+u;return y>w?Math.max(f,l[r]):Math.max(h,l[r])}function pJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,f,h;return o.height>0&&o.width>0&&n?(f=FT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=FT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=pJ({translateX:f,translateY:h,useTranslate3d:a})):u=fJ,{cssProperties:u,cssClasses:hJ({translateX:f,translateY:h,coordinate:n})}}function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(r){w0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ek(r.key),r)}}function vJ(t,e,n){return e&&yJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xJ(t,e,n){return e=Bh(e),bJ(t,_k()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function bJ(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wJ(t)}function wJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_k=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function _J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b0(t,e)}function w0(t,e,n){return e=Ek(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ek(t){var e=EJ(t,"string");return Ba(e)=="symbol"?e:e+""}function EJ(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zT=1,SJ=function(t){function e(){var n;gJ(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=xJ(this,e,[].concat(i)),w0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),w0(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return _J(e,t),vJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>zT||Math.abs(r.height-this.state.lastBoundingBox.height)>zT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,m=i.offset,y=i.position,w=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,v=i.wrapperStyle,x=mJ({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:b}),N=x.cssClasses,T=x.cssProperties,P=BT(BT({transition:p&&s?"transform ".concat(a,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return B.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(S){r.wrapperNode=S}},u)}}])}($.PureComponent),TJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},io={isSsr:TJ(),get:function(e){return io[e]},set:function(e,n){if(typeof e=="string")io[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){io[i]=e[i]})}}};function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){Dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tk(r.key),r)}}function IJ(t,e,n){return e&&PJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NJ(t,e,n){return e=zh(e),OJ(t,Sk()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}function OJ(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jJ(t)}function jJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sk=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zh(t)}function CJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_0(t,e)}function Dw(t,e,n){return e=Tk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tk(t){var e=kJ(t,"string");return za(e)=="symbol"?e:e+""}function kJ(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RJ(t){return t.dataKey}function DJ(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(uJ,e)}var jr=function(t){function e(){return AJ(this,e),NJ(this,e,arguments)}return CJ(e,t),IJ(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,m=i.offset,y=i.payload,w=i.payloadUniqBy,_=i.position,b=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,N=i.wrapperStyle,T=y??[];h&&T.length&&(T=pk(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),w,RJ));var P=T.length>0;return B.createElement(SJ,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:p,active:s,coordinate:f,hasPayload:P,offset:m,position:_,reverseDirection:b,useTranslate3d:v,viewBox:x,wrapperStyle:N},DJ(u,WT(WT({},this.props),{},{payload:T})))}}])}($.PureComponent);Dw(jr,"displayName","Tooltip");Dw(jr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MJ=Xr,$J=function(){return MJ.Date.now()},LJ=$J,VJ=/\s/;function FJ(t){for(var e=t.length;e--&&VJ.test(t.charAt(e)););return e}var UJ=FJ,BJ=UJ,zJ=/^\s+/;function qJ(t){return t&&t.slice(0,BJ(t)+1).replace(zJ,"")}var WJ=qJ,HJ=WJ,HT=As,KJ=ml,KT=NaN,GJ=/^[-+]0x[0-9a-f]+$/i,QJ=/^0b[01]+$/i,XJ=/^0o[0-7]+$/i,YJ=parseInt;function JJ(t){if(typeof t=="number")return t;if(KJ(t))return KT;if(HT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=HJ(t);var n=QJ.test(t);return n||XJ.test(t)?YJ(t.slice(2),n?2:8):GJ.test(t)?KT:+t}var Ak=JJ,ZJ=As,fy=LJ,GT=Ak,eZ="Expected a function",tZ=Math.max,nZ=Math.min;function rZ(t,e,n){var r,i,s,o,a,l,u=0,f=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(eZ);e=GT(e)||0,ZJ(n)&&(f=!!n.leading,h="maxWait"in n,s=h?tZ(GT(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(P){var E=r,S=i;return r=i=void 0,u=P,o=t.apply(S,E),o}function y(P){return u=P,a=setTimeout(b,e),f?m(P):o}function w(P){var E=P-l,S=P-u,I=e-E;return h?nZ(I,s-S):I}function _(P){var E=P-l,S=P-u;return l===void 0||E>=e||E<0||h&&S>=s}function b(){var P=fy();if(_(P))return v(P);a=setTimeout(b,w(P))}function v(P){return a=void 0,p&&r?m(P):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?o:v(fy())}function T(){var P=fy(),E=_(P);if(r=arguments,i=this,l=P,E){if(a===void 0)return y(l);if(h)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),o}return T.cancel=x,T.flush=N,T}var iZ=rZ,sZ=iZ,oZ=As,aZ="Expected a function";function lZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(aZ);return oZ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sZ(t,e,{leading:r,maxWait:e,trailing:i})}var uZ=lZ;const Pk=Je(uZ);function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(r){cZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cZ(t,e,n){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=fZ(t,"string");return hc(e)=="symbol"?e:e+""}function fZ(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hZ(t,e){return yZ(t)||gZ(t,e)||mZ(t,e)||pZ()}function pZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mZ(t,e){if(t){if(typeof t=="string")return XT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(t,e)}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function yZ(t){if(Array.isArray(t))return t}var vZ=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,m=t.children,y=t.debounce,w=y===void 0?0:y,_=t.id,b=t.className,v=t.onResize,x=t.style,N=x===void 0?{}:x,T=$.useRef(null),P=$.useRef();P.current=v,$.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=$.useState({containerWidth:i.width,containerHeight:i.height}),S=hZ(E,2),I=S[0],C=S[1],k=$.useCallback(function(O,q){C(function(M){var U=Math.round(O),G=Math.round(q);return M.containerWidth===U&&M.containerHeight===G?M:{containerWidth:U,containerHeight:G}})},[]);$.useEffect(function(){var O=function(W){var V,K=W[0].contentRect,D=K.width,L=K.height;k(D,L),(V=P.current)===null||V===void 0||V.call(P,D,L)};w>0&&(O=Pk(O,w,{trailing:!0,leading:!1}));var q=new ResizeObserver(O),M=T.current.getBoundingClientRect(),U=M.width,G=M.height;return k(U,G),q.observe(T.current),function(){q.disconnect()}},[k,w]);var j=$.useMemo(function(){var O=I.containerWidth,q=I.containerHeight;if(O<0||q<0)return null;vi(Xs(o)||Xs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),vi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Xs(o)?O:o,U=Xs(l)?q:l;n&&n>0&&(M?U=M/n:U&&(M=U*n),p&&U>p&&(U=p)),vi(M>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,U,o,l,f,h,n);var G=!Array.isArray(m)&&yi(m.type).endsWith("Chart");return B.Children.map(m,function(F){return B.isValidElement(F)?$.cloneElement(F,nf({width:M,height:U},G?{style:nf({height:"100%",width:"100%",maxHeight:U,maxWidth:M},F.props.style)}:{})):F})},[n,m,l,p,h,f,I,o]);return B.createElement("div",{id:_?"".concat(_):void 0,className:ze("recharts-responsive-container",b),style:nf(nf({},N),{},{width:o,height:l,minWidth:f,minHeight:h,maxHeight:p}),ref:T},j)}),Mw=function(e){return null};Mw.displayName="Cell";function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){xZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e,n){return e=bZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bZ(t){var e=wZ(t,"string");return pc(e)=="symbol"?e:e+""}function wZ(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lo={widthCache:{},cacheCount:0},_Z=2e3,EZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JT="recharts_measurement_span";function SZ(t){var e=E0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ZT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||io.isSsr)return{width:0,height:0};var r=SZ(n),i=JSON.stringify({text:e,copyStyle:r});if(Lo.widthCache[i])return Lo.widthCache[i];try{var s=document.getElementById(JT);s||(s=document.createElement("span"),s.setAttribute("id",JT),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=E0(E0({},EZ),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Lo.widthCache[i]=l,++Lo.cacheCount>_Z&&(Lo.cacheCount=0,Lo.widthCache={}),l}catch{return{width:0,height:0}}},TZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function qh(t,e){return NZ(t)||IZ(t,e)||PZ(t,e)||AZ()}function AZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZ(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function NZ(t){if(Array.isArray(t))return t}function OZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CZ(r.key),r)}}function jZ(t,e,n){return e&&tA(t.prototype,e),n&&tA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CZ(t){var e=kZ(t,"string");return mc(e)=="symbol"?e:e+""}function kZ(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ik={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MZ=Object.keys(Ik),sa="NaN";function $Z(t,e){return t*Ik[e]}var rf=function(){function t(e,n){OZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!RZ.test(n)&&(this.num=NaN,this.unit=""),MZ.includes(n)&&(this.num=$Z(e,n),this.unit="px")}return jZ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=DZ.exec(n))!==null&&r!==void 0?r:[],s=qh(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function Nk(t){if(t.includes(sa))return sa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nA.exec(e))!==null&&n!==void 0?n:[],i=qh(r,4),s=i[1],o=i[2],a=i[3],l=rf.parse(s??""),u=rf.parse(a??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return sa;e=e.replace(nA,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=rA.exec(e))!==null&&h!==void 0?h:[],m=qh(p,4),y=m[1],w=m[2],_=m[3],b=rf.parse(y??""),v=rf.parse(_??""),x=w==="+"?b.add(v):b.subtract(v);if(x.isNaN())return sa;e=e.replace(rA,x.toString())}return e}var iA=/\(([^()]*)\)/;function LZ(t){for(var e=t;e.includes("(");){var n=iA.exec(e),r=qh(n,2),i=r[1];e=e.replace(iA,Nk(i))}return e}function VZ(t){var e=t.replace(/\s+/g,"");return e=LZ(e),e=Nk(e),e}function FZ(t){try{return VZ(t)}catch{return sa}}function hy(t){var e=FZ(t.slice(5,-1));return e===sa?"":e}var UZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BZ=["dx","dy","angle","className","breakAll"];function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function sA(t,e){if(t==null)return{};var n=zZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oA(t,e){return KZ(t)||HZ(t,e)||WZ(t,e)||qZ()}function qZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WZ(t,e){if(t){if(typeof t=="string")return aA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aA(t,e)}}function aA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function KZ(t){if(Array.isArray(t))return t}var Ok=/[ \f\n\r\t\v\u2028\u2029]+/,jk=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Re(n)||(r?s=n.toString().split(""):s=n.toString().split(Ok));var o=s.map(function(l){return{word:l,width:ZT(l,i).width}}),a=r?0:ZT("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},GZ=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,f=oe(o),h=a,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(U,G){var F=G.word,W=G.width,V=U[U.length-1];if(V&&(i==null||s||V.width+W+r<Number(i)))V.words.push(F),V.width+=W+r;else{var K={words:[F],width:W};U.push(K)}return U},[])},m=p(n),y=function(M){return M.reduce(function(U,G){return U.width>G.width?U:G})};if(!f)return m;for(var w="",_=function(M){var U=h.slice(0,M),G=jk({breakAll:u,style:l,children:U+w}).wordsWithComputedWidth,F=p(G),W=F.length>o||y(F).width>Number(i);return[W,F]},b=0,v=h.length-1,x=0,N;b<=v&&x<=h.length-1;){var T=Math.floor((b+v)/2),P=T-1,E=_(P),S=oA(E,2),I=S[0],C=S[1],k=_(T),j=oA(k,1),O=j[0];if(!I&&!O&&(b=T+1),I&&O&&(v=T-1),!I&&O){N=C;break}x++}return N||m},lA=function(e){var n=Re(e)?[]:e.toString().split(Ok);return[{words:n}]},QZ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!io.isSsr){var l,u,f=jk({breakAll:o,children:i,style:s});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;l=h,u=p}else return lA(i);return GZ({breakAll:o,children:i,maxLines:a,style:s},l,u,n,r)}return lA(i)},uA="#808080",qa=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,m=p===void 0?"start":p,y=e.verticalAnchor,w=y===void 0?"end":y,_=e.fill,b=_===void 0?uA:_,v=sA(e,UZ),x=$.useMemo(function(){return QZ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),N=v.dx,T=v.dy,P=v.angle,E=v.className,S=v.breakAll,I=sA(v,BZ);if(!Dt(r)||!Dt(s))return null;var C=r+(oe(N)?N:0),k=s+(oe(T)?T:0),j;switch(w){case"start":j=hy("calc(".concat(u,")"));break;case"middle":j=hy("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:j=hy("calc(".concat(x.length-1," * -").concat(a,")"));break}var O=[];if(h){var q=x[0].width,M=v.width;O.push("scale(".concat((oe(M)?M/q:1)/q,")"))}return P&&O.push("rotate(".concat(P,", ").concat(C,", ").concat(k,")")),O.length&&(I.transform=O.join(" ")),B.createElement("text",S0({},Ie(I,!0),{x:C,y:k,className:ze("recharts-text",E),textAnchor:m,fill:b.includes("url")?uA:b}),x.map(function(U,G){var F=U.words.join(S?"":" ");return B.createElement("tspan",{x:C,dy:G===0?j:a,key:"".concat(F,"-").concat(G)},F)}))};function fs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $w(t){let e,n,r;t.length!==2?(e=fs,n=(a,l)=>fs(t(a),l),r=(a,l)=>t(a)-l):(e=t===fs||t===XZ?t:YZ,n=t,r=t);function i(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(a[h],l)<0?u=h+1:f=h}while(u<f)}return u}function s(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(a[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function o(a,l,u=0,f=a.length){const h=i(a,l,u,f-1);return h>u&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:o,right:s}}function YZ(){return 0}function Ck(t){return t===null?NaN:+t}function*JZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ZZ=$w(fs),ud=ZZ.right;$w(Ck).center;class cA extends Map{constructor(e,n=nee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dA(this,e))}has(e){return super.has(dA(this,e))}set(e,n){return super.set(eee(this,e),n)}delete(e){return super.delete(tee(this,e))}}function dA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function eee({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ree(t=fs){if(t===fs)return kk;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function kk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const iee=Math.sqrt(50),see=Math.sqrt(10),oee=Math.sqrt(2);function Wh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=iee?10:s>=see?5:s>=oee?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Wh(t,e,n*2):[a,l,u]}function T0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Wh(e,t,n):Wh(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function A0(t,e,n){return e=+e,t=+t,n=+n,Wh(t,e,n)[2]}function P0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?A0(e,t,n):A0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Rk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?kk:ree(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/l+p)),y=Math.min(r,Math.floor(e+(l-u)*h/l+p));Rk(t,e,m,y,i)}const s=t[e];let o=n,a=r;for(Xl(t,n,e),i(t[r],s)>0&&Xl(t,n,r);o<a;){for(Xl(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Xl(t,n,a):(++a,Xl(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Xl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function aee(t,e,n){if(t=Float64Array.from(JZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hA(t);if(e>=1)return fA(t);var r,i=(r-1)*e,s=Math.floor(i),o=fA(Rk(t,s).subarray(0,s+1)),a=hA(t.subarray(s+1));return o+(a-o)*(i-s)}}function lee(t,e,n=Ck){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function uee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Di(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const I0=Symbol("implicit");function Lw(){var t=new cA,e=[],n=[],r=I0;function i(s){let o=t.get(s);if(o===void 0){if(r!==I0)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new cA;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Lw(e,n).unknown(r)},ur.apply(i,arguments),i}function gc(){var t=Lw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,f=.5;delete t.unknown;function h(){var p=e().length,m=i<r,y=m?i:r,w=m?r:i;s=(w-y)/Math.max(1,p-l+u*2),a&&(s=Math.floor(s)),y+=(w-y-s*(p-l))*f,o=s*(1-l),a&&(y=Math.round(y),o=Math.round(o));var _=uee(p).map(function(b){return y+s*b});return n(m?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(a=!!p,h()):a},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return gc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(f)},ur.apply(h(),arguments)}function Dk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Dk(e())},t}function ju(){return Dk(gc.apply(null,arguments).paddingInner(1))}function Vw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cd(){}var yc=.7,Hh=1/yc,wa="\\s*([+-]?\\d+)\\s*",vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cee=/^#([0-9a-f]{3,8})$/,dee=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),fee=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),hee=new RegExp(`^rgba\\(${wa},${wa},${wa},${vc}\\)$`),pee=new RegExp(`^rgba\\(${zr},${zr},${zr},${vc}\\)$`),mee=new RegExp(`^hsl\\(${vc},${zr},${zr}\\)$`),gee=new RegExp(`^hsla\\(${vc},${zr},${zr},${vc}\\)$`),pA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vw(cd,xc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mA,formatHex:mA,formatHex8:yee,formatHsl:vee,formatRgb:gA,toString:gA});function mA(){return this.rgb().formatHex()}function yee(){return this.rgb().formatHex8()}function vee(){return $k(this).formatHsl()}function gA(){return this.rgb().formatRgb()}function xc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yA(e):n===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dee.exec(t))?new An(e[1],e[2],e[3],1):(e=fee.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hee.exec(t))?sf(e[1],e[2],e[3],e[4]):(e=pee.exec(t))?sf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mee.exec(t))?bA(e[1],e[2]/100,e[3]/100,1):(e=gee.exec(t))?bA(e[1],e[2]/100,e[3]/100,e[4]):pA.hasOwnProperty(t)?yA(pA[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function yA(t){return new An(t>>16&255,t>>8&255,t&255,1)}function sf(t,e,n,r){return r<=0&&(t=e=n=NaN),new An(t,e,n,r)}function xee(t){return t instanceof cd||(t=xc(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function N0(t,e,n,r){return arguments.length===1?xee(t):new An(t,e,n,r??1)}function An(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Vw(An,N0,Mk(cd,{brighter(t){return t=t==null?Hh:Math.pow(Hh,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yc:Math.pow(yc,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(so(this.r),so(this.g),so(this.b),Kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vA,formatHex:vA,formatHex8:bee,formatRgb:xA,toString:xA}));function vA(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}`}function bee(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}${Ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function xA(){const t=Kh(this.opacity);return`${t===1?"rgb(":"rgba("}${so(this.r)}, ${so(this.g)}, ${so(this.b)}${t===1?")":`, ${t})`}`}function Kh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function so(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ys(t){return t=so(t),(t<16?"0":"")+t.toString(16)}function bA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yr(t,e,n,r)}function $k(t){if(t instanceof yr)return new yr(t.h,t.s,t.l,t.opacity);if(t instanceof cd||(t=xc(t)),!t)return new yr;if(t instanceof yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new yr(o,a,l,t.opacity)}function wee(t,e,n,r){return arguments.length===1?$k(t):new yr(t,e,n,r??1)}function yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Vw(yr,wee,Mk(cd,{brighter(t){return t=t==null?Hh:Math.pow(Hh,t),new yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yc:Math.pow(yc,t),new yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new An(py(t>=240?t-240:t+120,i,r),py(t,i,r),py(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yr(wA(this.h),of(this.s),of(this.l),Kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kh(this.opacity);return`${t===1?"hsl(":"hsla("}${wA(this.h)}, ${of(this.s)*100}%, ${of(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wA(t){return t=(t||0)%360,t<0?t+360:t}function of(t){return Math.max(0,Math.min(1,t||0))}function py(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Fw=t=>()=>t;function _ee(t,e){return function(n){return t+n*e}}function Eee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function See(t){return(t=+t)==1?Lk:function(e,n){return n-e?Eee(e,n,t):Fw(isNaN(e)?n:e)}}function Lk(t,e){var n=e-t;return n?_ee(t,n):Fw(isNaN(t)?e:t)}const _A=function t(e){var n=See(e);function r(i,s){var o=n((i=N0(i)).r,(s=N0(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Lk(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Tee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Aee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=El(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Iee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=El(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var O0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,my=new RegExp(O0.source,"g");function Oee(t){return function(){return t}}function jee(t){return function(e){return t(e)+""}}function Cee(t,e){var n=O0.lastIndex=my.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=O0.exec(t))&&(i=my.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Gh(r,i)})),n=my.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?jee(l[0].x):Oee(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)a[(h=l[f]).i]=h.x(u);return a.join("")})}function El(t,e){var n=typeof e,r;return e==null||n==="boolean"?Fw(e):(n==="number"?Gh:n==="string"?(r=xc(e))?(e=r,_A):Cee:e instanceof xc?_A:e instanceof Date?Iee:Aee(e)?Tee:Array.isArray(e)?Pee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nee:Gh)(t,e)}function Uw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kee(t,e){e===void 0&&(e=t,t=El);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Ree(t){return function(){return t}}function Qh(t){return+t}var EA=[0,1];function pn(t){return t}function j0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ree(isNaN(e)?NaN:.5)}function Dee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Mee(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=j0(i,r),s=n(o,s)):(r=j0(r,i),s=n(s,o)),function(a){return s(r(a))}}function $ee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=j0(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=ud(t,a,1,r)-1;return s[l](i[l](a))}}function dd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cm(){var t=EA,e=EA,n=El,r,i,s,o=pn,a,l,u;function f(){var p=Math.min(t.length,e.length);return o!==pn&&(o=Dee(t[0],t[p-1])),a=p>2?$ee:Mee,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?s:(l||(l=a(t.map(r),e,n)))(r(o(p)))}return h.invert=function(p){return o(i((u||(u=a(e,t.map(r),Gh)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,Qh),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=Uw,f()},h.clamp=function(p){return arguments.length?(o=p?!0:pn,f()):o!==pn},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,m){return r=p,i=m,f()}}function Bw(){return Cm()(pn,pn)}function Lee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wa(t){return t=Xh(Math.abs(t)),t?t[1]:NaN}function Vee(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Fee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Uee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(t){if(!(e=Uee.exec(t)))throw new Error("invalid format: "+t);var e;return new zw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bc.prototype=zw.prototype;function zw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Vk;function zee(t,e){var n=Xh(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Vk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Xh(t,Math.max(0,e+s-1))[0]}function SA(t,e){var n=Xh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SA(t*100,e),r:SA,s:zee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AA(t){return t}var PA=Array.prototype.map,IA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qee(t){var e=t.grouping===void 0||t.thousands===void 0?AA:Vee(PA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?AA:Fee(PA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=bc(h);var p=h.fill,m=h.align,y=h.sign,w=h.symbol,_=h.zero,b=h.width,v=h.comma,x=h.precision,N=h.trim,T=h.type;T==="n"?(v=!0,T="g"):TA[T]||(x===void 0&&(x=12),N=!0,T="g"),(_||p==="0"&&m==="=")&&(_=!0,p="0",m="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=w==="$"?r:/[%p]/.test(T)?o:"",S=TA[T],I=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(k){var j=P,O=E,q,M,U;if(T==="c")O=S(k)+O,k="";else{k=+k;var G=k<0||1/k<0;if(k=isNaN(k)?l:S(Math.abs(k),x),N&&(k=Bee(k)),G&&+k==0&&y!=="+"&&(G=!1),j=(G?y==="("?y:a:y==="-"||y==="("?"":y)+j,O=(T==="s"?IA[8+Vk/3]:"")+O+(G&&y==="("?")":""),I){for(q=-1,M=k.length;++q<M;)if(U=k.charCodeAt(q),48>U||U>57){O=(U===46?i+k.slice(q+1):k.slice(q))+O,k=k.slice(0,q);break}}}v&&!_&&(k=e(k,1/0));var F=j.length+k.length+O.length,W=F<b?new Array(b-F+1).join(p):"";switch(v&&_&&(k=e(W+k,W.length?b-O.length:1/0),W=""),m){case"<":k=j+k+O+W;break;case"=":k=j+W+k+O;break;case"^":k=W.slice(0,F=W.length>>1)+j+k+O+W.slice(F);break;default:k=W+j+k+O;break}return s(k)}return C.toString=function(){return h+""},C}function f(h,p){var m=u((h=bc(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Wa(p)/3)))*3,w=Math.pow(10,-y),_=IA[8+y/3];return function(b){return m(w*b)+_}}return{format:u,formatPrefix:f}}var af,qw,Fk;Wee({thousands:",",grouping:[3],currency:["$",""]});function Wee(t){return af=qee(t),qw=af.format,Fk=af.formatPrefix,af}function Hee(t){return Math.max(0,-Wa(Math.abs(t)))}function Kee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wa(e)/3)))*3-Wa(Math.abs(t)))}function Gee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wa(e)-Wa(t))+1}function Uk(t,e,n,r){var i=P0(t,e,n),s;switch(r=bc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Kee(i,o))&&(r.precision=s),Fk(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Gee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Hee(i))&&(r.precision=s-(r.type==="%")*2);break}}return qw(r)}function Is(t){var e=t.domain;return t.ticks=function(n){var r=e();return T0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Uk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,f=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);f-- >0;){if(u=A0(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Yh(){var t=Bw();return t.copy=function(){return dd(t,Yh())},ur.apply(t,arguments),Is(t)}function Bk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Bk(t).unknown(e)},t=arguments.length?Array.from(t,Qh):[0,1],Is(n)}function zk(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function NA(t){return Math.log(t)}function OA(t){return Math.exp(t)}function Qee(t){return-Math.log(-t)}function Xee(t){return-Math.exp(-t)}function Yee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jee(t){return t===10?Yee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Zee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jA(t){return(e,n)=>-t(-e,n)}function Ww(t){const e=t(NA,OA),n=e.domain;let r=10,i,s;function o(){return i=Zee(r),s=Jee(r),n()[0]<0?(i=jA(i),s=jA(s),t(Qee,Xee)):t(NA,OA),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),m=i(f),y,w;const _=a==null?10:+a;let b=[];if(!(r%1)&&m-p<_){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<r;++y)if(w=p<0?y/s(-p):y*s(p),!(w<u)){if(w>f)break;b.push(w)}}else for(;p<=m;++p)for(y=r-1;y>=1;--y)if(w=p>0?y/s(-p):y*s(p),!(w<u)){if(w>f)break;b.push(w)}b.length*2<_&&(b=T0(u,f,_))}else b=T0(p,m,Math.min(m-p,_)).map(s);return h?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bc(l)).precision==null&&(l.trim=!0),l=qw(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?l(f):""}},e.nice=()=>n(zk(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function qk(){const t=Ww(Cm()).domain([1,10]);return t.copy=()=>dd(t,qk()).base(t.base()),ur.apply(t,arguments),t}function CA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Hw(t){var e=1,n=t(CA(e),kA(e));return n.constant=function(r){return arguments.length?t(CA(e=+r),kA(e)):e},Is(n)}function Wk(){var t=Hw(Cm());return t.copy=function(){return dd(t,Wk()).constant(t.constant())},ur.apply(t,arguments)}function RA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ete(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function tte(t){return t<0?-t*t:t*t}function Kw(t){var e=t(pn,pn),n=1;function r(){return n===1?t(pn,pn):n===.5?t(ete,tte):t(RA(n),RA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Is(e)}function Gw(){var t=Kw(Cm());return t.copy=function(){return dd(t,Gw()).exponent(t.exponent())},ur.apply(t,arguments),t}function nte(){return Gw.apply(null,arguments).exponent(.5)}function DA(t){return Math.sign(t)*t*t}function rte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Hk(){var t=Bw(),e=[0,1],n=!1,r;function i(s){var o=rte(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(DA(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Qh)).map(DA)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Hk(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ur.apply(i,arguments),Is(i)}function Kk(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=lee(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[ud(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(fs),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Kk().domain(t).range(e).unknown(r)},ur.apply(s,arguments)}function Gk(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[ud(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Gk().domain([t,e]).range(i).unknown(s)},ur.apply(Is(o),arguments)}function Qk(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[ud(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Qk().domain(t).range(e).unknown(n)},ur.apply(i,arguments)}const gy=new Date,yy=new Date;function $t(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>$t(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(gy.setTime(+s),yy.setTime(+o),t(gy),t(yy),Math.floor(n(gy,yy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Jh=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jh);Jh.range;const fi=1e3,nr=fi*60,hi=nr*60,Ii=hi*24,Qw=Ii*7,MA=Ii*30,vy=Ii*365,Js=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCSeconds());Js.range;const Xw=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,e)=>{t.setTime(+t+e*nr)},(t,e)=>(e-t)/nr,t=>t.getMinutes());Xw.range;const Yw=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nr)},(t,e)=>(e-t)/nr,t=>t.getUTCMinutes());Yw.range;const Jw=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*nr)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getHours());Jw.range;const Zw=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCHours());Zw.range;const fd=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nr)/Ii,t=>t.getDate()-1);fd.range;const km=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ii,t=>t.getUTCDate()-1);km.range;const Xk=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ii,t=>Math.floor(t/Ii));Xk.range;function Oo(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*nr)/Qw)}const Rm=Oo(0),Zh=Oo(1),ite=Oo(2),ste=Oo(3),Ha=Oo(4),ote=Oo(5),ate=Oo(6);Rm.range;Zh.range;ite.range;ste.range;Ha.range;ote.range;ate.range;function jo(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Qw)}const Dm=jo(0),ep=jo(1),lte=jo(2),ute=jo(3),Ka=jo(4),cte=jo(5),dte=jo(6);Dm.range;ep.range;lte.range;ute.range;Ka.range;cte.range;dte.range;const e_=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());e_.range;const t_=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());t_.range;const Ni=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ni.range;const Oi=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Oi.range;function Yk(t,e,n,r,i,s){const o=[[Js,1,fi],[Js,5,5*fi],[Js,15,15*fi],[Js,30,30*fi],[s,1,nr],[s,5,5*nr],[s,15,15*nr],[s,30,30*nr],[i,1,hi],[i,3,3*hi],[i,6,6*hi],[i,12,12*hi],[r,1,Ii],[r,2,2*Ii],[n,1,Qw],[e,1,MA],[e,3,3*MA],[t,1,vy]];function a(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const m=h&&typeof h.range=="function"?h:l(u,f,h),y=m?m.range(u,+f+1):[];return p?y.reverse():y}function l(u,f,h){const p=Math.abs(f-u)/h,m=$w(([,,_])=>_).right(o,p);if(m===o.length)return t.every(P0(u/vy,f/vy,h));if(m===0)return Jh.every(Math.max(P0(u,f,h),1));const[y,w]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return y.every(w)}return[a,l]}const[fte,hte]=Yk(Oi,t_,Dm,Xk,Zw,Yw),[pte,mte]=Yk(Ni,e_,Rm,fd,Jw,Xw);function xy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function by(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function gte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=Jl(i),f=Zl(i),h=Jl(s),p=Zl(s),m=Jl(o),y=Zl(o),w=Jl(a),_=Zl(a),b=Jl(l),v=Zl(l),x={a:G,A:F,b:W,B:V,c:null,d:BA,e:BA,f:Vte,g:Qte,G:Yte,H:Mte,I:$te,j:Lte,L:Jk,m:Fte,M:Ute,p:K,q:D,Q:WA,s:HA,S:Bte,u:zte,U:qte,V:Wte,w:Hte,W:Kte,x:null,X:null,y:Gte,Y:Xte,Z:Jte,"%":qA},N={a:L,A:X,b:ne,B:re,c:null,d:zA,e:zA,f:nne,g:fne,G:pne,H:Zte,I:ene,j:tne,L:eR,m:rne,M:ine,p:ge,q:De,Q:WA,s:HA,S:sne,u:one,U:ane,V:lne,w:une,W:cne,x:null,X:null,y:dne,Y:hne,Z:mne,"%":qA},T={a:C,A:k,b:j,B:O,c:q,d:FA,e:FA,f:Cte,g:VA,G:LA,H:UA,I:UA,j:Ite,L:jte,m:Pte,M:Nte,p:I,q:Ate,Q:Rte,s:Dte,S:Ote,u:wte,U:_te,V:Ete,w:bte,W:Ste,x:M,X:U,y:VA,Y:LA,Z:Tte,"%":kte};x.x=P(n,x),x.X=P(r,x),x.c=P(e,x),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(Z,se){return function(ae){var Y=[],we=-1,ve=0,We=Z.length,Ke,St,zn;for(ae instanceof Date||(ae=new Date(+ae));++we<We;)Z.charCodeAt(we)===37&&(Y.push(Z.slice(ve,we)),(St=$A[Ke=Z.charAt(++we)])!=null?Ke=Z.charAt(++we):St=Ke==="e"?" ":"0",(zn=se[Ke])&&(Ke=zn(ae,St)),Y.push(Ke),ve=we+1);return Y.push(Z.slice(ve,we)),Y.join("")}}function E(Z,se){return function(ae){var Y=Yl(1900,void 0,1),we=S(Y,Z,ae+="",0),ve,We;if(we!=ae.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(se&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ve=by(Yl(Y.y,0,1)),We=ve.getUTCDay(),ve=We>4||We===0?ep.ceil(ve):ep(ve),ve=km.offset(ve,(Y.V-1)*7),Y.y=ve.getUTCFullYear(),Y.m=ve.getUTCMonth(),Y.d=ve.getUTCDate()+(Y.w+6)%7):(ve=xy(Yl(Y.y,0,1)),We=ve.getDay(),ve=We>4||We===0?Zh.ceil(ve):Zh(ve),ve=fd.offset(ve,(Y.V-1)*7),Y.y=ve.getFullYear(),Y.m=ve.getMonth(),Y.d=ve.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),We="Z"in Y?by(Yl(Y.y,0,1)).getUTCDay():xy(Yl(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(We+5)%7:Y.w+Y.U*7-(We+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,by(Y)):xy(Y)}}function S(Z,se,ae,Y){for(var we=0,ve=se.length,We=ae.length,Ke,St;we<ve;){if(Y>=We)return-1;if(Ke=se.charCodeAt(we++),Ke===37){if(Ke=se.charAt(we++),St=T[Ke in $A?se.charAt(we++):Ke],!St||(Y=St(Z,ae,Y))<0)return-1}else if(Ke!=ae.charCodeAt(Y++))return-1}return Y}function I(Z,se,ae){var Y=u.exec(se.slice(ae));return Y?(Z.p=f.get(Y[0].toLowerCase()),ae+Y[0].length):-1}function C(Z,se,ae){var Y=m.exec(se.slice(ae));return Y?(Z.w=y.get(Y[0].toLowerCase()),ae+Y[0].length):-1}function k(Z,se,ae){var Y=h.exec(se.slice(ae));return Y?(Z.w=p.get(Y[0].toLowerCase()),ae+Y[0].length):-1}function j(Z,se,ae){var Y=b.exec(se.slice(ae));return Y?(Z.m=v.get(Y[0].toLowerCase()),ae+Y[0].length):-1}function O(Z,se,ae){var Y=w.exec(se.slice(ae));return Y?(Z.m=_.get(Y[0].toLowerCase()),ae+Y[0].length):-1}function q(Z,se,ae){return S(Z,e,se,ae)}function M(Z,se,ae){return S(Z,n,se,ae)}function U(Z,se,ae){return S(Z,r,se,ae)}function G(Z){return o[Z.getDay()]}function F(Z){return s[Z.getDay()]}function W(Z){return l[Z.getMonth()]}function V(Z){return a[Z.getMonth()]}function K(Z){return i[+(Z.getHours()>=12)]}function D(Z){return 1+~~(Z.getMonth()/3)}function L(Z){return o[Z.getUTCDay()]}function X(Z){return s[Z.getUTCDay()]}function ne(Z){return l[Z.getUTCMonth()]}function re(Z){return a[Z.getUTCMonth()]}function ge(Z){return i[+(Z.getUTCHours()>=12)]}function De(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var se=P(Z+="",x);return se.toString=function(){return Z},se},parse:function(Z){var se=E(Z+="",!1);return se.toString=function(){return Z},se},utcFormat:function(Z){var se=P(Z+="",N);return se.toString=function(){return Z},se},utcParse:function(Z){var se=E(Z+="",!0);return se.toString=function(){return Z},se}}}var $A={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,yte=/^%/,vte=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function xte(t){return t.replace(vte,"\\$&")}function Jl(t){return new RegExp("^(?:"+t.map(xte).join("|")+")","i")}function Zl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function bte(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wte(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _te(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ete(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ste(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function LA(t,e,n){var r=Bt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VA(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ate(t,e,n){var r=Bt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Pte(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function FA(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ite(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function UA(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nte(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ote(t,e,n){var r=Bt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jte(t,e,n){var r=Bt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cte(t,e,n){var r=Bt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kte(t,e,n){var r=yte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Rte(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Dte(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BA(t,e){return qe(t.getDate(),e,2)}function Mte(t,e){return qe(t.getHours(),e,2)}function $te(t,e){return qe(t.getHours()%12||12,e,2)}function Lte(t,e){return qe(1+fd.count(Ni(t),t),e,3)}function Jk(t,e){return qe(t.getMilliseconds(),e,3)}function Vte(t,e){return Jk(t,e)+"000"}function Fte(t,e){return qe(t.getMonth()+1,e,2)}function Ute(t,e){return qe(t.getMinutes(),e,2)}function Bte(t,e){return qe(t.getSeconds(),e,2)}function zte(t){var e=t.getDay();return e===0?7:e}function qte(t,e){return qe(Rm.count(Ni(t)-1,t),e,2)}function Zk(t){var e=t.getDay();return e>=4||e===0?Ha(t):Ha.ceil(t)}function Wte(t,e){return t=Zk(t),qe(Ha.count(Ni(t),t)+(Ni(t).getDay()===4),e,2)}function Hte(t){return t.getDay()}function Kte(t,e){return qe(Zh.count(Ni(t)-1,t),e,2)}function Gte(t,e){return qe(t.getFullYear()%100,e,2)}function Qte(t,e){return t=Zk(t),qe(t.getFullYear()%100,e,2)}function Xte(t,e){return qe(t.getFullYear()%1e4,e,4)}function Yte(t,e){var n=t.getDay();return t=n>=4||n===0?Ha(t):Ha.ceil(t),qe(t.getFullYear()%1e4,e,4)}function Jte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function zA(t,e){return qe(t.getUTCDate(),e,2)}function Zte(t,e){return qe(t.getUTCHours(),e,2)}function ene(t,e){return qe(t.getUTCHours()%12||12,e,2)}function tne(t,e){return qe(1+km.count(Oi(t),t),e,3)}function eR(t,e){return qe(t.getUTCMilliseconds(),e,3)}function nne(t,e){return eR(t,e)+"000"}function rne(t,e){return qe(t.getUTCMonth()+1,e,2)}function ine(t,e){return qe(t.getUTCMinutes(),e,2)}function sne(t,e){return qe(t.getUTCSeconds(),e,2)}function one(t){var e=t.getUTCDay();return e===0?7:e}function ane(t,e){return qe(Dm.count(Oi(t)-1,t),e,2)}function tR(t){var e=t.getUTCDay();return e>=4||e===0?Ka(t):Ka.ceil(t)}function lne(t,e){return t=tR(t),qe(Ka.count(Oi(t),t)+(Oi(t).getUTCDay()===4),e,2)}function une(t){return t.getUTCDay()}function cne(t,e){return qe(ep.count(Oi(t)-1,t),e,2)}function dne(t,e){return qe(t.getUTCFullYear()%100,e,2)}function fne(t,e){return t=tR(t),qe(t.getUTCFullYear()%100,e,2)}function hne(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function pne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ka(t):Ka.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function mne(){return"+0000"}function qA(){return"%"}function WA(t){return+t}function HA(t){return Math.floor(+t/1e3)}var Vo,nR,rR;gne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gne(t){return Vo=gte(t),nR=Vo.format,Vo.parse,rR=Vo.utcFormat,Vo.utcParse,Vo}function yne(t){return new Date(t)}function vne(t){return t instanceof Date?+t:+new Date(+t)}function n_(t,e,n,r,i,s,o,a,l,u){var f=Bw(),h=f.invert,p=f.domain,m=u(".%L"),y=u(":%S"),w=u("%I:%M"),_=u("%I %p"),b=u("%a %d"),v=u("%b %d"),x=u("%B"),N=u("%Y");function T(P){return(l(P)<P?m:a(P)<P?y:o(P)<P?w:s(P)<P?_:r(P)<P?i(P)<P?b:v:n(P)<P?x:N)(P)}return f.invert=function(P){return new Date(h(P))},f.domain=function(P){return arguments.length?p(Array.from(P,vne)):p().map(yne)},f.ticks=function(P){var E=p();return t(E[0],E[E.length-1],P??10)},f.tickFormat=function(P,E){return E==null?T:u(E)},f.nice=function(P){var E=p();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?p(zk(E,P)):f},f.copy=function(){return dd(f,n_(t,e,n,r,i,s,o,a,l,u))},f}function xne(){return ur.apply(n_(pte,mte,Ni,e_,Rm,fd,Jw,Xw,Js,nR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bne(){return ur.apply(n_(fte,hte,Oi,t_,Dm,km,Zw,Yw,Js,rR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var t=0,e=1,n,r,i,s,o=pn,a=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(s(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(p){var m,y;return arguments.length?([m,y]=p,o=h(m,y),u):[o(0),o(1)]}}return u.range=f(El),u.rangeRound=f(Uw),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Ns(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iR(){var t=Is(Mm()(pn));return t.copy=function(){return Ns(t,iR())},Di.apply(t,arguments)}function sR(){var t=Ww(Mm()).domain([1,10]);return t.copy=function(){return Ns(t,sR()).base(t.base())},Di.apply(t,arguments)}function oR(){var t=Hw(Mm());return t.copy=function(){return Ns(t,oR()).constant(t.constant())},Di.apply(t,arguments)}function r_(){var t=Kw(Mm());return t.copy=function(){return Ns(t,r_()).exponent(t.exponent())},Di.apply(t,arguments)}function wne(){return r_.apply(null,arguments).exponent(.5)}function aR(){var t=[],e=pn;function n(r){if(r!=null&&!isNaN(r=+r))return e((ud(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>aee(t,s/r))},n.copy=function(){return aR(e).domain(t)},Di.apply(n,arguments)}function $m(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,u=pn,f,h=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+f(w))-s)*(r*w<r*s?a:l),u(h?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=f(t=+t),s=f(e=+e),o=f(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(h=!!w,m):h},m.interpolator=function(w){return arguments.length?(u=w,m):u};function y(w){return function(_){var b,v,x;return arguments.length?([b,v,x]=_,u=kee(w,[b,v,x]),m):[u(0),u(.5),u(1)]}}return m.range=y(El),m.rangeRound=y(Uw),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return f=w,i=w(t),s=w(e),o=w(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,m}}function lR(){var t=Is($m()(pn));return t.copy=function(){return Ns(t,lR())},Di.apply(t,arguments)}function uR(){var t=Ww($m()).domain([.1,1,10]);return t.copy=function(){return Ns(t,uR()).base(t.base())},Di.apply(t,arguments)}function cR(){var t=Hw($m());return t.copy=function(){return Ns(t,cR()).constant(t.constant())},Di.apply(t,arguments)}function i_(){var t=Kw($m());return t.copy=function(){return Ns(t,i_()).exponent(t.exponent())},Di.apply(t,arguments)}function _ne(){return i_.apply(null,arguments).exponent(.5)}const KA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gc,scaleDiverging:lR,scaleDivergingLog:uR,scaleDivergingPow:i_,scaleDivergingSqrt:_ne,scaleDivergingSymlog:cR,scaleIdentity:Bk,scaleImplicit:I0,scaleLinear:Yh,scaleLog:qk,scaleOrdinal:Lw,scalePoint:ju,scalePow:Gw,scaleQuantile:Kk,scaleQuantize:Gk,scaleRadial:Hk,scaleSequential:iR,scaleSequentialLog:sR,scaleSequentialPow:r_,scaleSequentialQuantile:aR,scaleSequentialSqrt:wne,scaleSequentialSymlog:oR,scaleSqrt:nte,scaleSymlog:Wk,scaleThreshold:Qk,scaleTime:xne,scaleUtc:bne,tickFormat:Uk},Symbol.toStringTag,{value:"Module"}));var Ene=ml;function Sne(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!Ene(o):n(o,a)))var a=o,l=s}return l}var Lm=Sne;function Tne(t,e){return t>e}var dR=Tne,Ane=Lm,Pne=dR,Ine=_l;function Nne(t){return t&&t.length?Ane(t,Ine,Pne):void 0}var One=Nne;const Vm=Je(One);function jne(t,e){return t<e}var fR=jne,Cne=Lm,kne=fR,Rne=_l;function Dne(t){return t&&t.length?Cne(t,Rne,kne):void 0}var Mne=Dne;const Fm=Je(Mne);var $ne=gw,Lne=Ps,Vne=bk,Fne=On;function Une(t,e){var n=Fne(t)?$ne:Vne;return n(t,Lne(e))}var Bne=Une,zne=vk,qne=Bne;function Wne(t,e){return zne(qne(t,e),1)}var Hne=Wne;const Kne=Je(Hne);var Gne=Cw;function Qne(t,e){return Gne(t,e)}var Xne=Qne;const s_=Je(Xne);var Sl=1e9,Yne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a_,pt=!0,ar="[DecimalError] ",oo=ar+"Invalid argument: ",o_=ar+"Exponent out of range: ",Tl=Math.floor,qs=Math.pow,Jne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,Vt=1e7,ut=7,hR=9007199254740991,tp=Tl(hR/ut),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return xi(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return et(xi(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return Ot(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rn))throw Error(ar+"NaN");if(n.s<1)throw Error(ar+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(pt=!1,e=xi(wc(n,s),wc(t,s),s),pt=!0,et(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gR(e,t):pR(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ar+"NaN");return n.s?(pt=!1,e=xi(n,t,0,1).times(t),pt=!0,n.minus(e)):et(new r(n),i)};de.naturalExponential=de.exp=function(){return mR(this)};de.naturalLogarithm=de.ln=function(){return wc(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pR(e,t):gR(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oo+t);if(e=Ot(i)+1,r=i.d.length-1,n=r*ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(ar+"NaN")}for(t=Ot(a),pt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Rr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(xi(a,s,o+2)).times(.5),Rr(s.d).slice(0,o)===(e=Rr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(et(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return pt=!0,et(r,n)};de.times=de.mul=function(t){var e,n,r,i,s,o,a,l,u,f=this,h=f.constructor,p=f.d,m=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,u=m.length,l<u&&(s=p,p=m,m=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+m[r]*p[i-r-1]+e,s[i--]=a%Vt|0,e=a/Vt|0;s[i]=(s[i]+e)%Vt|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,pt?et(t,h.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Kr(t,0,Sl),e===void 0?e=r.rounding:Kr(e,0,8),et(n,t+Ot(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bo(r,!0):(Kr(t,0,Sl),e===void 0?e=i.rounding:Kr(e,0,8),r=et(new i(r),t+1,e),n=bo(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?bo(i):(Kr(t,0,Sl),e===void 0?e=s.rounding:Kr(e,0,8),r=et(new s(i),t+Ot(i)+1,e),n=bo(r.abs(),!1,t+Ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return et(new e(t),Ot(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Rn);if(a=new l(a),!a.s){if(t.s<1)throw Error(ar+"Infinity");return a}if(a.eq(Rn))return a;if(r=l.precision,t.eq(Rn))return et(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=f<0?-f:f)<=hR){for(i=new l(Rn),e=Math.ceil(r/ut+4),pt=!1;n%2&&(i=i.times(a),QA(i.d,e)),n=Tl(n/2),n!==0;)a=a.times(a),QA(a.d,e);return pt=!0,t.s<0?new l(Rn).div(i):et(i,r)}}else if(s<0)throw Error(ar+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,pt=!1,i=t.times(wc(a,r+u)),pt=!0,i=mR(i),i.s=s,i};de.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ot(i),r=bo(i,n<=s.toExpNeg||n>=s.toExpPos)):(Kr(t,1,Sl),e===void 0?e=s.rounding:Kr(e,0,8),i=et(new s(i),t,e),n=Ot(i),r=bo(i,t<=n||n<=s.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Kr(t,1,Sl),e===void 0?e=r.rounding:Kr(e,0,8)),et(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),n=t.constructor;return bo(t,e<=n.toExpNeg||e>=n.toExpPos)};function pR(t,e){var n,r,i,s,o,a,l,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),pt?et(e,h):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(h/ut),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Vt|0,l[s]%=Vt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,pt?et(e,h):e}function Kr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(oo+t)}function Rr(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=ut-r.length,n&&(s+=qi(n)),s+=r;o=t[e],r=o+"",n=ut-r.length,n&&(s+=qi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var xi=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Vt|0,o=s/Vt|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Vt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,f,h,p,m,y,w,_,b,v,x,N,T,P,E,S,I=r.constructor,C=r.s==i.s?1:-1,k=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ar+"Division by zero");for(l=r.e-i.e,E=j.length,T=k.length,m=new I(C),y=m.d=[],u=0;j[u]==(k[u]||0);)++u;if(j[u]>(k[u]||0)&&--l,s==null?v=s=I.precision:o?v=s+(Ot(r)-Ot(i))+1:v=s,v<0)return new I(0);if(v=v/ut+2|0,u=0,E==1)for(f=0,j=j[0],v++;(u<T||f)&&v--;u++)x=f*Vt+(k[u]||0),y[u]=x/j|0,f=x%j|0;else{for(f=Vt/(j[0]+1)|0,f>1&&(j=t(j,f),k=t(k,f),E=j.length,T=k.length),N=E,w=k.slice(0,E),_=w.length;_<E;)w[_++]=0;S=j.slice(),S.unshift(0),P=j[0],j[1]>=Vt/2&&++P;do f=0,a=e(j,w,E,_),a<0?(b=w[0],E!=_&&(b=b*Vt+(w[1]||0)),f=b/P|0,f>1?(f>=Vt&&(f=Vt-1),h=t(j,f),p=h.length,_=w.length,a=e(h,w,p,_),a==1&&(f--,n(h,E<p?S:j,p))):(f==0&&(a=f=1),h=j.slice()),p=h.length,p<_&&h.unshift(0),n(w,h,_),a==-1&&(_=w.length,a=e(j,w,E,_),a<1&&(f++,n(w,E<_?S:j,_))),_=w.length):a===0&&(f++,w=[0]),y[u++]=f,a&&w[0]?w[_++]=k[N]||0:(w=[k[N]],_=1);while((N++<T||w[0]!==void 0)&&v--)}return y[0]||y.shift(),m.e=l,et(m,o?s+Ot(m)+1:s)}}();function mR(t,e){var n,r,i,s,o,a,l=0,u=0,f=t.constructor,h=f.precision;if(Ot(t)>16)throw Error(o_+Ot(t));if(!t.s)return new f(Rn);for(e==null?(pt=!1,a=h):a=e,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(qs(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new f(Rn),f.precision=a;;){if(i=et(i.times(t),a),n=n.times(++l),o=s.plus(xi(i,n,a)),Rr(o.d).slice(0,a)===Rr(s.d).slice(0,a)){for(;u--;)s=et(s.times(s),a);return f.precision=h,e==null?(pt=!0,et(s,h)):s}s=o}}function Ot(t){for(var e=t.e*ut,n=t.d[0];n>=10;n/=10)e++;return e}function wy(t,e,n){if(e>t.LN10.sd())throw pt=!0,n&&(t.precision=n),Error(ar+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function qi(t){for(var e="";t--;)e+="0";return e}function wc(t,e){var n,r,i,s,o,a,l,u,f,h=1,p=10,m=t,y=m.d,w=m.constructor,_=w.precision;if(m.s<1)throw Error(ar+(m.s?"NaN":"-Infinity"));if(m.eq(Rn))return new w(0);if(e==null?(pt=!1,u=_):u=e,m.eq(10))return e==null&&(pt=!0),wy(w,u);if(u+=p,w.precision=u,n=Rr(y),r=n.charAt(0),s=Ot(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Rr(m.d),r=n.charAt(0),h++;s=Ot(m),r>1?(m=new w("0."+n),s++):m=new w(r+"."+n.slice(1))}else return l=wy(w,u+2,_).times(s+""),m=wc(new w(r+"."+n.slice(1)),u-p).plus(l),w.precision=_,e==null?(pt=!0,et(m,_)):m;for(a=o=m=xi(m.minus(Rn),m.plus(Rn),u),f=et(m.times(m),u),i=3;;){if(o=et(o.times(f),u),l=a.plus(xi(o,new w(i),u)),Rr(l.d).slice(0,u)===Rr(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(wy(w,u+2,_).times(s+""))),a=xi(a,new w(h),u),w.precision=_,e==null?(pt=!0,et(a,_)):a;a=l,i+=2}}function GA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tl(n/ut),t.d=[],r=(n+1)%ut,n<0&&(r+=ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ut;r<i;)t.d.push(+e.slice(r,r+=ut));e=e.slice(r),r=ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pt&&(t.e>tp||t.e<-tp))throw Error(o_+n)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,n){var r,i,s,o,a,l,u,f,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=ut,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/ut),s=h.length,f>=s)return t;for(u=s=h[f],o=1;s>=10;s/=10)o++;r%=ut,i=r-ut+o}if(n!==void 0&&(s=qs(10,o-i-1),a=u/s%10|0,l=e<0||h[f+1]!==void 0||u%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/qs(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=Ot(t),h.length=1,e=e-s-1,h[0]=qs(10,(ut-e%ut)%ut),t.e=Tl(-e/ut)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,s=1,f--):(h.length=f+1,s=qs(10,ut-r),h[f]=i>0?(u/qs(10,o-i)%qs(10,i)|0)*s:0),l)for(;;)if(f==0){(h[0]+=s)==Vt&&(h[0]=1,++t.e);break}else{if(h[f]+=s,h[f]!=Vt)break;h[f--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(pt&&(t.e>tp||t.e<-tp))throw Error(o_+Ot(t));return t}function gR(t,e){var n,r,i,s,o,a,l,u,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),pt?et(e,m):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,a=h.length):(n=h,r=u,a=l.length),i=Math.max(Math.ceil(m/ut),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}o=0}for(f&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Vt-1;--l[s],l[i]+=Vt}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pt?et(e,m):e):new p(0)}function bo(t,e,n){var r,i=Ot(t),s=Rr(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+qi(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+qi(-i-1)+s,n&&(r=n-o)>0&&(s+=qi(r))):i>=o?(s+=qi(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+qi(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=qi(r))),t.s<0?"-"+s:s}function QA(t,e){if(t.length>e)return t.length=e,!0}function yR(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(oo+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return GA(o,s.toString())}else if(typeof s!="string")throw Error(oo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Jne.test(s))GA(o,s);else throw Error(oo+s)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yR,i.config=i.set=Zne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zne(t){if(!t||typeof t!="object")throw Error(ar+"Object expected");var e,n,r,i=["precision",1,Sl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(oo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oo+n+": "+r);return this}var a_=yR(Yne);Rn=new a_(1);const Ye=a_;function ere(t){return ire(t)||rre(t)||nre(t)||tre()}function tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(t,e){if(t){if(typeof t=="string")return C0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C0(t,e)}}function rre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ire(t){if(Array.isArray(t))return C0(t)}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sre=function(e){return e},vR={"@@functional/placeholder":!0},xR=function(e){return e===vR},XA=function(e){return function n(){return arguments.length===0||arguments.length===1&&xR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ore=function t(e,n){return e===1?n:XA(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==vR}).length;return o>=e?n.apply(void 0,i):t(e-o,XA(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=i.map(function(h){return xR(h)?l.shift():h});return n.apply(void 0,ere(f).concat(l))}))})},Um=function(e){return ore(e.length,e)},k0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},are=Um(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sre;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},R0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},bR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function ure(t){var e;return t===0?e=1:e=Math.floor(new Ye(t).abs().log(10).toNumber())+1,e}function cre(t,e,n){for(var r=new Ye(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var dre=Um(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fre=Um(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hre=Um(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Bm={rangeStep:cre,getDigitCount:ure,interpolateNumber:dre,uninterpolateNumber:fre,uninterpolateTruncation:hre};function D0(t){return gre(t)||mre(t)||wR(t)||pre()}function pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gre(t){if(Array.isArray(t))return M0(t)}function _c(t,e){return xre(t)||vre(t,e)||wR(t,e)||yre()}function yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wR(t,e){if(t){if(typeof t=="string")return M0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M0(t,e)}}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function xre(t){if(Array.isArray(t))return t}function _R(t){var e=_c(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function ER(t,e,n){if(t.lte(0))return new Ye(0);var r=Bm.getDigitCount(t.toNumber()),i=new Ye(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Ye(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new Ye(Math.ceil(l))}function bre(t,e,n){var r=1,i=new Ye(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ye(10).pow(Bm.getDigitCount(t)-1),i=new Ye(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ye(Math.floor(t)))}else t===0?i=new Ye(Math.floor((e-1)/2)):n||(i=new Ye(Math.floor(t)));var o=Math.floor((e-1)/2),a=lre(are(function(l){return i.add(new Ye(l-o).mul(r)).toNumber()}),k0);return a(0,e)}function SR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var s=ER(new Ye(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Ye(0):(o=new Ye(t).add(e).div(2),o=o.sub(new Ye(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new Ye(e).sub(o).div(s).toNumber()),u=a+l+1;return u>n?SR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new Ye(a).mul(s)),tickMax:o.add(new Ye(l).mul(s))})}function wre(t){var e=_c(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=_R([n,r]),l=_c(a,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(D0(k0(0,i-1).map(function(){return 1/0}))):[].concat(D0(k0(0,i-1).map(function(){return-1/0})),[f]);return n>r?R0(h):h}if(u===f)return bre(u,i,s);var p=SR(u,f,o,s),m=p.step,y=p.tickMin,w=p.tickMax,_=Bm.rangeStep(y,w.add(new Ye(.1).mul(m)),m);return n>r?R0(_):_}function _re(t,e){var n=_c(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=_R([r,i]),a=_c(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),h=ER(new Ye(u).sub(l).div(f-1),s,0),p=[].concat(D0(Bm.rangeStep(new Ye(l),new Ye(u).sub(new Ye(.99).mul(h)),h)),[u]);return r>i?R0(p):p}var Ere=bR(wre),Sre=bR(_re),Tre="Invariant failed";function Ga(t,e){throw new Error(Tre)}var Are=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function Pre(t,e){return jre(t)||Ore(t,e)||Nre(t,e)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return YA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YA(t,e)}}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jre(t){if(Array.isArray(t))return t}function Cre(t,e){if(t==null)return{};var n=kre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PR(r.key),r)}}function Mre(t,e,n){return e&&Dre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $re(t,e,n){return e=rp(e),Lre(t,TR()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function Lre(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vre(t)}function Vre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TR=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function AR(t,e,n){return e=PR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PR(t){var e=Ure(t,"string");return Qa(e)=="symbol"?e:e+""}function Ure(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l_=function(t){function e(){return Rre(this,e),$re(this,e,arguments)}return Fre(e,t),Mre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=Cre(r,Are),m=Ie(p,!1);this.props.direction==="x"&&f.type!=="number"&&Ga();var y=l.map(function(w){var _=u(w,a),b=_.x,v=_.y,x=_.value,N=_.errorVal;if(!N)return null;var T=[],P,E;if(Array.isArray(N)){var S=Pre(N,2);P=S[0],E=S[1]}else P=E=N;if(s==="vertical"){var I=f.scale,C=v+i,k=C+o,j=C-o,O=I(x-P),q=I(x+E);T.push({x1:q,y1:k,x2:q,y2:j}),T.push({x1:O,y1:C,x2:q,y2:C}),T.push({x1:O,y1:k,x2:O,y2:j})}else if(s==="horizontal"){var M=h.scale,U=b+i,G=U-o,F=U+o,W=M(x-P),V=M(x+E);T.push({x1:G,y1:V,x2:F,y2:V}),T.push({x1:U,y1:W,x2:U,y2:V}),T.push({x1:G,y1:W,x2:F,y2:W})}return B.createElement(Et,np({className:"recharts-errorBar",key:"bar-".concat(T.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},m),T.map(function(K){return B.createElement("line",np({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return B.createElement(Et,{className:"recharts-errorBars"},y)}}])}(B.Component);AR(l_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AR(l_,"displayName","ErrorBar");function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return e=zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=qre(t,"string");return Ec(e)=="symbol"?e:e+""}function qre(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Qn(n,ro);if(!o)return null;var a=ro.defaultProps,l=a!==void 0?Ms(Ms({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(f,h){var p=h.item,m=h.props,y=m.sectors||m.data||[];return f.concat(y.map(function(w){return{type:o.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,m=p!==void 0?Ms(Ms({},p),h.props):{},y=m.dataKey,w=m.name,_=m.legendType,b=m.hide;return{inactive:b,dataKey:y,type:l.iconType||_||"square",color:u_(h),value:w||y,payload:m}}),Ms(Ms(Ms({},l),ro.getWithHeight(o,i)),{},{payload:u,item:o})};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function ZA(t){return Gre(t)||Kre(t)||Hre(t)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t,e){if(t){if(typeof t=="string")return L0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L0(t,e)}}function Kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gre(t){if(Array.isArray(t))return L0(t)}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){_a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _a(t,e,n){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Xre(t,"string");return Sc(e)=="symbol"?e:e+""}function Xre(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t,e,n){return Re(t)||Re(e)?n:Dt(e)?wr(t,e,n):Ne(e)?e(t):n}function Cu(t,e,n,r){var i=Kne(t,function(a){return Dn(a,e)});if(n==="number"){var s=i.filter(function(a){return oe(a)||parseFloat(a)});return s.length?[Fm(s),Vm(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Re(a)}):i;return o.map(function(a){return Dt(a)||a instanceof Date?a:""})}var Yre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,h=i[u].coordinate,p=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(tr(h-f)!==tr(p-h)){var y=[];if(tr(p-h)===tr(l[1]-l[0])){m=p;var w=h+l[1]-l[0];y[0]=Math.min(w,(w+f)/2),y[1]=Math.max(w,(w+f)/2)}else{m=f;var _=p+l[1]-l[0];y[0]=Math.min(h,(_+h)/2),y[1]=Math.max(h,(_+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var v=Math.min(f,p),x=Math.max(f,p);if(e>(v+h)/2&&e<=(x+h)/2){o=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},u_=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},Jre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var f=s[a[l]].stackGroups,h=Object.keys(f),p=0,m=h.length;p<m;p++){var y=f[h[p]],w=y.items,_=y.cateAxisId,b=w.filter(function(E){return yi(E.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,x=v!==void 0?wt(wt({},v),b[0].props):b[0].props,N=x.barSize,T=x[_];o[T]||(o[T]=[]);var P=Re(N)?n:N;o[T].push({item:b[0],stackList:b.slice(1),barSize:Re(P)?void 0:Tn(P,r,0)})}}return o},Zre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=Tn(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/l,y=o.reduce(function(N,T){return N+T.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(p=!0,m*=.9,y=l*m);var w=(i-y)/2>>0,_={offset:w-u,size:0};f=o.reduce(function(N,T){var P={item:T.item,position:{offset:_.offset+_.size+u,size:p?m:T.barSize}},E=[].concat(ZA(N),[P]);return _=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:_})}),E},h)}else{var b=Tn(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var v=(i-2*b-(l-1)*u)/l;v>1&&(v>>=0);var x=a===+a?Math.min(v,a):v;f=o.reduce(function(N,T,P){var E=[].concat(ZA(N),[{item:T.item,position:{offset:b+(v+u)*P+(v-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},h)}return f},eie=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=IR({children:s,legendWidth:l});if(u){var f=i||{},h=f.width,p=f.height,m=u.align,y=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&m!=="center"&&oe(e[m]))return wt(wt({},e),{},_a({},m,e[m]+(h||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&y!=="middle"&&oe(e[y]))return wt(wt({},e),{},_a({},y,e[y]+(p||0)))}return e},tie=function(e,n,r){return Re(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},NR=function(e,n,r,i,s){var o=n.props.children,a=Br(o,l_).filter(function(u){return tie(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=Dn(f,r);if(Re(h))return u;var p=Array.isArray(h)?[Fm(h),Vm(h)]:[h,h],m=l.reduce(function(y,w){var _=Dn(f,w,0),b=p[0]-Math.abs(Array.isArray(_)?_[0]:_),v=p[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(b,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},nie=function(e,n,r,i,s){var o=n.map(function(a){return NR(e,a,r,s,i)}).filter(function(a){return!Re(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},OR=function(e,n,r,i,s){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&NR(e,l,u,i)||Cu(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var f=0,h=u.length;f<h;f++)a[u[f]]||(a[u[f]]=!0,l.push(u[f]));return l},[])},jR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mu=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=s?s.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!ld(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:s?s[h]:h,index:p,offset:u}})},_y=new WeakMap,lf=function(e,n){if(typeof n!="function")return e;_y.has(e)||_y.set(e,new WeakMap);var r=_y.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},rie=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:gc(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Yh(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ju(),realScaleType:"point"}:s==="category"?{scale:gc(),realScaleType:"band"}:{scale:Yh(),realScaleType:"linear"};if(ad(i)){var l="scale".concat(Tm(i));return{scale:(KA[l]||ju)(),realScaleType:KA[l]?l:"point"}}return Ne(i)?{scale:i}:{scale:ju(),realScaleType:"point"}},tP=1e-4,iie=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-tP,o=Math.max(i[0],i[1])+tP,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},sie=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=ld(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},oie=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=ld(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},aie={sign:sie,expand:Sq,none:Va,silhouette:Tq,wiggle:Aq,positive:oie},lie=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=aie[r],o=Eq().keys(i).value(function(a,l){return+Dn(a,l,0)}).order(u0).offset(s);return o(e)},uie=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},u=a.reduce(function(h,p){var m,y=(m=p.type)!==null&&m!==void 0&&m.defaultProps?wt(wt({},p.type.defaultProps),p.props):p.props,w=y.stackId,_=y.hide;if(_)return h;var b=y[r],v=h[b]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var x=v.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(p),v.hasStack=!0,v.stackGroups[w]=x}else v.stackGroups[Em("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return wt(wt({},h),{},_a({},b,v))},l),f={};return Object.keys(u).reduce(function(h,p){var m=u[p];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,_){var b=m.stackGroups[_];return wt(wt({},w),{},_a({},_,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:lie(e,b.items,s)}))},y)}return wt(wt({},h),{},_a({},p,m))},f)},cie=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Ere(u,s,a);return e.domain([Fm(f),Vm(f)]),{niceTicks:f}}if(s&&i==="number"){var h=e.domain(),p=Sre(h,s,a);return{niceTicks:p}}return null},die=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Dt(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},fie=function(e){return e.reduce(function(n,r){return[Fm(r.concat([n[0]]).filter(oe)),Vm(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},CR=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,f){var h=fie(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V0=function(e,n,r){if(Ne(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(nP.test(e[0])){var s=+nP.exec(e[0])[1];i[0]=n[0]-s}else Ne(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(rP.test(e[1])){var o=+rP.exec(e[1])[1];i[1]=n[1]+o}else Ne(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},F0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=Rw(n,function(h){return h.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],f=s[a-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},iP=function(e,n,r){return!e||!e.length||s_(e,wr(r,"type.defaultProps.domain"))?n:e},hie=function(e,n){var r=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return wt(wt({},Ie(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:u_(e),value:Dn(n,i),type:l,payload:n,chartType:u,hide:f})};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){kR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kR(t,e,n){return e=pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=mie(t,"string");return Tc(e)=="symbol"?e:e+""}function mie(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gie(t,e){return bie(t)||xie(t,e)||vie(t,e)||yie()}function yie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vie(t,e){if(t){if(typeof t=="string")return oP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function bie(t){if(Array.isArray(t))return t}var ip=Math.PI/180,wie=function(e){return e*180/Math.PI},it=function(e,n,r,i){return{x:e+Math.cos(-ip*i)*r,y:n+Math.sin(-ip*i)*r}},RR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_ie=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,u=e.endAngle,f=Tn(e.cx,o,o/2),h=Tn(e.cy,a,a/2),p=RR(o,a,r),m=Tn(e.innerRadius,p,0),y=Tn(e.outerRadius,p,p*.8),w=Object.keys(n);return w.reduce(function(_,b){var v=n[b],x=v.domain,N=v.reversed,T;if(Re(v.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[m,y]),N&&(T=[T[1],T[0]]);else{T=v.range;var P=T,E=gie(P,2);l=E[0],u=E[1]}var S=rie(v,s),I=S.realScaleType,C=S.scale;C.domain(x).range(T),iie(C);var k=cie(C,ii(ii({},v),{},{realScaleType:I})),j=ii(ii(ii({},v),k),{},{range:T,radius:y,realScaleType:I,scale:C,cx:f,cy:h,innerRadius:m,outerRadius:y,startAngle:l,endAngle:u});return ii(ii({},_),{},kR({},b,j))},{})},Eie=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},Sie=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=Eie({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:wie(u),angleInRadian:u}},Tie=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},Aie=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},aP=function(e,n){var r=e.x,i=e.y,s=Sie({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Tie(n),h=f.startAngle,p=f.endAngle,m=a,y;if(h<=p){for(;m>p;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=p}else{for(;m>h;)m-=360;for(;m<p;)m+=360;y=m>=p&&m<=h}return y?ii(ii({},n),{},{radius:o,angle:Aie(m,n)}):null},DR=function(e){return!$.isValidElement(e)&&!Ne(e)&&typeof e!="boolean"?e.className:""};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var Pie=["offset"];function Iie(t){return Cie(t)||jie(t)||Oie(t)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oie(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function jie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cie(t){if(Array.isArray(t))return U0(t)}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kie(t,e){if(t==null)return{};var n=Rie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=$ie(t,"string");return Ac(e)=="symbol"?e:e+""}function $ie(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}var Lie=function(e){var n=e.value,r=e.formatter,i=Re(e.children)?n:e.children;return Ne(r)?r(i):i},Vie=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Fie=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,f=l.cy,h=l.innerRadius,p=l.outerRadius,m=l.startAngle,y=l.endAngle,w=l.clockWise,_=(h+p)/2,b=Vie(m,y),v=b>=0?1:-1,x,N;i==="insideStart"?(x=m+v*o,N=w):i==="insideEnd"?(x=y-v*o,N=!w):i==="end"&&(x=y+v*o,N=w),N=b<=0?N:!N;var T=it(u,f,_,x),P=it(u,f,_,x+(N?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),S=Re(e.id)?Em("recharts-radial-line-"):e.id;return B.createElement("text",Pc({},r,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",a)}),B.createElement("defs",null,B.createElement("path",{id:S,d:E})),B.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Uie=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.startAngle,h=s.endAngle,p=(f+h)/2;if(i==="outside"){var m=it(o,a,u+r,p),y=m.x,w=m.y;return{x:y,y:w,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,b=it(o,a,_,p),v=b.x,x=b.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Bie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,u=o.width,f=o.height,h=f>=0?1:-1,p=h*i,m=h>0?"end":"start",y=h>0?"start":"end",w=u>=0?1:-1,_=w*i,b=w>0?"end":"start",v=w>0?"start":"end";if(s==="top"){var x={x:a+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:m};return Ct(Ct({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var N={x:a+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:y};return Ct(Ct({},N),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(s==="left"){var T={x:a-_,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return Ct(Ct({},T),r?{width:Math.max(T.x-r.x,0),height:f}:{})}if(s==="right"){var P={x:a+u+_,y:l+f/2,textAnchor:v,verticalAnchor:"middle"};return Ct(Ct({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:f}:{})}var E=r?{width:u,height:f}:{};return s==="insideLeft"?Ct({x:a+_,y:l+f/2,textAnchor:v,verticalAnchor:"middle"},E):s==="insideRight"?Ct({x:a+u-_,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},E):s==="insideTop"?Ct({x:a+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},E):s==="insideBottom"?Ct({x:a+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:m},E):s==="insideTopLeft"?Ct({x:a+_,y:l+p,textAnchor:v,verticalAnchor:y},E):s==="insideTopRight"?Ct({x:a+u-_,y:l+p,textAnchor:b,verticalAnchor:y},E):s==="insideBottomLeft"?Ct({x:a+_,y:l+f-p,textAnchor:v,verticalAnchor:m},E):s==="insideBottomRight"?Ct({x:a+u-_,y:l+f-p,textAnchor:b,verticalAnchor:m},E):gl(s)&&(oe(s.x)||Xs(s.x))&&(oe(s.y)||Xs(s.y))?Ct({x:a+Tn(s.x,u),y:l+Tn(s.y,f),textAnchor:"end",verticalAnchor:"end"},E):Ct({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},zie=function(e){return"cx"in e&&oe(e.cx)};function Kt(t){var e=t.offset,n=e===void 0?5:e,r=kie(t,Pie),i=Ct({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!s||Re(a)&&Re(l)&&!$.isValidElement(u)&&!Ne(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var m;if(Ne(u)){if(m=$.createElement(u,i),$.isValidElement(m))return m}else m=Lie(i);var y=zie(s),w=Ie(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fie(i,m,w);var _=y?Uie(i):Bie(i);return B.createElement(qa,Pc({className:ze("recharts-label",h)},w,_,{breakAll:p}),m)}Kt.displayName="Label";var MR=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,m=e.top,y=e.left,w=e.width,_=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(oe(w)&&oe(_)){if(oe(h)&&oe(p))return{x:h,y:p,width:w,height:_};if(oe(m)&&oe(y))return{x:m,y,width:w,height:_}}return oe(h)&&oe(p)?{x:h,y:p,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},qie=function(e,n){return e?e===!0?B.createElement(Kt,{key:"label-implicit",viewBox:n}):Dt(e)?B.createElement(Kt,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===Kt?$.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):Ne(e)?B.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):gl(e)?B.createElement(Kt,Pc({viewBox:n},e,{key:"label-implicit"})):null:null},Wie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=MR(e),o=Br(i,Kt).map(function(l,u){return $.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=qie(e.label,n||s);return[a].concat(Iie(o))};Kt.parseViewBox=MR;Kt.renderCallByParent=Wie;function Hie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Kie=Hie;const Gie=Je(Kie);function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var Qie=["valueAccessor"],Xie=["data","dataKey","clockWise","id","textBreakAll"];function Yie(t){return tse(t)||ese(t)||Zie(t)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(t,e){if(t){if(typeof t=="string")return B0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B0(t,e)}}function ese(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tse(t){if(Array.isArray(t))return B0(t)}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(this,arguments)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return Ic(e)=="symbol"?e:e+""}function ise(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dP(t,e){if(t==null)return{};var n=sse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ose=function(e){return Array.isArray(e.value)?Gie(e.value):e.value};function ao(t){var e=t.valueAccessor,n=e===void 0?ose:e,r=dP(t,Qie),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=dP(r,Xie);return!i||!i.length?null:B.createElement(Et,{className:"recharts-label-list"},i.map(function(f,h){var p=Re(s)?n(f,h):Dn(f&&f.payload,s),m=Re(a)?{}:{id:"".concat(a,"-").concat(h)};return B.createElement(Kt,sp({},Ie(f,!0),u,m,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:Kt.parseViewBox(Re(o)?f:cP(cP({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ao.displayName="LabelList";function ase(t,e){return t?t===!0?B.createElement(ao,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Ne(t)?B.createElement(ao,{key:"labelList-implicit",data:e,content:t}):gl(t)?B.createElement(ao,sp({data:e},t,{key:"labelList-implicit"})):null:null}function lse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Br(r,ao).map(function(o,a){return $.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=ase(t.label,e);return[s].concat(Yie(i))}ao.renderCallByParent=lse;function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function use(t,e,n){return e=cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=dse(t,"string");return Nc(e)=="symbol"?e:e+""}function dse(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fse=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},uf=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(a?1:-1)+i,h=Math.asin(l/f)/ip,p=u?s:s+o*h,m=it(n,r,f,p),y=it(n,r,i,p),w=u?s-o*h:s,_=it(n,r,f*Math.cos(h*ip),w);return{center:m,circleTangency:y,lineTangency:_,theta:h}},$R=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=fse(o,a),u=o+l,f=it(n,r,s,o),h=it(n,r,s,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var m=it(n,r,i,o),y=it(n,r,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},hse=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=tr(f-u),p=uf({cx:n,cy:r,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,y=p.lineTangency,w=p.theta,_=uf({cx:n,cy:r,radius:s,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:l}),b=_.circleTangency,v=_.lineTangency,x=_.theta,N=l?Math.abs(u-f):Math.abs(u-f)-w-x;if(N<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$R({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var T="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var P=uf({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=P.circleTangency,S=P.lineTangency,I=P.theta,C=uf({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=C.circleTangency,j=C.lineTangency,O=C.theta,q=l?Math.abs(u-f):Math.abs(u-f)-I-O;if(q<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},pse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LR=function(e){var n=hP(hP({},pse),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(o<s||f===h)return null;var m=ze("recharts-sector",p),y=o-s,w=Tn(a,y,0,!0),_;return w>0&&Math.abs(f-h)<360?_=hse({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):_=$R({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:h}),B.createElement("path",z0({},Ie(n,!0),{className:m,d:_,role:"img"}))};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return e=gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=yse(t,"string");return Oc(e)=="symbol"?e:e+""}function yse(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gP={curveBasisClosed:fq,curveBasisOpen:hq,curveBasis:dq,curveBumpX:Y7,curveBumpY:J7,curveLinearClosed:pq,curveLinear:Pm,curveMonotoneX:mq,curveMonotoneY:gq,curveNatural:yq,curveStep:vq,curveStepAfter:bq,curveStepBefore:xq},cf=function(e){return e.x===+e.x&&e.y===+e.y},eu=function(e){return e.x},tu=function(e){return e.y},vse=function(e,n){if(Ne(e))return e;var r="curve".concat(Tm(e));return(r==="curveMonotone"||r==="curveBump")&&n?gP["".concat(r).concat(n==="vertical"?"Y":"X")]:gP[r]||Pm},xse=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=vse(r,a),h=u?s.filter(function(w){return cf(w)}):s,p;if(Array.isArray(o)){var m=u?o.filter(function(w){return cf(w)}):o,y=h.map(function(w,_){return mP(mP({},w),{},{base:m[_]})});return a==="vertical"?p=Zd().y(tu).x1(eu).x0(function(w){return w.base.x}):p=Zd().x(eu).y1(tu).y0(function(w){return w.base.y}),p.defined(cf).curve(f),p(y)}return a==="vertical"&&oe(o)?p=Zd().y(tu).x1(eu).x0(o):oe(o)?p=Zd().x(eu).y1(tu).y0(o):p=LC().x(eu).y(tu),p.defined(cf).curve(f),p(h)},W0=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?xse(e):i;return B.createElement("path",q0({},Ie(e,!1),jh(e),{className:ze("recharts-curve",n),d:o,ref:s}))},VR={exports:{}},bse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wse=bse,_se=wse;function FR(){}function UR(){}UR.resetWarningCache=FR;var Ese=function(){function t(r,i,s,o,a,l){if(l!==_se){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UR,resetWarningCache:FR};return n.PropTypes=n,n};VR.exports=Ese();var Sse=VR.exports;const He=Je(Sse);var Tse=Object.getOwnPropertyNames,Ase=Object.getOwnPropertySymbols,Pse=Object.prototype.hasOwnProperty;function yP(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function df(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function vP(t){return Tse(t).concat(Ase(t))}var Ise=Object.hasOwn||function(t,e){return Pse.call(t,e)};function Co(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Nse="__v",Ose="__o",jse="_owner",xP=Object.getOwnPropertyDescriptor,bP=Object.keys;function Cse(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kse(t,e){return Co(t.getTime(),e.getTime())}function Rse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Dse(t,e){return t===e}function wP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,h=0;(a=u.next())&&!a.done;){if(i[h]){h++;continue}var p=o.value,m=a.value;if(n.equals(p[0],m[0],l,h,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}var Mse=Co;function $se(t,e,n){var r=bP(t),i=r.length;if(bP(e).length!==i)return!1;for(;i-- >0;)if(!BR(t,e,n,r[i]))return!1;return!0}function nu(t,e,n){var r=vP(t),i=r.length;if(vP(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!BR(t,e,n,s)||(o=xP(t,s),a=xP(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function Lse(t,e){return Co(t.valueOf(),e.valueOf())}function Vse(t,e){return t.source===e.source&&t.flags===e.flags}function _P(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Fse(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Use(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function BR(t,e,n,r){return(r===jse||r===Ose||r===Nse)&&(t.$$typeof||e.$$typeof)?!0:Ise(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Bse="[object Arguments]",zse="[object Boolean]",qse="[object Date]",Wse="[object Error]",Hse="[object Map]",Kse="[object Number]",Gse="[object Object]",Qse="[object RegExp]",Xse="[object Set]",Yse="[object String]",Jse="[object URL]",Zse=Array.isArray,EP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SP=Object.assign,eoe=Object.prototype.toString.call.bind(Object.prototype.toString);function toe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(y,w,_){if(y===w)return!0;if(y==null||w==null)return!1;var b=typeof y;if(b!==typeof w)return!1;if(b!=="object")return b==="number"?o(y,w,_):b==="function"?i(y,w,_):!1;var v=y.constructor;if(v!==w.constructor)return!1;if(v===Object)return a(y,w,_);if(Zse(y))return e(y,w,_);if(EP!=null&&EP(y))return h(y,w,_);if(v===Date)return n(y,w,_);if(v===RegExp)return u(y,w,_);if(v===Map)return s(y,w,_);if(v===Set)return f(y,w,_);var x=eoe(y);return x===qse?n(y,w,_):x===Qse?u(y,w,_):x===Hse?s(y,w,_):x===Xse?f(y,w,_):x===Gse?typeof y.then!="function"&&typeof w.then!="function"&&a(y,w,_):x===Jse?p(y,w,_):x===Wse?r(y,w,_):x===Bse?a(y,w,_):x===zse||x===Kse||x===Yse?l(y,w,_):!1}}function noe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nu:Cse,areDatesEqual:kse,areErrorsEqual:Rse,areFunctionsEqual:Dse,areMapsEqual:r?yP(wP,nu):wP,areNumbersEqual:Mse,areObjectsEqual:r?nu:$se,arePrimitiveWrappersEqual:Lse,areRegExpsEqual:Vse,areSetsEqual:r?yP(_P,nu):_P,areTypedArraysEqual:r?nu:Fse,areUrlsEqual:Use};if(n&&(i=SP({},i,n(i))),e){var s=df(i.areArraysEqual),o=df(i.areMapsEqual),a=df(i.areObjectsEqual),l=df(i.areSetsEqual);i=SP({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function roe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function ioe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,u){var f=r(),h=f.cache,p=h===void 0?e?new WeakMap:void 0:h,m=f.meta;return n(l,u,{cache:p,equals:i,meta:m,strict:s})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return n(l,u,o)}}var soe=Os();Os({strict:!0});Os({circular:!0});Os({circular:!0,strict:!0});Os({createInternalComparator:function(){return Co}});Os({strict:!0,createInternalComparator:function(){return Co}});Os({circular:!0,createInternalComparator:function(){return Co}});Os({circular:!0,createInternalComparator:function(){return Co},strict:!0});function Os(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=noe(t),l=toe(a),u=r?r(l):roe(l);return ioe({circular:n,comparator:l,createState:i,equals:u,strict:o})}function ooe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function TP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):ooe(i)};requestAnimationFrame(r)}function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function aoe(t){return doe(t)||coe(t)||uoe(t)||loe()}function loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function coe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function doe(t){if(Array.isArray(t))return t}function foe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=aoe(o),l=a[0],u=a.slice(1);if(typeof l=="number"){TP(i.bind(null,u),l);return}i(l),TP(i.bind(null,u));return}H0(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){zR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zR(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return jc(e)==="symbol"?e:String(e)}function poe(t,e){if(jc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var moe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},goe=function(e){return e},yoe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ku=function(e,n){return Object.keys(n).reduce(function(r,i){return IP(IP({},r),{},zR({},i,e(i,n[i])))},{})},NP=function(e,n,r){return e.map(function(i){return"".concat(yoe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function voe(t,e){return woe(t)||boe(t,e)||qR(t,e)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function woe(t){if(Array.isArray(t))return t}function _oe(t){return Toe(t)||Soe(t)||qR(t)||Eoe()}function Eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qR(t,e){if(t){if(typeof t=="string")return K0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(t,e)}}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Toe(t){if(Array.isArray(t))return K0(t)}function K0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var op=1e-4,WR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},HR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},OP=function(e,n){return function(r){var i=WR(e,n);return HR(i,r)}},Aoe=function(e,n){return function(r){var i=WR(e,n),s=[].concat(_oe(i.map(function(o,a){return o*a}).slice(1)),[0]);return HR(s,r)}},jP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=voe(u,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var h=OP(i,o),p=OP(s,a),m=Aoe(i,o),y=function(b){return b>1?1:b<0?0:b},w=function(b){for(var v=b>1?1:b,x=v,N=0;N<8;++N){var T=h(x)-v,P=m(x);if(Math.abs(T-v)<op||P<op)return p(x);x=y(x-T/P)}return p(x)};return w.isStepper=!1,w},Poe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(f,h,p){var m=-(f-h)*r,y=p*s,w=p+(m-y)*a/1e3,_=p*a/1e3+f;return Math.abs(_-h)<op&&Math.abs(w)<op?[h,0]:[_,w]};return l.isStepper=!0,l.dt=a,l},Ioe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jP(i);case"spring":return Poe();default:if(i.split("(")[0]==="cubic-bezier")return jP(i)}return typeof i=="function"?i:null};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function CP(t){return joe(t)||Ooe(t)||KR(t)||Noe()}function Noe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t){if(Array.isArray(t))return Q0(t)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){G0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0(t,e,n){return e=Coe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=koe(t,"string");return Cc(e)==="symbol"?e:String(e)}function koe(t,e){if(Cc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e){return $oe(t)||Moe(t,e)||KR(t,e)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KR(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Moe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function $oe(t){if(Array.isArray(t))return t}var ap=function(e,n,r){return e+(n-e)*r},X0=function(e){var n=e.from,r=e.to;return n!==r},Loe=function t(e,n,r){var i=ku(function(s,o){if(X0(o)){var a=e(o.from,o.to,o.velocity),l=Roe(a,2),u=l[0],f=l[1];return qt(qt({},o),{},{from:u,velocity:f})}return o},n);return r<1?ku(function(s,o){return X0(o)?qt(qt({},o),{},{velocity:ap(o.velocity,i[s].velocity,r),from:ap(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const Voe=function(t,e,n,r,i){var s=moe(t,e),o=s.reduce(function(_,b){return qt(qt({},_),{},G0({},b,[t[b],e[b]]))},{}),a=s.reduce(function(_,b){return qt(qt({},_),{},G0({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,f,h=function(){return null},p=function(){return ku(function(b,v){return v.from},a)},m=function(){return!Object.values(a).filter(X0).length},y=function(b){u||(u=b);var v=b-u,x=v/n.dt;a=Loe(n,a,x),i(qt(qt(qt({},t),e),p())),u=b,m()||(l=requestAnimationFrame(h))},w=function(b){f||(f=b);var v=(b-f)/r,x=ku(function(T,P){return ap.apply(void 0,CP(P).concat([n(v)]))},o);if(i(qt(qt(qt({},t),e),x)),v<1)l=requestAnimationFrame(h);else{var N=ku(function(T,P){return ap.apply(void 0,CP(P).concat([n(1)]))},o);i(qt(qt(qt({},t),e),N))}};return h=n.isStepper?y:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}var Foe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Uoe(t,e){if(t==null)return{};var n=Boe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Boe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ey(t){return Hoe(t)||Woe(t)||qoe(t)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(t,e){if(t){if(typeof t=="string")return Y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(t,e)}}function Woe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hoe(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){gu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gu(t,e,n){return e=GR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Goe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GR(r.key),r)}}function Qoe(t,e,n){return e&&Goe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GR(t){var e=Xoe(t,"string");return Xa(e)==="symbol"?e:String(e)}function Xoe(t,e){if(Xa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function Joe(t){var e=Zoe();return function(){var r=lp(t),i;if(e){var s=lp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Z0(this,i)}}function Z0(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ex(t)}function ex(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}var bs=function(t){Yoe(n,t);var e=Joe(n);function n(r,i){var s;Koe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,f=o.to,h=o.steps,p=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ex(s)),s.changeStyle=s.changeStyle.bind(ex(s)),!a||m<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),Z0(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof p=="function")return s.state={style:u},Z0(s);s.state={style:l?gu({},l,u):u}}else s.state={style:{}};return s}return Qoe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,f=s.to,h=s.from,p=this.state.style;if(a){if(!o){var m={style:l?gu({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(m);return}if(!(soe(i.to,f)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||u?h:i.to;if(this.state&&p){var _={style:l?gu({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(_)}this.runAnimation(hr(hr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,m=Voe(o,a,Ioe(u),l,this.changeStyle),y=function(){s.stopJSAnimation=m()};this.manager.start([p,f,y,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,p=h===void 0?0:h,m=function(w,_,b){if(b===0)return w;var v=_.duration,x=_.easing,N=x===void 0?"ease":x,T=_.style,P=_.properties,E=_.onAnimationEnd,S=b>0?o[b-1]:_,I=P||Object.keys(T);if(typeof N=="function"||N==="spring")return[].concat(Ey(w),[s.runJSAnimation.bind(s,{from:S.style,to:T,duration:v,easing:N}),v]);var C=NP(I,v,N),k=hr(hr(hr({},S.style),T),{},{transition:C});return[].concat(Ey(w),[k,v,E]).filter(goe)};return this.manager.start([l].concat(Ey(o.reduce(m,[f,Math.max(p,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=foe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=a?gu({},a,l):l,_=NP(Object.keys(w),o,u);y.start([f,s,hr(hr({},w),{},{transition:_}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Uoe(i,Foe),u=$.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||u===0||o<=0)return s;var h=function(m){var y=m.props,w=y.style,_=w===void 0?{}:w,b=y.className,v=$.cloneElement(m,hr(hr({},l),{},{style:hr(hr({},_),f),className:b}));return v};return u===1?h($.Children.only(s)):B.createElement("div",null,$.Children.map(s,function(p){return h(p)}))}}]),n}($.PureComponent);bs.displayName="Animate";bs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bs.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function eae(t,e){return iae(t)||rae(t,e)||nae(t,e)||tae()}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function iae(t){if(Array.isArray(t))return t}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=aae(t,"string");return kc(e)=="symbol"?e:e+""}function aae(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LP=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],p=0,m=4;p<m;p++)h[p]=s[p]>o?o:s[p];f="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),f+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*h[1])),f+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),f+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*h[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);f="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},lae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),f=Math.max(s,s+a),h=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=f&&i>=h&&i<=p}return!1},uae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c_=function(e){var n=$P($P({},uae),e),r=$.useRef(),i=$.useState(-1),s=eae(i,2),o=s[0],a=s[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,f=n.width,h=n.height,p=n.radius,m=n.className,y=n.animationEasing,w=n.animationDuration,_=n.animationBegin,b=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var x=ze("recharts-rectangle",m);return v?B.createElement(bs,{canBegin:o>0,from:{width:f,height:h,x:l,y:u},to:{width:f,height:h,x:l,y:u},duration:w,animationEasing:y,isActive:v},function(N){var T=N.width,P=N.height,E=N.x,S=N.y;return B.createElement(bs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:b,easing:y},B.createElement("path",up({},Ie(n,!0),{className:x,d:LP(E,S,T,P,p),ref:r})))}):B.createElement("path",up({},Ie(n,!0),{className:x,d:LP(l,u,f,h,p)}))},cae=["points","className","baseLinePoints","connectNulls"];function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}function dae(t,e){if(t==null)return{};var n=fae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VP(t){return gae(t)||mae(t)||pae(t)||hae()}function hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(t,e)}}function mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return tx(t)}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FP=function(e){return e&&e.x===+e.x&&e.y===+e.y},yae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){FP(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),FP(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ru=function(e,n){var r=yae(e);n&&(r=[r.reduce(function(s,o){return[].concat(VP(s),VP(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},vae=function(e,n,r){var i=Ru(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ru(n.reverse(),r).slice(1))},xae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=dae(e,cae);if(!n||!n.length)return null;var a=ze("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=vae(n,i,s);return B.createElement("g",{className:a},B.createElement("path",oa({},Ie(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?B.createElement("path",oa({},Ie(o,!0),{fill:"none",d:Ru(n,s)})):null,l?B.createElement("path",oa({},Ie(o,!0),{fill:"none",d:Ru(i,s)})):null)}var f=Ru(n,s);return B.createElement("path",oa({},Ie(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:a,d:f}))};function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}var d_=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=ze("recharts-dot",s);return n===+n&&r===+r&&i===+i?B.createElement("circle",nx({},Ie(e,!1),jh(e),{className:o,cx:n,cy:r,r:i})):null};function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}var bae=["x","y","top","left","width","height","className"];function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return e=Eae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Sae(t,"string");return Rc(e)=="symbol"?e:e+""}function Sae(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tae(t,e){if(t==null)return{};var n=Aae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Pae=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Iae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,h=f===void 0?0:f,p=e.height,m=p===void 0?0:p,y=e.className,w=Tae(e,bae),_=wae({x:r,y:s,top:a,left:u,width:h,height:m},w);return!oe(r)||!oe(s)||!oe(h)||!oe(m)||!oe(a)||!oe(u)?null:B.createElement("path",rx({},Ie(_,!0),{className:ze("recharts-cross",y),d:Pae(r,s,h,m,a,u)}))},Nae=Lm,Oae=dR,jae=Ps;function Cae(t,e){return t&&t.length?Nae(t,jae(e),Oae):void 0}var kae=Cae;const Rae=Je(kae);var Dae=Lm,Mae=Ps,$ae=fR;function Lae(t,e){return t&&t.length?Dae(t,Mae(e),$ae):void 0}var Vae=Lae;const Fae=Je(Vae);var Uae=["cx","cy","angle","ticks","axisLine"],Bae=["ticks","tick","angle","tickFormatter","stroke"];function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zP(t,e){if(t==null)return{};var n=zae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XR(r.key),r)}}function Wae(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hae(t,e,n){return e=cp(e),Kae(t,QR()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function Kae(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gae(t)}function Gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function Qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function zm(t,e,n){return e=XR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XR(t){var e=Xae(t,"string");return Ya(e)=="symbol"?e:e+""}function Xae(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qm=function(t){function e(){return qae(this,e),Hae(this,e,arguments)}return Qae(e,t),Wae(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return it(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=Rae(a,function(f){return f.coordinate||0}),u=Fae(a,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,u=zP(r,Uae),f=a.reduce(function(y,w){return[Math.min(y[0],w.coordinate),Math.max(y[1],w.coordinate)]},[1/0,-1/0]),h=it(i,s,f[0],o),p=it(i,s,f[1],o),m=$s($s($s({},Ie(u,!1)),{},{fill:"none"},Ie(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return B.createElement("line",Du({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,f=zP(i,Bae),h=this.getTickTextAnchor(),p=Ie(f,!1),m=Ie(o,!1),y=s.map(function(w,_){var b=r.getTickValueCoord(w),v=$s($s($s($s({textAnchor:h,transform:"rotate(".concat(90-a,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:_},b),{},{payload:w});return B.createElement(Et,Du({className:ze("recharts-polar-radius-axis-tick",DR(o)),key:"tick-".concat(w.coordinate)},Sm(r.props,w,_)),e.renderTickItem(o,v,l?l(w.value,_):w.value))});return B.createElement(Et,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:B.createElement(Et,{className:ze("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ne(r)?o=r(i):o=B.createElement(qa,Du({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}($.PureComponent);zm(qm,"displayName","PolarRadiusAxis");zm(qm,"axisType","radiusAxis");zm(qm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JR(r.key),r)}}function Jae(t,e,n){return e&&HP(t.prototype,e),n&&HP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zae(t,e,n){return e=dp(e),ele(t,YR()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function ele(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tle(t)}function tle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sx(t,e)}function Wm(t,e,n){return e=JR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t){var e=rle(t,"string");return Ja(e)=="symbol"?e:e+""}function rle(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ile=Math.PI/180,KP=1e-5,Hm=function(t){function e(){return Yae(this,e),Zae(this,e,arguments)}return nle(e,t),Jae(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,f=u||8,h=it(s,o,a,r.coordinate),p=it(s,o,a+(l==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*ile),o;return s>KP?o=i==="outer"?"start":"end":s<-KP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,u=Ls(Ls({},Ie(this.props,!1)),{},{fill:"none"},Ie(a,!1));if(l==="circle")return B.createElement(d_,Ws({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var f=this.props.ticks,h=f.map(function(p){return it(i,s,o,p.coordinate)});return B.createElement(xae,Ws({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,f=Ie(this.props,!1),h=Ie(o,!1),p=Ls(Ls({},f),{},{fill:"none"},Ie(a,!1)),m=s.map(function(y,w){var _=r.getTickLineCoord(y),b=r.getTickTextAnchor(y),v=Ls(Ls(Ls({textAnchor:b},f),{},{stroke:"none",fill:u},h),{},{index:w,payload:y,x:_.x2,y:_.y2});return B.createElement(Et,Ws({className:ze("recharts-polar-angle-axis-tick",DR(o)),key:"tick-".concat(y.coordinate)},Sm(r.props,y,w)),a&&B.createElement("line",Ws({className:"recharts-polar-angle-axis-tick-line"},p,_)),o&&e.renderTickItem(o,v,l?l(y.value,w):y.value))});return B.createElement(Et,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:B.createElement(Et,{className:ze("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ne(r)?o=r(i):o=B.createElement(qa,Ws({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}($.PureComponent);Wm(Hm,"displayName","PolarAngleAxis");Wm(Hm,"axisType","angleAxis");Wm(Hm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sle=lk,ole=sle(Object.getPrototypeOf,Object),ale=ole,lle=ki,ule=ale,cle=Ri,dle="[object Object]",fle=Function.prototype,hle=Object.prototype,ZR=fle.toString,ple=hle.hasOwnProperty,mle=ZR.call(Object);function gle(t){if(!cle(t)||lle(t)!=dle)return!1;var e=ule(t);if(e===null)return!0;var n=ple.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZR.call(n)==mle}var yle=gle;const vle=Je(yle);var xle=ki,ble=Ri,wle="[object Boolean]";function _le(t){return t===!0||t===!1||ble(t)&&xle(t)==wle}var Ele=_le;const Sle=Je(Ele);function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function Tle(t,e){return Nle(t)||Ile(t,e)||Ple(t,e)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ile(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Nle(t){if(Array.isArray(t))return t}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return e=jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=Cle(t,"string");return Dc(e)=="symbol"?e:e+""}function Cle(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YP=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},kle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rle=function(e){var n=XP(XP({},kle),e),r=$.useRef(),i=$.useState(-1),s=Tle(i,2),o=s[0],a=s[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&a(x)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,m=n.className,y=n.animationEasing,w=n.animationDuration,_=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var v=ze("recharts-trapezoid",m);return b?B.createElement(bs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:l,y:u},duration:w,animationEasing:y,isActive:b},function(x){var N=x.upperWidth,T=x.lowerWidth,P=x.height,E=x.x,S=x.y;return B.createElement(bs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:y},B.createElement("path",fp({},Ie(n,!0),{className:v,d:YP(E,S,N,T,P),ref:r})))}):B.createElement("g",null,B.createElement("path",fp({},Ie(n,!0),{className:v,d:YP(l,u,f,h,p)})))},Dle=["option","shapeType","propTransformer","activeClassName","isActive"];function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function Mle(t,e){if(t==null)return{};var n=$le(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $le(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return e=Vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=Fle(t,"string");return Mc(e)=="symbol"?e:e+""}function Fle(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ule(t,e){return hp(hp({},e),t)}function Ble(t,e){return t==="symbols"}function ZP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(c_,n);case"trapezoid":return B.createElement(Rle,n);case"sector":return B.createElement(LR,n);case"symbols":if(Ble(e))return B.createElement(Tw,n);break;default:return null}}function zle(t){return $.isValidElement(t)?t.props:t}function qle(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Ule:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=Mle(t,Dle),u;if($.isValidElement(e))u=$.cloneElement(e,hp(hp({},l),zle(e)));else if(Ne(e))u=e(l);else if(vle(e)&&!Sle(e)){var f=i(e,l);u=B.createElement(ZP,{shapeType:n,elementProps:f})}else{var h=l;u=B.createElement(ZP,{shapeType:n,elementProps:h})}return a?B.createElement(Et,{className:o},u):u}function Km(t,e){return e!=null&&"trapezoids"in t.props}function Gm(t,e){return e!=null&&"sectors"in t.props}function $c(t,e){return e!=null&&"points"in t.props}function Wle(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Hle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Kle(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Gle(t,e){var n;return Km(t,e)?n=Wle:Gm(t,e)?n=Hle:$c(t,e)&&(n=Kle),n}function Qle(t,e){var n;return Km(t,e)?n="trapezoids":Gm(t,e)?n="sectors":$c(t,e)&&(n="points"),n}function Xle(t,e){if(Km(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Gm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return $c(t,e)?e.payload:{}}function Yle(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Qle(n,e),s=Xle(n,e),o=r.filter(function(l,u){var f=s_(s,l),h=n.props[i].filter(function(y){var w=Gle(n,e);return w(y,e)}),p=n.props[i].indexOf(h[h.length-1]),m=u===p;return f&&m}),a=r.indexOf(o[o.length-1]);return a}var Vf;function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tD(r.key),r)}}function Zle(t,e,n){return e&&tI(t.prototype,e),n&&tI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eue(t,e,n){return e=pp(e),tue(t,eD()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function tue(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nue(t)}function nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function Jn(t,e,n){return e=tD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tD(t){var e=iue(t,"string");return Za(e)=="symbol"?e:e+""}function iue(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mi=function(t){function e(n){var r;return Jle(this,e),r=eue(this,e,[n]),Jn(r,"pieRef",null),Jn(r,"sectorRefs",[]),Jn(r,"id",Em("recharts-pie-")),Jn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ne(i)&&i()}),Jn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ne(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return rue(e,t),Zle(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,u=s.valueKey,f=Ie(this.props,!1),h=Ie(o,!1),p=Ie(a,!1),m=o&&o.offsetRadius||20,y=r.map(function(w,_){var b=(w.startAngle+w.endAngle)/2,v=it(w.cx,w.cy,w.outerRadius+m,b),x=tt(tt(tt(tt({},f),w),{},{stroke:"none"},h),{},{index:_,textAnchor:e.getTextAnchor(v.x,w.cx)},v),N=tt(tt(tt(tt({},f),w),{},{fill:"none",stroke:w.fill},p),{},{index:_,points:[it(w.cx,w.cy,w.outerRadius,b),v]}),T=l;return Re(l)&&Re(u)?T="value":Re(l)&&(T=u),B.createElement(Et,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(_)},a&&e.renderLabelLineItem(a,N,"line"),e.renderLabelItem(o,x,Dn(w,T)))});return B.createElement(Et,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=l&&i.hasActiveIndex()?l:null,m=h?o:p,y=tt(tt({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return B.createElement(Et,aa({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Sm(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),B.createElement(qle,aa({option:m,isActive:h,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,m=h.prevIsAnimationActive;return B.createElement(bs,{begin:a,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var w=y.t,_=[],b=s&&s[0],v=b.startAngle;return s.forEach(function(x,N){var T=p&&p[N],P=N>0?wr(x,"paddingAngle",0):0;if(T){var E=KS(T.endAngle-T.startAngle,x.endAngle-x.startAngle),S=tt(tt({},x),{},{startAngle:v+P,endAngle:v+E(w)+P});_.push(S),v=S.endAngle}else{var I=x.endAngle,C=x.startAngle,k=KS(0,I-C),j=k(w),O=tt(tt({},x),{},{startAngle:v+P,endAngle:v+j+P});_.push(O),v=O.endAngle}}),B.createElement(Et,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!s_(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,u=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,y=this.state.isAnimationFinished;if(s||!o||!o.length||!oe(u)||!oe(f)||!oe(h)||!oe(p))return null;var w=ze("recharts-pie",a);return B.createElement(Et,{tabIndex:this.props.rootTabIndex,className:w,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),Kt.renderCallByParent(this.props,null,!1),(!m||y)&&ao.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(B.isValidElement(r))return B.cloneElement(r,i);if(Ne(r))return r(i);var o=ze("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(W0,aa({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(B.isValidElement(r))return B.cloneElement(r,i);var o=s;if(Ne(r)&&(o=r(i),B.isValidElement(o)))return o;var a=ze("recharts-pie-label-text",typeof r!="boolean"&&!Ne(r)?r.className:"");return B.createElement(qa,aa({},i,{alignmentBaseline:"middle",className:a}),o)}}])}($.PureComponent);Vf=Mi;Jn(Mi,"displayName","Pie");Jn(Mi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!io.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Jn(Mi,"parseDeltaAngle",function(t,e){var n=tr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Jn(Mi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ie(t,!1),i=Br(n,Mw);return e&&e.length?e.map(function(s,o){return tt(tt(tt({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return tt(tt({},r),s.props)}):[]});Jn(Mi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=RR(i,s),a=r+Tn(t.cx,i,i/2),l=n+Tn(t.cy,s,s/2),u=Tn(t.innerRadius,o,0),f=Tn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:f,maxRadius:h}});Jn(Mi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?tt(tt({},e.type.defaultProps),e.props):e.props,i=Vf.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,m=Math.abs(r.minAngle),y=Vf.parseCoordinateOfPie(r,n),w=Vf.parseDeltaAngle(o,a),_=Math.abs(w),b=u;Re(u)&&Re(h)?(vi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Re(u)&&(vi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var v=i.filter(function(S){return Dn(S,b,0)!==0}).length,x=(_>=360?v:v-1)*l,N=_-v*m-x,T=i.reduce(function(S,I){var C=Dn(I,b,0);return S+(oe(C)?C:0)},0),P;if(T>0){var E;P=i.map(function(S,I){var C=Dn(S,b,0),k=Dn(S,f,I),j=(oe(C)?C:0)/T,O;I?O=E.endAngle+tr(w)*l*(C!==0?1:0):O=o;var q=O+tr(w)*((C!==0?m:0)+j*N),M=(O+q)/2,U=(y.innerRadius+y.outerRadius)/2,G=[{name:k,value:C,payload:S,dataKey:b,type:p}],F=it(y.cx,y.cy,U,M);return E=tt(tt(tt({percent:j,cornerRadius:s,name:k,tooltipPayload:G,midAngle:M,middleRadius:U,tooltipPosition:F},S),y),{},{value:Dn(S,b),startAngle:O,endAngle:q,payload:S,paddingAngle:tr(w)*l}),E})}return tt(tt({},y),{},{sectors:P,data:i})});var sue=Math.ceil,oue=Math.max;function aue(t,e,n,r){for(var i=-1,s=oue(sue((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var lue=aue,uue=Ak,nI=1/0,cue=17976931348623157e292;function due(t){if(!t)return t===0?t:0;if(t=uue(t),t===nI||t===-nI){var e=t<0?-1:1;return e*cue}return t===t?t:0}var fue=due,hue=lue,pue=jm,Sy=fue;function mue(t){return function(e,n,r){return r&&typeof r!="number"&&pue(e,n,r)&&(n=r=void 0),e=Sy(e),n===void 0?(n=e,e=0):n=Sy(n),r=r===void 0?e<n?1:-1:Sy(r),hue(e,n,r,t)}}var gue=mue,yue=gue,vue=yue(),xue=vue;const mp=Je(xue);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){nD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nD(t,e,n){return e=bue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=wue(t,"string");return Lc(e)=="symbol"?e:e+""}function wue(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ue=["Webkit","Moz","O","ms"],Eue=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=_ue.reduce(function(s,o){return iI(iI({},s),{},nD({},o+r,n))},{});return i[e]=n,i};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iD(r.key),r)}}function Tue(t,e,n){return e&&oI(t.prototype,e),n&&oI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aue(t,e,n){return e=yp(e),Pue(t,rD()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function Pue(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iue(t)}function Iue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ax(t,e)}function Cn(t,e,n){return e=iD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iD(t){var e=Oue(t,"string");return el(e)=="symbol"?e:e+""}function Oue(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jue=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ju().domain(mp(0,l)).range([s,s+o-a]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},aI=function(e){return e.changedTouches&&!!e.changedTouches.length},tl=function(t){function e(n){var r;return Sue(this,e),r=Aue(this,e,[n]),Cn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Cn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Cn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Cn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Cn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Cn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Cn(r,"handleSlideDragStart",function(i){var s=aI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Nue(e,t),Tue(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,f=u.length-1,h=Math.min(i,s),p=Math.max(i,s),m=e.getIndexInRange(o,h),y=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=Dn(s[r],a,r);return Ne(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,u=l.x,f=l.width,h=l.travellerWidth,p=l.startIndex,m=l.endIndex,y=l.onChange,w=r.pageX-s;w>0?w=Math.min(w,u+f-h-a,u+f-h-o):w<0&&(w=Math.max(w,u-o,u-a));var _=this.getIndex({startX:o+w,endX:a+w});(_.startIndex!==p||_.endIndex!==m)&&y&&y(_),this.setState({startX:o+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=aI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[o],f=this.props,h=f.x,p=f.width,m=f.travellerWidth,y=f.onChange,w=f.gap,_=f.data,b={startX:this.state.startX,endX:this.state.endX},v=r.pageX-s;v>0?v=Math.min(v,h+p-m-u):v<0&&(v=Math.max(v,h-u)),b[o]=u+v;var x=this.getIndex(b),N=x.startIndex,T=x.endIndex,P=function(){var S=_.length-1;return o==="startX"&&(a>l?N%w===0:T%w===0)||a<l&&T===S||o==="endX"&&(a>l?T%w===0:N%w===0)||a>l&&T===S};this.setState(Cn(Cn({},o,u+v),"brushMoveStartX",r.pageX),function(){y&&P()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],h=a.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=a.length)){var m=a[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Cn({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,f=r.padding,h=$.Children.only(u);return h?B.cloneElement(h,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,u=l.y,f=l.travellerWidth,h=l.height,p=l.traveller,m=l.ariaLabel,y=l.data,w=l.startIndex,_=l.endIndex,b=Math.max(r,this.props.x),v=Ty(Ty({},Ie(this.props,!1)),{},{x:b,y:u,width:f,height:h}),x=m||"Min value: ".concat((s=y[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[_])===null||o===void 0?void 0:o.name);return B.createElement(Et,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),a.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,v))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,p=f.endX,m=5,y={pointerEvents:"none",fill:u};return B.createElement(Et,{className:"recharts-brush-texts"},B.createElement(qa,gp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-m,y:o+a/2},y),this.getTextOfTick(i)),B.createElement(qa,gp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+m,y:o+a/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,f=r.height,h=r.alwaysShowText,p=this.state,m=p.startX,y=p.endX,w=p.isTextActive,_=p.isSlideMoving,b=p.isTravellerMoving,v=p.isTravellerFocused;if(!i||!i.length||!oe(a)||!oe(l)||!oe(u)||!oe(f)||u<=0||f<=0)return null;var x=ze("recharts-brush",s),N=B.Children.count(o)===1,T=Eue("userSelect","none");return B.createElement(Et,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(w||_||b||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Ne(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Ty({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?jue({data:s,width:o,x:a,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}($.PureComponent);Cn(tl,"displayName","Brush");Cn(tl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Cue=kw;function kue(t,e){var n;return Cue(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Rue=kue,Due=ek,Mue=Ps,$ue=Rue,Lue=On,Vue=jm;function Fue(t,e,n){var r=Lue(t)?Due:$ue;return n&&Vue(t,e,n)&&(e=void 0),r(t,Mue(e))}var Uue=Fue;const Bue=Je(Uue);var qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},lI=wk;function zue(t,e,n){e=="__proto__"&&lI?lI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var que=zue,Wue=que,Hue=xk,Kue=Ps;function Gue(t,e){var n={};return e=Kue(e),Hue(t,function(r,i,s){Wue(n,i,e(r,i,s))}),n}var Que=Gue;const Xue=Je(Que);function Yue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Jue=Yue,Zue=kw;function ece(t,e){var n=!0;return Zue(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var tce=ece,nce=Jue,rce=tce,ice=Ps,sce=On,oce=jm;function ace(t,e,n){var r=sce(t)?nce:rce;return n&&oce(t,e,n)&&(e=void 0),r(t,ice(e))}var lce=ace;const uce=Je(lce);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function dce(t,e,n){return e&&uI(t.prototype,e),n&&uI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f_(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sD(t){var e=fce(t,"string");return Vc(e)=="symbol"?e:e+""}function fce(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oD=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},hce=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return oD({x:n,y:r},{x:i,y:s})},aD=function(){function t(e){cce(this,t),this.scale=e}return dce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();f_(aD,"EPS",1e-4);var h_=function(e){var n=Object.keys(e).reduce(function(r,i){return ff(ff({},r),{},f_({},i,aD.create(e[i])))},{});return ff(ff({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return Xue(i,function(l,u){return n[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return uce(i,function(s,o){return n[o].isInRange(s)})}})},pce=z8(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lD=$.createContext(void 0),uD=$.createContext(void 0),cD=$.createContext(void 0),mce=$.createContext({}),dD=$.createContext(void 0),gce=$.createContext(0),yce=$.createContext(0),dI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,f=pce(s);return B.createElement(lD.Provider,{value:r},B.createElement(uD.Provider,{value:i},B.createElement(mce.Provider,{value:s},B.createElement(cD.Provider,{value:f},B.createElement(dD.Provider,{value:o},B.createElement(gce.Provider,{value:u},B.createElement(yce.Provider,{value:l},a)))))))},vce=function(){return $.useContext(dD)},xce=function(e){var n=$.useContext(lD);n==null&&Ga();var r=n[e];return r==null&&Ga(),r},bce=function(e){var n=$.useContext(uD);n==null&&Ga();var r=n[e];return r==null&&Ga(),r},wce=function(){var e=$.useContext(cD);return e};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function _ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ece(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hD(r.key),r)}}function Sce(t,e,n){return e&&Ece(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tce(t,e,n){return e=vp(e),Ace(t,fD()?Reflect.construct(e,n||[],vp(t).constructor):e.apply(t,n))}function Ace(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pce(t)}function Pce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vp(t)}function Ice(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n){return e=hD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hD(t){var e=Nce(t,"string");return nl(e)=="symbol"?e:e+""}function Nce(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){return Rce(t)||kce(t,e)||Cce(t,e)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Rce(t){if(Array.isArray(t))return t}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}var Dce=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Ne(e)?r=e(n):r=B.createElement("line",ux({},n,{className:"recharts-reference-line-line"})),r},Mce=function(e,n,r,i,s,o,a,l,u){var f=s.x,h=s.y,p=s.width,m=s.height;if(r){var y=u.y,w=e.y.apply(y,{position:o});if(qr(u,"discard")&&!e.y.isInRange(w))return null;var _=[{x:f+p,y:w},{x:f,y:w}];return l==="left"?_.reverse():_}if(n){var b=u.x,v=e.x.apply(b,{position:o});if(qr(u,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:h+m},{x:v,y:h}];return a==="top"?x.reverse():x}if(i){var N=u.segment,T=N.map(function(P){return e.apply(P,{position:o})});return qr(u,"discard")&&Bue(T,function(P){return!e.isInRange(P)})?null:T}return null};function $ce(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,u=vce(),f=xce(i),h=bce(s),p=wce();if(!u||!p)return null;vi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=h_({x:f.scale,y:h.scale}),y=Dt(e),w=Dt(n),_=r&&r.length===2,b=Mce(m,y,w,_,p,t.position,f.orientation,h.orientation,t);if(!b)return null;var v=Oce(b,2),x=v[0],N=x.x,T=x.y,P=v[1],E=P.x,S=P.y,I=qr(t,"hidden")?"url(#".concat(u,")"):void 0,C=hI(hI({clipPath:I},Ie(t,!0)),{},{x1:N,y1:T,x2:E,y2:S});return B.createElement(Et,{className:ze("recharts-reference-line",a)},Dce(o,C),Kt.renderCallByParent(t,hce({x1:N,y1:T,x2:E,y2:S})))}var m_=function(t){function e(){return _ce(this,e),Tce(this,e,arguments)}return Ice(e,t),Sce(e,[{key:"render",value:function(){return B.createElement($ce,this.props)}}])}(B.Component);p_(m_,"displayName","ReferenceLine");p_(m_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function Fce(t,e,n){return e&&Vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uce(t,e,n){return e=xp(e),Bce(t,pD()?Reflect.construct(e,n||[],xp(t).constructor):e.apply(t,n))}function Bce(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(t)}function zce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function xp(t){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xp(t)}function qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function Qm(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Wce(t,"string");return rl(e)=="symbol"?e:e+""}function Wce(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hce=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=h_({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return qr(e,"discard")&&!o.isInRange(a)?null:a},Xm=function(t){function e(){return Lce(this,e),Uce(this,e,arguments)}return qce(e,t),Fce(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),f=Dt(s);if(vi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=Hce(this.props);if(!h)return null;var p=h.x,m=h.y,y=this.props,w=y.shape,_=y.className,b=qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=gI(gI({clipPath:b},Ie(this.props,!0)),{},{cx:p,cy:m});return B.createElement(Et,{className:ze("recharts-reference-dot",_)},e.renderDot(w,v),Kt.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(B.Component);Qm(Xm,"displayName","ReferenceDot");Qm(Xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qm(Xm,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ne(t)?n=t(e):n=B.createElement(d_,cx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(this,arguments)}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function Qce(t,e,n){return e&&Gce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xce(t,e,n){return e=bp(e),Yce(t,gD()?Reflect.construct(e,n||[],bp(t).constructor):e.apply(t,n))}function Yce(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jce(t)}function Jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}function Zce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hx(t,e)}function Ym(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=ede(t,"string");return il(e)=="symbol"?e:e+""}function ede(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tde=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,f=s.xAxis,h=s.yAxis;if(!f||!h)return null;var p=h_({x:f.scale,y:h.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(a,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return qr(s,"discard")&&(!p.isInRange(m)||!p.isInRange(y))?null:oD(m,y)},Jm=function(t){function e(){return Kce(this,e),Xce(this,e,arguments)}return Zce(e,t),Qce(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;vi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Dt(i),p=Dt(s),m=Dt(o),y=Dt(a),w=this.props.shape;if(!h&&!p&&!m&&!y&&!w)return null;var _=tde(h,p,m,y,this.props);if(!_&&!w)return null;var b=qr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return B.createElement(Et,{className:ze("recharts-reference-area",l)},e.renderRect(w,vI(vI({clipPath:b},Ie(this.props,!0)),_)),Kt.renderCallByParent(this.props,_))}}])}(B.Component);Ym(Jm,"displayName","ReferenceArea");Ym(Jm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ym(Jm,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ne(t)?n=t(e):n=B.createElement(c_,fx({},e,{className:"recharts-reference-area-rect"})),n});function xI(t){return sde(t)||ide(t)||rde(t)||nde()}function nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rde(t,e){if(t){if(typeof t=="string")return px(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return px(t,e)}}function ide(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sde(t){if(Array.isArray(t))return px(t)}function px(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mx=function(e,n,r,i,s){var o=Br(e,m_),a=Br(e,Xm),l=[].concat(xI(o),xI(a)),u=Br(e,Jm),f="".concat(i,"Id"),h=i[0],p=n;if(l.length&&(p=l.reduce(function(w,_){if(_.props[f]===r&&qr(_.props,"extendDomain")&&oe(_.props[h])){var b=_.props[h];return[Math.min(w[0],b),Math.max(w[1],b)]}return w},p)),u.length){var m="".concat(h,"1"),y="".concat(h,"2");p=u.reduce(function(w,_){if(_.props[f]===r&&qr(_.props,"extendDomain")&&oe(_.props[m])&&oe(_.props[y])){var b=_.props[m],v=_.props[y];return[Math.min(w[0],b,v),Math.max(w[1],b,v)]}return w},p)}return s&&s.length&&(p=s.reduce(function(w,_){return oe(_)?[Math.min(w[0],_),Math.max(w[1],_)]:w},p)),p},vD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,h||l,p),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,f,h,p,m,y){var w=n?n+u:u;if(!this._events[w])return!1;var _=this._events[w],b=arguments.length,v,x;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,m),!0;case 6:return _.fn.call(_.context,f,h,p,m,y),!0}for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];_.fn.apply(_.context,v)}else{var N=_.length,T;for(x=0;x<N;x++)switch(_[x].once&&this.removeListener(u,_[x].fn,void 0,!0),b){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,f);break;case 3:_[x].fn.call(_[x].context,f,h);break;case 4:_[x].fn.call(_[x].context,f,h,p);break;default:if(!v)for(T=1,v=new Array(b-1);T<b;T++)v[T-1]=arguments[T];_[x].fn.apply(_[x].context,v)}}return!0},a.prototype.on=function(u,f,h){return s(this,u,f,h,!1)},a.prototype.once=function(u,f,h){return s(this,u,f,h,!0)},a.prototype.removeListener=function(u,f,h,p){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===f&&(!p||y.once)&&(!h||y.context===h)&&o(this,m);else{for(var w=0,_=[],b=y.length;w<b;w++)(y[w].fn!==f||p&&!y[w].once||h&&y[w].context!==h)&&_.push(y[w]);_.length?this._events[m]=_.length===1?_[0]:_:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(vD);var ode=vD.exports;const ade=Je(ode);var Ay=new ade,Py="recharts.syncMouseEvents";function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ude(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xD(r.key),r)}}function cde(t,e,n){return e&&ude(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iy(t,e,n){return e=xD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xD(t){var e=dde(t,"string");return Fc(e)=="symbol"?e:e+""}function dde(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fde=function(){function t(){lde(this,t),Iy(this,"activeIndex",0),Iy(this,"coordinateList",[]),Iy(this,"layout","horizontal")}return cde(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+u,p=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function hde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function pde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function bD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=it(e,n,r,i),a=it(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function mde(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,p=it(a,l,u,h),m=it(a,l,f,h);r=p.x,i=p.y,s=m.x,o=m.y}else return bD(e);return[{x:r,y:i},{x:s,y:o}]}function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return Uc(e)=="symbol"?e:e+""}function vde(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var y,w=W0;if(p==="ScatterChart")y=o,w=Iae;else if(p==="BarChart")y=pde(h,o,l,f),w=c_;else if(h==="radial"){var _=bD(o),b=_.cx,v=_.cy,x=_.radius,N=_.startAngle,T=_.endAngle;y={cx:b,cy:v,startAngle:N,endAngle:T,innerRadius:x,outerRadius:x},w=LR}else y={points:mde(h,o,l)},w=W0;var P=hf(hf(hf(hf({stroke:"#ccc",pointerEvents:"none"},l),y),Ie(m,!1)),{},{payload:a,payloadIndex:u,className:ze("recharts-tooltip-cursor",m.className)});return $.isValidElement(m)?$.cloneElement(m,P):$.createElement(w,P)}var bde=["item"],wde=["children","className","width","height","style","compact","title","desc"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}function wI(t,e){return Sde(t)||Ede(t,e)||_D(t,e)||_de()}function _de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ede(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Sde(t){if(Array.isArray(t))return t}function _I(t,e){if(t==null)return{};var n=Tde(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function Ide(t,e,n){return e&&Pde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nde(t,e,n){return e=wp(e),Ode(t,wD()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function Ode(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jde(t)}function jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gx(t,e)}function gx(t,e){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gx(t,e)}function ol(t){return Dde(t)||Rde(t)||_D(t)||kde()}function kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _D(t,e){if(t){if(typeof t=="string")return yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(t,e)}}function Rde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dde(t){if(Array.isArray(t))return yx(t)}function yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ye(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=Mde(t,"string");return sl(e)=="symbol"?e:e+""}function Mde(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $de={xAxis:["bottom","top"],yAxis:["left","right"]},Lde={width:"100%",height:"100%"},SD={x:0,y:0};function pf(t){return t}var Vde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Fde=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Q(Q(Q({},i),it(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return Q(Q(Q({},i),it(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return SD},Zm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(ol(a),ol(u)):a},[]);return o.length>0?o:e&&e.length&&oe(i)&&oe(s)?e.slice(i,s+1):[]};function TD(t){return t==="number"?[0,"auto"]:void 0}var vx=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=Zm(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?a:h;p=Yv(m,o.dataKey,i)}else p=h&&h[r]||a[r];return p?[].concat(ol(l),[hie(u,p)]):l},[])},SI=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=Vde(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Yre(o,a,u,l);if(f>=0&&u){var h=u[f]&&u[f].value,p=vx(e,n,f,h),m=Fde(r,a,f,s);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:m}}return null},Ude=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,m=jR(f,s);return r.reduce(function(y,w){var _,b=w.type.defaultProps!==void 0?Q(Q({},w.type.defaultProps),w.props):w.props,v=b.type,x=b.dataKey,N=b.allowDataOverflow,T=b.allowDuplicatedCategory,P=b.scale,E=b.ticks,S=b.includeHidden,I=b[o];if(y[I])return y;var C=Zm(e.data,{graphicalItems:i.filter(function(D){var L,X=o in D.props?D.props[o]:(L=D.type.defaultProps)===null||L===void 0?void 0:L[o];return X===I}),dataStartIndex:l,dataEndIndex:u}),k=C.length,j,O,q;hde(b.domain,N,v)&&(j=V0(b.domain,null,N),m&&(v==="number"||P!=="auto")&&(q=Cu(C,x,"category")));var M=TD(v);if(!j||j.length===0){var U,G=(U=b.domain)!==null&&U!==void 0?U:M;if(x){if(j=Cu(C,x,v),v==="category"&&m){var F=Fz(j);T&&F?(O=j,j=mp(0,k)):T||(j=iP(G,j,w).reduce(function(D,L){return D.indexOf(L)>=0?D:[].concat(ol(D),[L])},[]))}else if(v==="category")T?j=j.filter(function(D){return D!==""&&!Re(D)}):j=iP(G,j,w).reduce(function(D,L){return D.indexOf(L)>=0||L===""||Re(L)?D:[].concat(ol(D),[L])},[]);else if(v==="number"){var W=nie(C,i.filter(function(D){var L,X,ne=o in D.props?D.props[o]:(L=D.type.defaultProps)===null||L===void 0?void 0:L[o],re="hide"in D.props?D.props.hide:(X=D.type.defaultProps)===null||X===void 0?void 0:X.hide;return ne===I&&(S||!re)}),x,s,f);W&&(j=W)}m&&(v==="number"||P!=="auto")&&(q=Cu(C,x,"category"))}else m?j=mp(0,k):a&&a[I]&&a[I].hasStack&&v==="number"?j=p==="expand"?[0,1]:CR(a[I].stackGroups,l,u):j=OR(C,i.filter(function(D){var L=o in D.props?D.props[o]:D.type.defaultProps[o],X="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return L===I&&(S||!X)}),v,f,!0);if(v==="number")j=mx(h,j,I,s,E),G&&(j=V0(G,j,N));else if(v==="category"&&G){var V=G,K=j.every(function(D){return V.indexOf(D)>=0});K&&(j=V)}}return Q(Q({},y),{},ye({},I,Q(Q({},b),{},{axisType:s,domain:j,categoricalDomain:q,duplicateDomain:O,originalDomain:(_=b.domain)!==null&&_!==void 0?_:M,isCategorical:m,layout:f})))},{})},Bde=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=Zm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,y=jR(f,s),w=-1;return r.reduce(function(_,b){var v=b.type.defaultProps!==void 0?Q(Q({},b.type.defaultProps),b.props):b.props,x=v[o],N=TD("number");if(!_[x]){w++;var T;return y?T=mp(0,m):a&&a[x]&&a[x].hasStack?(T=CR(a[x].stackGroups,l,u),T=mx(h,T,x,s)):(T=V0(N,OR(p,r.filter(function(P){var E,S,I=o in P.props?P.props[o]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[o],C="hide"in P.props?P.props.hide:(S=P.type.defaultProps)===null||S===void 0?void 0:S.hide;return I===x&&!C}),"number",f),i.defaultProps.allowDataOverflow),T=mx(h,T,x,s)),Q(Q({},_),{},ye({},x,Q(Q({axisType:s},i.defaultProps),{},{hide:!0,orientation:wr($de,"".concat(s,".").concat(w%2),null),domain:T,originalDomain:N,isCategorical:y,layout:f})))}return _},{})},zde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=Br(f,s),m={};return p&&p.length?m=Ude(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Bde(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},qde=function(e){var n=qo(e),r=mu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Rw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:F0(n,r)}},TI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Qn(n,tl),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Wde=function(e){return!e||!e.length?!1:e.some(function(n){var r=yi(n&&n.type);return r&&r.indexOf("Bar")>=0})},AI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hde=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,f=r.height,h=r.children,p=r.margin||{},m=Qn(h,tl),y=Qn(h,ro),w=Object.keys(l).reduce(function(T,P){var E=l[P],S=E.orientation;return!E.mirror&&!E.hide?Q(Q({},T),{},ye({},S,T[S]+E.width)):T},{left:p.left||0,right:p.right||0}),_=Object.keys(o).reduce(function(T,P){var E=o[P],S=E.orientation;return!E.mirror&&!E.hide?Q(Q({},T),{},ye({},S,wr(T,"".concat(S))+E.height)):T},{top:p.top||0,bottom:p.bottom||0}),b=Q(Q({},_),w),v=b.bottom;m&&(b.bottom+=m.props.height||tl.defaultProps.height),y&&n&&(b=eie(b,i,r,n));var x=u-b.left-b.right,N=f-b.top-b.bottom;return Q(Q({brushBottom:v},b),{},{width:Math.max(x,0),height:Math.max(N,0)})},Kde=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Gde=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(b,v){var x=v.graphicalItems,N=v.stackGroups,T=v.offset,P=v.updateId,E=v.dataStartIndex,S=v.dataEndIndex,I=b.barSize,C=b.layout,k=b.barGap,j=b.barCategoryGap,O=b.maxBarSize,q=AI(C),M=q.numericAxisName,U=q.cateAxisName,G=Wde(x),F=[];return x.forEach(function(W,V){var K=Zm(b.data,{graphicalItems:[W],dataStartIndex:E,dataEndIndex:S}),D=W.type.defaultProps!==void 0?Q(Q({},W.type.defaultProps),W.props):W.props,L=D.dataKey,X=D.maxBarSize,ne=D["".concat(M,"Id")],re=D["".concat(U,"Id")],ge={},De=l.reduce(function(qn,Zt){var Wn=v["".concat(Zt.axisType,"Map")],Yr=D["".concat(Zt.axisType,"Id")];Wn&&Wn[Yr]||Zt.axisType==="zAxis"||Ga();var fe=Wn[Yr];return Q(Q({},qn),{},ye(ye({},Zt.axisType,fe),"".concat(Zt.axisType,"Ticks"),mu(fe)))},ge),Z=De[U],se=De["".concat(U,"Ticks")],ae=N&&N[ne]&&N[ne].hasStack&&die(W,N[ne].stackGroups),Y=yi(W.type).indexOf("Bar")>=0,we=F0(Z,se),ve=[],We=G&&Jre({barSize:I,stackGroups:N,totalSize:Kde(De,U)});if(Y){var Ke,St,zn=Re(X)?O:X,cr=(Ke=(St=F0(Z,se,!0))!==null&&St!==void 0?St:zn)!==null&&Ke!==void 0?Ke:0;ve=Zre({barGap:k,barCategoryGap:j,bandSize:cr!==we?cr:we,sizeList:We[re],maxBarSize:zn}),cr!==we&&(ve=ve.map(function(qn){return Q(Q({},qn),{},{position:Q(Q({},qn.position),{},{offset:qn.position.offset-cr/2})})}))}var Ir=W&&W.type&&W.type.getComposedData;Ir&&F.push({props:Q(Q({},Ir(Q(Q({},De),{},{displayedData:K,props:b,dataKey:L,item:W,bandSize:we,barPosition:ve,offset:T,stackedData:ae,layout:C,dataStartIndex:E,dataEndIndex:S}))),{},ye(ye(ye({key:W.key||"item-".concat(V)},M,De[M]),U,De[U]),"animationId",P)),childIndex:Yz(W,b.children),item:W})}),F},m=function(b,v){var x=b.props,N=b.dataStartIndex,T=b.dataEndIndex,P=b.updateId;if(!JS({props:x}))return null;var E=x.children,S=x.layout,I=x.stackOffset,C=x.data,k=x.reverseStackOrder,j=AI(S),O=j.numericAxisName,q=j.cateAxisName,M=Br(E,r),U=uie(C,M,"".concat(O,"Id"),"".concat(q,"Id"),I,k),G=l.reduce(function(D,L){var X="".concat(L.axisType,"Map");return Q(Q({},D),{},ye({},X,zde(x,Q(Q({},L),{},{graphicalItems:M,stackGroups:L.axisType===O&&U,dataStartIndex:N,dataEndIndex:T}))))},{}),F=Hde(Q(Q({},G),{},{props:x,graphicalItems:M}),v==null?void 0:v.legendBBox);Object.keys(G).forEach(function(D){G[D]=f(x,G[D],F,D.replace("Map",""),n)});var W=G["".concat(q,"Map")],V=qde(W),K=p(x,Q(Q({},G),{},{dataStartIndex:N,dataEndIndex:T,updateId:P,graphicalItems:M,stackGroups:U,offset:F}));return Q(Q({formattedGraphicalItems:K,graphicalItems:M,offset:F,stackGroups:U},V),G)},y=function(_){function b(v){var x,N,T;return Ade(this,b),T=Nde(this,b,[v]),ye(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(T,"accessibilityManager",new fde),ye(T,"handleLegendBBoxUpdate",function(P){if(P){var E=T.state,S=E.dataStartIndex,I=E.dataEndIndex,C=E.updateId;T.setState(Q({legendBBox:P},m({props:T.props,dataStartIndex:S,dataEndIndex:I,updateId:C},Q(Q({},T.state),{},{legendBBox:P}))))}}),ye(T,"handleReceiveSyncEvent",function(P,E,S){if(T.props.syncId===P){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),ye(T,"handleBrushChange",function(P){var E=P.startIndex,S=P.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var I=T.state.updateId;T.setState(function(){return Q({dataStartIndex:E,dataEndIndex:S},m({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:I},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),ye(T,"handleMouseEnter",function(P){var E=T.getMouseInfo(P);if(E){var S=Q(Q({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseEnter;Ne(I)&&I(S,P)}}),ye(T,"triggeredAfterMouseMove",function(P){var E=T.getMouseInfo(P),S=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var I=T.props.onMouseMove;Ne(I)&&I(S,P)}),ye(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ye(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ye(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),ye(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;Ne(S)&&S(E,P)}),ye(T,"handleOuterEvent",function(P){var E=Xz(P),S=wr(T.props,"".concat(E));if(E&&Ne(S)){var I,C;/.*touch.*/i.test(E)?C=T.getMouseInfo(P.changedTouches[0]):C=T.getMouseInfo(P),S((I=C)!==null&&I!==void 0?I:{},P)}}),ye(T,"handleClick",function(P){var E=T.getMouseInfo(P);if(E){var S=Q(Q({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var I=T.props.onClick;Ne(I)&&I(S,P)}}),ye(T,"handleMouseDown",function(P){var E=T.props.onMouseDown;if(Ne(E)){var S=T.getMouseInfo(P);E(S,P)}}),ye(T,"handleMouseUp",function(P){var E=T.props.onMouseUp;if(Ne(E)){var S=T.getMouseInfo(P);E(S,P)}}),ye(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ye(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),ye(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),ye(T,"handleDoubleClick",function(P){var E=T.props.onDoubleClick;if(Ne(E)){var S=T.getMouseInfo(P);E(S,P)}}),ye(T,"handleContextMenu",function(P){var E=T.props.onContextMenu;if(Ne(E)){var S=T.getMouseInfo(P);E(S,P)}}),ye(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&Ay.emit(Py,T.props.syncId,P,T.eventEmitterSymbol)}),ye(T,"applySyncEvent",function(P){var E=T.props,S=E.layout,I=E.syncMethod,C=T.state.updateId,k=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(Q({dataStartIndex:k,dataEndIndex:j},m({props:T.props,dataStartIndex:k,dataEndIndex:j,updateId:C},T.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,q=P.chartY,M=P.activeTooltipIndex,U=T.state,G=U.offset,F=U.tooltipTicks;if(!G)return;if(typeof I=="function")M=I(F,P);else if(I==="value"){M=-1;for(var W=0;W<F.length;W++)if(F[W].value===P.activeLabel){M=W;break}}var V=Q(Q({},G),{},{x:G.left,y:G.top}),K=Math.min(O,V.x+V.width),D=Math.min(q,V.y+V.height),L=F[M]&&F[M].value,X=vx(T.state,T.props.data,M),ne=F[M]?{x:S==="horizontal"?F[M].coordinate:K,y:S==="horizontal"?D:F[M].coordinate}:SD;T.setState(Q(Q({},P),{},{activeLabel:L,activeCoordinate:ne,activePayload:X,activeTooltipIndex:M}))}else T.setState(P)}),ye(T,"renderCursor",function(P){var E,S=T.state,I=S.isTooltipActive,C=S.activeCoordinate,k=S.activePayload,j=S.offset,O=S.activeTooltipIndex,q=S.tooltipAxisBandSize,M=T.getTooltipEventType(),U=(E=P.props.active)!==null&&E!==void 0?E:I,G=T.props.layout,F=P.key||"_recharts-cursor";return B.createElement(xde,{key:F,activeCoordinate:C,activePayload:k,activeTooltipIndex:O,chartName:n,element:P,isActive:U,layout:G,offset:j,tooltipAxisBandSize:q,tooltipEventType:M})}),ye(T,"renderPolarAxis",function(P,E,S){var I=wr(P,"type.axisType"),C=wr(T.state,"".concat(I,"Map")),k=P.type.defaultProps,j=k!==void 0?Q(Q({},k),P.props):P.props,O=C&&C[j["".concat(I,"Id")]];return $.cloneElement(P,Q(Q({},O),{},{className:ze(I,O.className),key:P.key||"".concat(E,"-").concat(S),ticks:mu(O,!0)}))}),ye(T,"renderPolarGrid",function(P){var E=P.props,S=E.radialLines,I=E.polarAngles,C=E.polarRadius,k=T.state,j=k.radiusAxisMap,O=k.angleAxisMap,q=qo(j),M=qo(O),U=M.cx,G=M.cy,F=M.innerRadius,W=M.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(I)?I:mu(M,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(C)?C:mu(q,!0).map(function(V){return V.coordinate}),cx:U,cy:G,innerRadius:F,outerRadius:W,key:P.key||"polar-grid",radialLines:S})}),ye(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,E=T.props,S=E.children,I=E.width,C=E.height,k=T.props.margin||{},j=I-(k.left||0)-(k.right||0),O=IR({children:S,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!O)return null;var q=O.item,M=_I(O,bde);return $.cloneElement(q,Q(Q({},M),{},{chartWidth:I,chartHeight:C,margin:k,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ye(T,"renderTooltip",function(){var P,E=T.props,S=E.children,I=E.accessibilityLayer,C=Qn(S,jr);if(!C)return null;var k=T.state,j=k.isTooltipActive,O=k.activeCoordinate,q=k.activePayload,M=k.activeLabel,U=k.offset,G=(P=C.props.active)!==null&&P!==void 0?P:j;return $.cloneElement(C,{viewBox:Q(Q({},U),{},{x:U.left,y:U.top}),active:G,label:M,payload:G?q:[],coordinate:O,accessibilityLayer:I})}),ye(T,"renderBrush",function(P){var E=T.props,S=E.margin,I=E.data,C=T.state,k=C.offset,j=C.dataStartIndex,O=C.dataEndIndex,q=C.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:lf(T.handleBrushChange,P.props.onChange),data:I,x:oe(P.props.x)?P.props.x:k.left,y:oe(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(S.bottom||0),width:oe(P.props.width)?P.props.width:k.width,startIndex:j,endIndex:O,updateId:"brush-".concat(q)})}),ye(T,"renderReferenceElement",function(P,E,S){if(!P)return null;var I=T,C=I.clipPathId,k=T.state,j=k.xAxisMap,O=k.yAxisMap,q=k.offset,M=P.type.defaultProps||{},U=P.props,G=U.xAxisId,F=G===void 0?M.xAxisId:G,W=U.yAxisId,V=W===void 0?M.yAxisId:W;return $.cloneElement(P,{key:P.key||"".concat(E,"-").concat(S),xAxis:j[F],yAxis:O[V],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:C})}),ye(T,"renderActivePoints",function(P){var E=P.item,S=P.activePoint,I=P.basePoint,C=P.childIndex,k=P.isRange,j=[],O=E.props.key,q=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,M=q.activeDot,U=q.dataKey,G=Q(Q({index:C,dataKey:U,cx:S.x,cy:S.y,r:4,fill:u_(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Ie(M,!1)),jh(M));return j.push(b.renderActiveDot(M,G,"".concat(O,"-activePoint-").concat(C))),I?j.push(b.renderActiveDot(M,Q(Q({},G),{},{cx:I.x,cy:I.y}),"".concat(O,"-basePoint-").concat(C))):k&&j.push(null),j}),ye(T,"renderGraphicChild",function(P,E,S){var I=T.filterFormatItem(P,E,S);if(!I)return null;var C=T.getTooltipEventType(),k=T.state,j=k.isTooltipActive,O=k.tooltipAxis,q=k.activeTooltipIndex,M=k.activeLabel,U=T.props.children,G=Qn(U,jr),F=I.props,W=F.points,V=F.isRange,K=F.baseLine,D=I.item.type.defaultProps!==void 0?Q(Q({},I.item.type.defaultProps),I.item.props):I.item.props,L=D.activeDot,X=D.hide,ne=D.activeBar,re=D.activeShape,ge=!!(!X&&j&&G&&(L||ne||re)),De={};C!=="axis"&&G&&G.props.trigger==="click"?De={onClick:lf(T.handleItemMouseEnter,P.props.onClick)}:C!=="axis"&&(De={onMouseLeave:lf(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:lf(T.handleItemMouseEnter,P.props.onMouseEnter)});var Z=$.cloneElement(P,Q(Q({},I.props),De));function se(Zt){return typeof O.dataKey=="function"?O.dataKey(Zt.payload):null}if(ge)if(q>=0){var ae,Y;if(O.dataKey&&!O.allowDuplicatedCategory){var we=typeof O.dataKey=="function"?se:"payload.".concat(O.dataKey.toString());ae=Yv(W,we,M),Y=V&&K&&Yv(K,we,M)}else ae=W==null?void 0:W[q],Y=V&&K&&K[q];if(re||ne){var ve=P.props.activeIndex!==void 0?P.props.activeIndex:q;return[$.cloneElement(P,Q(Q(Q({},I.props),De),{},{activeIndex:ve})),null,null]}if(!Re(ae))return[Z].concat(ol(T.renderActivePoints({item:I,activePoint:ae,basePoint:Y,childIndex:q,isRange:V})))}else{var We,Ke=(We=T.getItemByXY(T.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:Z},St=Ke.graphicalItem,zn=St.item,cr=zn===void 0?P:zn,Ir=St.childIndex,qn=Q(Q(Q({},I.props),De),{},{activeIndex:Ir});return[$.cloneElement(cr,qn),null,null]}return V?[Z,null,null]:[Z,null]}),ye(T,"renderCustomized",function(P,E,S){return $.cloneElement(P,Q(Q({key:"recharts-customized-".concat(S)},T.props),T.state))}),ye(T,"renderMap",{CartesianGrid:{handler:pf,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:pf},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:pf},YAxis:{handler:pf},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:Em("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=Pk(T.triggeredAfterMouseMove,(N=v.throttleDelay)!==null&&N!==void 0?N:1e3/60),T.state={},T}return Cde(b,_),Ide(b,[{key:"componentDidMount",value:function(){var x,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,N=x.children,T=x.data,P=x.height,E=x.layout,S=Qn(N,jr);if(S){var I=S.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=vx(this.state,T,I,C),j=this.state.tooltipTicks[I].coordinate,O=(this.state.offset.top+P)/2,q=E==="horizontal",M=q?{x:j,y:O}:{y:j,x:O},U=this.state.formattedGraphicalItems.find(function(F){var W=F.item;return W.type.name==="Scatter"});U&&(M=Q(Q({},M),U.props.points[I].tooltipPosition),k=U.props.points[I].tooltipPayload);var G={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:M};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(x){e0([Qn(x.children,jr)],[Qn(this.props.children,jr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Qn(this.props.children,jr);if(x&&typeof x.props.shared=="boolean"){var N=x.props.shared?"axis":"item";return a.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var N=this.container,T=N.getBoundingClientRect(),P=TZ(T),E={chartX:Math.round(x.pageX-P.left),chartY:Math.round(x.pageY-P.top)},S=T.width/N.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,S);if(!I)return null;var C=this.state,k=C.xAxisMap,j=C.yAxisMap,O=this.getTooltipEventType(),q=SI(this.state,this.props.data,this.props.layout,I);if(O!=="axis"&&k&&j){var M=qo(k).scale,U=qo(j).scale,G=M&&M.invert?M.invert(E.chartX):null,F=U&&U.invert?U.invert(E.chartY):null;return Q(Q({},E),{},{xValue:G,yValue:F},q)}return q?Q(Q({},E),q):null}},{key:"inRange",value:function(x,N){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=x/T,S=N/T;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,C=E>=I.left&&E<=I.left+I.width&&S>=I.top&&S<=I.top+I.height;return C?{x:E,y:S}:null}var k=this.state,j=k.angleAxisMap,O=k.radiusAxisMap;if(j&&O){var q=qo(j);return aP({x:E,y:S},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,N=this.getTooltipEventType(),T=Qn(x,jr),P={};T&&N==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=jh(this.props,this.handleOuterEvent);return Q(Q({},E),P)}},{key:"addListener",value:function(){Ay.on(Py,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ay.removeListener(Py,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,N,T){for(var P=this.state.formattedGraphicalItems,E=0,S=P.length;E<S;E++){var I=P[E];if(I.item===x||I.props.key===x.key||N===yi(I.item.type)&&T===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,N=this.state.offset,T=N.left,P=N.top,E=N.height,S=N.width;return B.createElement("defs",null,B.createElement("clipPath",{id:x},B.createElement("rect",{x:T,y:P,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(N,T){var P=wI(T,2),E=P[0],S=P[1];return Q(Q({},N),{},ye({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(N,T){var P=wI(T,2),E=P[0],S=P[1];return Q(Q({},N),{},ye({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[x])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(x){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[x])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(x){var N=this.state,T=N.formattedGraphicalItems,P=N.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var I=T[E],C=I.props,k=I.item,j=k.type.defaultProps!==void 0?Q(Q({},k.type.defaultProps),k.props):k.props,O=yi(k.type);if(O==="Bar"){var q=(C.data||[]).find(function(F){return lae(x,F)});if(q)return{graphicalItem:I,payload:q}}else if(O==="RadialBar"){var M=(C.data||[]).find(function(F){return aP(x,F)});if(M)return{graphicalItem:I,payload:M}}else if(Km(I,P)||Gm(I,P)||$c(I,P)){var U=Yle({graphicalItem:I,activeTooltipItem:P,itemData:j.data}),G=j.activeIndex===void 0?U:j.activeIndex;return{graphicalItem:Q(Q({},I),{},{childIndex:G}),payload:$c(I,P)?j.data[U]:I.props.data[U]}}}return null}},{key:"render",value:function(){var x=this;if(!JS(this))return null;var N=this.props,T=N.children,P=N.className,E=N.width,S=N.height,I=N.style,C=N.compact,k=N.title,j=N.desc,O=_I(N,wde),q=Ie(O,!1);if(C)return B.createElement(dI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(n0,la({},q,{width:E,height:S,title:k,desc:j}),this.renderClipPath(),eT(T,this.renderMap)));if(this.props.accessibilityLayer){var M,U;q.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,q.role=(U=this.props.role)!==null&&U!==void 0?U:"application",q.onKeyDown=function(F){x.accessibilityManager.keyboardEvent(F)},q.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return B.createElement(dI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",la({className:ze("recharts-wrapper",P),style:Q({position:"relative",cursor:"default",width:E,height:S},I)},G,{ref:function(W){x.container=W}}),B.createElement(n0,la({},q,{width:E,height:S,title:k,desc:j,style:Lde}),this.renderClipPath(),eT(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ye(y,"displayName",n),ye(y,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ye(y,"getDerivedStateFromProps",function(_,b){var v=_.dataKey,x=_.data,N=_.children,T=_.width,P=_.height,E=_.layout,S=_.stackOffset,I=_.margin,C=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var j=TI(_);return Q(Q(Q({},j),{},{updateId:0},m(Q(Q({props:_},j),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:N})}if(v!==b.prevDataKey||x!==b.prevData||T!==b.prevWidth||P!==b.prevHeight||E!==b.prevLayout||S!==b.prevStackOffset||!Jv(I,b.prevMargin)){var O=TI(_),q={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},M=Q(Q({},SI(b,x,E)),{},{updateId:b.updateId+1}),U=Q(Q(Q({},O),q),M);return Q(Q(Q({},U),m(Q({props:_},U),b)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:P,prevLayout:E,prevStackOffset:S,prevMargin:I,prevChildren:N})}if(!e0(N,b.prevChildren)){var G,F,W,V,K=Qn(N,tl),D=K&&(G=(F=K.props)===null||F===void 0?void 0:F.startIndex)!==null&&G!==void 0?G:C,L=K&&(W=(V=K.props)===null||V===void 0?void 0:V.endIndex)!==null&&W!==void 0?W:k,X=D!==C||L!==k,ne=!Re(x),re=ne&&!X?b.updateId:b.updateId+1;return Q(Q({updateId:re},m(Q(Q({props:_},b),{},{updateId:re,dataStartIndex:D,dataEndIndex:L}),b)),{},{prevChildren:N,dataStartIndex:D,dataEndIndex:L})}return null}),ye(y,"renderActiveDot",function(_,b,v){var x;return $.isValidElement(_)?x=$.cloneElement(_,b):Ne(_)?x=_(b):x=B.createElement(d_,b),B.createElement(Et,{className:"recharts-active-dot",key:v},x)});var w=$.forwardRef(function(b,v){return B.createElement(y,la({},b,{ref:v}))});return w.displayName=y.displayName,w},Qde=Gde({chartName:"PieChart",GraphicalChild:Mi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hm},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:_ie,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ru=()=>{const{userProfile:t}=Ar(),[e,n]=$.useState({totalStudents:0,totalExperiments:0,completedSubmissions:0,vivaAttempts:0,sectionWiseStudents:[],experimentProgress:[],vivaProgress:[],submissionStats:[]}),r=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"];if($.useEffect(()=>{(async()=>{if(t)try{if(t.role==="faculty"){const a=t.primaryFacultyId||t.uid,l=Ve(be(le,"students"),$e("facultyId","==",a)),f=(await Oe(l)).docs.map(M=>({id:M.id,...M.data()})),h=new Map;f.forEach(M=>{const U=M.section||"Unknown";h.set(U,(h.get(U)||0)+1)});const p=Array.from(h.entries()).map(([M,U],G)=>({name:M,value:U,color:r[G%r.length]})),m=Ve(be(le,"experiments"),$e("facultyId","==",a)),w=(await Oe(m)).docs.map(M=>({id:M.id,...M.data()})),b=(await Oe(be(le,"submissions"))).docs.map(M=>({id:M.id,...M.data()})),v=w.map(M=>M.id),x=b.filter(M=>v.includes(M.experimentId)),N=x.filter(M=>M.status==="approved").length,T=x.filter(M=>M.status==="pending").length,P=x.filter(M=>M.status==="rejected").length,I=(await Oe(be(le,"vivaAttempts"))).docs.map(M=>({id:M.id,...M.data()})).filter(M=>v.includes(M.experimentId)),C=f.length*w.length,k=[{name:"Submitted",value:x.length,color:"#10B981"},{name:"Not Submitted",value:Math.max(0,C-x.length),color:"#E5E7EB"}],j=f.length*w.length,O=[{name:"Attempted",value:I.length,color:"#3B82F6"},{name:"Not Attempted",value:Math.max(0,j-I.length),color:"#E5E7EB"}],q=[{name:"Approved",value:N,color:"#10B981"},{name:"Pending",value:T,color:"#F59E0B"},{name:"Rejected",value:P,color:"#EF4444"}].filter(M=>M.value>0);n({totalStudents:f.length,totalExperiments:w.length,completedSubmissions:x.length,vivaAttempts:I.length,sectionWiseStudents:p,experimentProgress:k,vivaProgress:O,submissionStats:q})}else{const a=t,l=Ve(be(le,"experiments"),$e("facultyId","==",t.facultyId)),f=(await Oe(l)).docs.length,h=Ve(be(le,"submissions"),$e("studentId","==",t.uid)),m=(await Oe(h)).docs.map(E=>({id:E.id,...E.data()})),y=m.filter(E=>E.status==="approved").length,w=m.filter(E=>E.status==="pending").length,_=m.filter(E=>E.status==="rejected").length,b=Ve(be(le,"vivaAttempts"),$e("studentId","==",t.uid)),x=(await Oe(b)).docs.length,N=[{name:"Submitted",value:m.length,color:"#10B981"},{name:"Not Submitted",value:Math.max(0,f-m.length),color:"#E5E7EB"}],T=[{name:"Attempted",value:x,color:"#3B82F6"},{name:"Not Attempted",value:Math.max(0,f-x),color:"#E5E7EB"}],P=[{name:"Approved",value:y,color:"#10B981"},{name:"Pending",value:w,color:"#F59E0B"},{name:"Rejected",value:_,color:"#EF4444"}].filter(E=>E.value>0);n({totalStudents:0,totalExperiments:f,completedSubmissions:m.length,vivaAttempts:x,sectionWiseStudents:[],experimentProgress:N,vivaProgress:T,submissionStats:P})}}catch(a){console.error("Error fetching stats:",a)}})()},[t]),!t)return null;const i=({title:o,value:a,icon:l,color:u})=>c.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:o}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a})]}),c.jsx("div",{className:`p-3 rounded-full ${u}`,children:l})]})}),s=({title:o,data:a})=>c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:o}),c.jsx("div",{className:"h-64",children:a.length>0?c.jsx(vZ,{width:"100%",height:"100%",children:c.jsxs(Qde,{children:[c.jsx(Mi,{data:a,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:a.map((l,u)=>c.jsx(Mw,{fill:l.color},`cell-${u}`))}),c.jsx(jr,{}),c.jsx(ro,{})]})}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:c.jsx("p",{children:"No data available"})})})]});return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.role==="faculty"?"Faculty Dashboard":"Student Dashboard"}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx($S,{className:"h-4 w-4"}),c.jsx("span",{children:"Real-time Analytics"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.role==="faculty"?c.jsxs(c.Fragment,{children:[c.jsx(i,{title:"Total Students",value:e.totalStudents,icon:c.jsx(Oh,{className:"h-6 w-6 text-white"}),color:"bg-blue-500"}),c.jsx(i,{title:"Total Experiments",value:e.totalExperiments,icon:c.jsx(er,{className:"h-6 w-6 text-white"}),color:"bg-green-500"}),c.jsx(i,{title:"Total Submissions",value:e.completedSubmissions,icon:c.jsx(es,{className:"h-6 w-6 text-white"}),color:"bg-yellow-500"}),c.jsx(i,{title:"Viva Attempts",value:e.vivaAttempts,icon:c.jsx(lc,{className:"h-6 w-6 text-white"}),color:"bg-purple-500"})]}):c.jsxs(c.Fragment,{children:[c.jsx(i,{title:"Total Experiments",value:e.totalExperiments,icon:c.jsx(er,{className:"h-6 w-6 text-white"}),color:"bg-blue-500"}),c.jsx(i,{title:"Submissions Made",value:e.completedSubmissions,icon:c.jsx(es,{className:"h-6 w-6 text-white"}),color:"bg-green-500"}),c.jsx(i,{title:"Viva Attempts",value:e.vivaAttempts,icon:c.jsx(lc,{className:"h-6 w-6 text-white"}),color:"bg-purple-500"}),c.jsx(i,{title:"Completion Rate",value:e.totalExperiments>0?Math.round(e.completedSubmissions/e.totalExperiments*100):0,icon:c.jsx($S,{className:"h-6 w-6 text-white"}),color:"bg-yellow-500"})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[t.role==="faculty"&&e.sectionWiseStudents.length>0&&c.jsx(s,{title:"Students by Section",data:e.sectionWiseStudents}),c.jsx(s,{title:"Experiment Submissions",data:e.experimentProgress}),c.jsx(s,{title:"Viva Test Progress",data:e.vivaProgress}),e.submissionStats.length>0&&c.jsx(s,{title:"Submission Status",data:e.submissionStats})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),c.jsx("div",{className:"space-y-4",children:t.role==="faculty"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Student submissions received"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Check submissions tab for review"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Viva tests completed"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Students are taking viva tests"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"System active"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Lab evaluation system running smoothly"})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Check experiment submissions"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Submit pending experiments"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Viva tests available"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Take viva tests for approved experiments"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Keep up the good work!"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Continue with your lab experiments"})]})]})]})})]})]})},Xde=mb({apiKey:"AIzaSyCbEoR07MXBiYZZ1HM3aEzP0GzNpJOulsY",authDomain:"aisp-lab.firebaseapp.com",projectId:"aisp-lab",storageBucket:"aisp-lab.firebasestorage.app",messagingSenderId:"412257840376",appId:"1:412257840376:web:8bc3debdb459bb72dd9f0d",measurementId:"G-YZ1QG04P9L"},"secondary"),PI=MO(Xde),Yde=()=>{const{userProfile:t}=Ar(),[e,n]=$.useState([]),[r,i]=$.useState([]),[s,o]=$.useState("all"),[a,l]=$.useState([]),[u,f]=$.useState(!1),[h,p]=$.useState(null),[m,y]=$.useState(!1),[w,_]=$.useState(!1),[b,v]=$.useState({}),[x,N]=$.useState({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"}),T=M=>[...M].sort((U,G)=>{const F=U.rollNo||"",W=G.rollNo||"",V=F.match(/\d+/),K=W.match(/\d+/);if(V&&K){const D=parseInt(V[0]),L=parseInt(K[0]);if(D!==L)return D-L}return F.toLowerCase().localeCompare(W.toLowerCase())});$.useEffect(()=>{P()},[t]),$.useEffect(()=>{I()},[e,s]),$.useEffect(()=>{e.length>0&&S()},[e]);const P=async()=>{if(!t)return;const M=t.primaryFacultyId||t.uid;try{const U=Ve(be(le,"students"),$e("facultyId","==",M)),F=(await Oe(U)).docs.map(K=>({id:K.id,...K.data()})),W=T(F);n(W);const V=Array.from(new Set(F.map(K=>K.section).filter(Boolean)));l(V)}catch(U){console.error("Error fetching students:",U)}},E=async()=>{_(!0),await P(),setTimeout(()=>_(!1),1e3)},S=async()=>{try{const U=(await Oe(be(le,"users"))).docs.map(D=>({id:D.id,...D.data()})),F=(await Oe(be(le,"submissions"))).docs.map(D=>({id:D.id,...D.data()})),V=(await Oe(be(le,"vivaAttempts"))).docs.map(D=>({id:D.id,...D.data()})),K={};e.forEach(D=>{const L=U.find(se=>se.email===D.email||se.rollNo===D.rollNo||se.uid===D.id),X=(L==null?void 0:L.uid)||D.id,ne=F.filter(se=>se.studentId===X||se.studentId===D.id||se.studentId===D.uid),re=ne.filter(se=>se.status==="approved"),ge=V.filter(se=>se.studentId===X||se.studentId===D.id||se.studentId===D.uid),De=ge.reduce((se,ae)=>se+(ae.score||0),0),Z=ge.length>0?Math.round(De/ge.length*100)/100:0;K[D.id]={submissions:ne.length,approvedSubmissions:re.length,vivaAttempts:ge.length,totalVivaScore:De,averageVivaScore:Z}}),v(K)}catch(M){console.error("Error fetching student stats:",M)}},I=()=>{let M;s==="all"?M=e:M=e.filter(G=>G.section===s);const U=T(M);i(U)},C=async M=>{M.preventDefault(),y(!0);const U=t.primaryFacultyId||t.uid;try{console.log("Creating student with email:",x.email,"and password:",x.password);const G=await Sb(PI,x.email,x.password);console.log("Created auth account for student:",x.email),console.log("Student UID:",G.user.uid);const F={name:x.name,rollNo:x.rollNo,email:x.email,section:x.section,facultyId:U,passwordChanged:!1,experimentsCompleted:[],vivaScores:{},addedBy:t.uid,addedByName:t.name,uid:G.user.uid},W=await xs(be(le,"students"),F);console.log("Added student to students collection:",W.id);const V={uid:G.user.uid,email:x.email,name:x.name,role:"student",rollNo:x.rollNo,section:x.section,facultyId:U,passwordChanged:!1,addedBy:t.uid};await pu(_t(le,"users",G.user.uid),V),console.log("Created user profile for student"),await TO(PI),console.log("Signed out from secondary auth"),N({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"}),f(!1),P(),alert(`Student added successfully! 
      
Login Credentials:
Email: ${x.email}
Password: ${x.password}

The student will be required to change their password on first login.`)}catch(G){console.error("Error adding student:",G),alert(`Error adding student: ${G.message}
      
Please check:
1. Email format is correct
2. Email is not already in use
3. Password meets requirements (min 6 characters)`)}finally{y(!1)}},k=async M=>{if(M.preventDefault(),!!h){y(!0);try{await En(_t(le,"students",h.id),{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section});const U=Ve(be(le,"users"),$e("email","==",h.email)),F=(await Oe(U)).docs.map(D=>En(D.ref,{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section}));if(await Promise.all(F),x.email!==h.email){const D=Ve(be(le,"users"),$e("rollNo","==",h.rollNo)),X=(await Oe(D)).docs.map(ne=>En(ne.ref,{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section}));await Promise.all(X)}const W=Ve(be(le,"users"),$e("facultyId","==",t.uid),$e("role","==","student")),K=(await Oe(W)).docs.filter(D=>{const L=D.data();return L.email===h.email||L.rollNo===h.rollNo}).map(D=>En(D.ref,{name:x.name,rollNo:x.rollNo,email:x.email,section:x.section}));await Promise.all(K),console.log("Updated student data in both collections"),p(null),N({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"}),P(),alert("Student updated successfully! Changes will be reflected when they next login.")}catch(U){console.error("Error updating student:",U),alert(`Error updating student: ${U.message}`)}finally{y(!1)}}},j=async M=>{if(confirm("Are you sure you want to delete this student? This will also remove their login access."))try{const U=e.find(L=>L.id===M);if(!U)return;await xa(_t(le,"students",M));const G=Ve(be(le,"users"),$e("email","==",U.email)),W=(await Oe(G)).docs.map(L=>xa(L.ref));await Promise.all(W);const V=Ve(be(le,"users"),$e("rollNo","==",U.rollNo)),D=(await Oe(V)).docs.map(L=>xa(L.ref));await Promise.all(D),P(),alert("Student deleted successfully! Their login access has been removed.")}catch(U){console.error("Error deleting student:",U),alert(`Error deleting student: ${U.message}`)}},O=M=>{p(M),N({name:M.name,rollNo:M.rollNo,email:M.email,section:M.section,password:"cse@nbkr"})},q=()=>{f(!1),p(null),N({name:"",rollNo:"",email:"",section:"",password:"cse@nbkr"})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Students Management"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{onClick:E,disabled:w,className:"bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 disabled:opacity-50 transition-colors",children:[c.jsx(eB,{className:`h-5 w-5 ${w?"animate-spin":""}`}),c.jsx("span",{children:"Refresh"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[c.jsx(om,{className:"h-5 w-5"}),c.jsx("span",{children:"Add Student"})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(fC,{className:"h-5 w-5 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Section:"}),c.jsxs("select",{value:s,onChange:M=>o(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Sections"}),a.map(M=>c.jsx("option",{value:M,children:M},M))]}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",r.length," of ",e.length," students"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 bg-gray-50 px-3 py-2 rounded-lg",children:[c.jsx(DS,{className:"h-4 w-4"}),c.jsx("span",{children:"Sorted by Roll Number"})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{children:"Student Details"}),c.jsx(DS,{className:"h-3 w-3 text-blue-500"})]})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submissions"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Viva Performance"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(M=>{const U=b[M.id]||{submissions:0,approvedSubmissions:0,vivaAttempts:0,totalVivaScore:0,averageVivaScore:0};return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.name}),c.jsxs("div",{className:"text-sm text-blue-600 font-medium",children:["Roll No: ",M.rollNo]}),c.jsx("div",{className:"text-sm text-gray-500",children:M.email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:M.section})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"text-sm text-gray-900",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"text-gray-600",children:"Total:"}),c.jsx("span",{className:"font-semibold text-blue-600",children:U.submissions})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-gray-600",children:"Approved:"}),c.jsx("span",{className:"font-semibold text-green-600",children:U.approvedSubmissions})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"text-sm text-gray-900",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx(uw,{className:"h-4 w-4 text-purple-500"}),c.jsx("span",{className:"text-gray-600",children:"Attempts:"}),c.jsx("span",{className:"font-semibold text-purple-600",children:U.vivaAttempts})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(es,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{className:"text-gray-600",children:"Avg Score:"}),c.jsx("span",{className:"font-semibold text-yellow-600",children:U.averageVivaScore>0?`${U.averageVivaScore}/10`:"N/A"})]}),U.totalVivaScore>0&&c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total: ",U.totalVivaScore," marks"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.passwordChanged?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.passwordChanged?"Active":"Password Not Changed"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:()=>O(M),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-50",children:c.jsx(lw,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>j(M.id),className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-50",children:c.jsx(am,{className:"h-4 w-4"})})]})})]},M.id)})})]})}),r.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(rB,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No students found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s==="all"?"Get started by adding your first student.":`No students found in section ${s}.`})]})]}),(u||h)&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h?"Edit Student":"Add New Student"}),c.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Vn,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:h?k:C,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:x.name,onChange:M=>N({...x,name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter student's full name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),c.jsx("input",{type:"text",required:!0,value:x.rollNo,onChange:M=>N({...x,rollNo:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter roll number (e.g., 21A91A0501)"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will be automatically sorted by roll number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),c.jsx("input",{type:"email",required:!0,value:x.email,onChange:M=>N({...x,email:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter college email address"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used for student login"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),c.jsx("input",{type:"text",required:!0,value:x.section,onChange:M=>N({...x,section:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter section (e.g., CSE-A, CSE-B)"})]}),!h&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Password"}),c.jsx("input",{type:"text",value:x.password,onChange:M=>N({...x,password:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Default password for student"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Student will be required to change this password on first login"})]}),h&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Changes will be reflected when the student logs in next time. If you change the email, the student will need to use the new email to login."]})}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:m?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Saving..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsxs("span",{children:[h?"Update":"Add"," Student"]})]})})]})]})]})})]})},Jde=({experimentId:t,onComplete:e,onCancel:n,viewMode:r=!1,existingAttempt:i})=>{var Yr;const{userProfile:s}=Ar(),[o,a]=$.useState(null),[l,u]=$.useState([]),[f,h]=$.useState([]),[p,m]=$.useState(0),[y,w]=$.useState([]),[_,b]=$.useState(0),[v,x]=$.useState({tabSwitches:0,windowSwitches:0,aiToolDetections:0,devToolsAttempts:0}),[N,T]=$.useState(!1),[P,E]=$.useState(""),[S,I]=$.useState(!1),[C,k]=$.useState(r),[j,O]=$.useState(!1),[q,M]=$.useState(0),[U,G]=$.useState(0),[F,W]=$.useState(r),[V,K]=$.useState(30),[D,L]=$.useState(!0),[X,ne]=$.useState([]),[re,ge]=$.useState(!1),De=["chatgpt","claude","bard","copilot","gemini","perplexity","openai","anthropic","google.com/search","bing.com/search","stackoverflow","github.com","codepen","jsfiddle","replit","codesandbox","notion","obsidian","roam","whatsapp","telegram","discord","slack","teams","zoom","meet","skype","anydesk","teamviewer"];$.useEffect(()=>{ae()},[t]),$.useEffect(()=>{r&&i&&f.length>0&&(w(i.answers),M(i.score),G(i.totalQuestions),O(!0))},[r,i,f]),$.useEffect(()=>{if(C&&_>0&&!F&&!r){const fe=setInterval(()=>{b(pe=>pe<=1?(St("Time expired"),0):pe-1)},1e3);return()=>clearInterval(fe)}},[C,_,F,r]),$.useEffect(()=>{if(j&&!r){const fe=setInterval(()=>{K(pe=>pe<=1?(e(),0):pe-1)},1e3);return()=>clearInterval(fe)}},[j,r,e]),$.useEffect(()=>{if(!C||F||r)return;const fe=()=>{document.hidden?Z("tab","Tab switching detected! Stay on the test page."):L(!0)},pe=()=>{L(!1),Z("window","Window switching detected! Focus must remain on test window.")},Se=()=>{D||L(!0)},Le=Pe=>{if(Pe.key==="F12"||Pe.ctrlKey&&Pe.shiftKey&&(Pe.key==="I"||Pe.key==="J"||Pe.key==="C")||Pe.ctrlKey&&(Pe.key==="U"||Pe.key==="I"||Pe.key==="J")||Pe.metaKey&&Pe.altKey&&(Pe.key==="I"||Pe.key==="J"||Pe.key==="C"))return Pe.preventDefault(),Z("devtools","Developer tools access attempt detected!"),!1;if(Pe.altKey&&Pe.key==="Tab")return Pe.preventDefault(),Z("window","Alt+Tab window switching detected!"),!1;if(Pe.metaKey&&Pe.key==="Tab")return Pe.preventDefault(),Z("window","Cmd+Tab window switching detected!"),!1;if(Pe.ctrlKey&&(Pe.key==="c"||Pe.key==="v"||Pe.key==="x"))return Pe.preventDefault(),Z("devtools","Copy/Paste operation blocked during test!"),!1;if(Pe.key==="PrintScreen")return Pe.preventDefault(),Z("devtools","Screenshot attempt detected!"),!1},en=Pe=>(Pe.preventDefault(),Z("devtools","Right-click context menu blocked during test!"),!1),Jr=()=>{Z("window","Mouse left test window area!")},st=()=>{try{const Pe=window.location.href,eg=document.referrer;De.forEach(xn=>{(eg.toLowerCase().includes(xn)||Pe.toLowerCase().includes(xn))&&(X.includes(xn)||(ne(Zr=>[...Zr,xn]),Z("ai",`Suspicious tool detected: ${xn}`)))});const tg=document.title.toLowerCase(),Al=document.body.innerText.toLowerCase();["chatgpt","claude","bard","copilot","ai assistant"].forEach(xn=>{(tg.includes(xn)||Al.includes(xn))&&(X.includes(xn)||(ne(Zr=>[...Zr,xn]),Z("ai",`AI tool indicator detected: ${xn}`)))})}catch{console.log("AI detection check completed")}},ft=()=>{try{if("memory"in performance&&performance.memory.usedJSHeapSize>100*1024*1024&&Z("ai","High memory usage detected - possible AI tool running"),"connection"in navigator){const Pe=navigator.connection;Pe&&Pe.downlink<1&&Z("ai","Low bandwidth detected - possible multiple applications")}}catch{console.log("Performance monitoring check completed")}};document.addEventListener("visibilitychange",fe),window.addEventListener("blur",pe),window.addEventListener("focus",Se),document.addEventListener("keydown",Le),document.addEventListener("contextmenu",en),document.addEventListener("mouseleave",Jr);const js=setInterval(st,5e3),hd=setInterval(ft,1e4);return st(),ft(),()=>{document.removeEventListener("visibilitychange",fe),window.removeEventListener("blur",pe),window.removeEventListener("focus",Se),document.removeEventListener("keydown",Le),document.removeEventListener("contextmenu",en),document.removeEventListener("mouseleave",Jr),clearInterval(js),clearInterval(hd)}},[C,F,r,D,X]);const Z=(fe,pe)=>{x(Se=>{const Le={...Se};switch(fe){case"tab":Le.tabSwitches+=1;break;case"window":Le.windowSwitches+=1;break;case"ai":Le.aiToolDetections+=1;break;case"devtools":Le.devToolsAttempts+=1;break}const en=Le.tabSwitches+Le.windowSwitches+Le.aiToolDetections+Le.devToolsAttempts;return en===1?(E(` FINAL WARNING: ${pe} - One more violation will auto-submit your test with 0 marks!`),T(!0),setTimeout(()=>T(!1),5e3)):en>=2&&(ge(!0),St(`Multiple security violations detected: ${pe}`)),Le})},se=(fe,pe)=>{if(fe.length<=10)return fe;const Se=pe.split("").reduce((st,ft)=>st+ft.charCodeAt(0),0),Le=st=>{const ft=Math.sin(st)*1e4;return ft-Math.floor(ft)},en=Array.from({length:fe.length},(st,ft)=>ft);for(let st=en.length-1;st>0;st--){const ft=Se+st,js=Math.floor(Le(ft)*(st+1));[en[st],en[js]]=[en[js],en[st]]}return en.slice(0,10).sort((st,ft)=>st-ft).map(st=>fe[st])},ae=async()=>{var fe;try{const pe=Ve(be(le,"experiments"),$e("id","==",t)),Se=await Oe(pe);if(!Se.empty){const ft={id:Se.docs[0].id,...Se.docs[0].data(),createdAt:((fe=Se.docs[0].data().createdAt)==null?void 0:fe.toDate())||new Date};a(ft)}const Le=Ve(be(le,"vivaQuestions"),$e("experimentId","==",t)),Jr=(await Oe(Le)).docs.map(ft=>({id:ft.id,...ft.data()}));u(Jr);const st=se(Jr,s.uid);h(st),r||(w(new Array(st.length).fill(-1)),b(Math.min(st.length,10)*60)),G(st.length)}catch(pe){console.error("Error fetching questions:",pe)}},Y=()=>{k(!0),document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen().catch(fe=>{console.log("Fullscreen request failed:",fe)})},we=fe=>{if(r)return;const pe=[...y];pe[p]=fe,w(pe)},ve=()=>{p<questions.length-1&&m(fe=>fe+1)},We=()=>{p>0&&m(fe=>fe-1)},Ke=async()=>{if(!(S||F||r)){I(!0),W(!0);try{let fe=0;re?(fe=0,console.log("Test auto-submitted due to security violations - Score set to 0")):y.forEach((pe,Se)=>{pe===questions[Se].correctAnswer&&fe++}),M(fe),await xs(be(le,"vivaAttempts"),{studentId:s.uid,experimentId:t,score:fe,totalQuestions:f.length,completedAt:new Date,answers:y,selectedQuestionIds:f.map(pe=>pe.id),securityViolations:v,aiToolsDetected:X,autoSubmittedDueToViolation:re,violationReason:re?"Security violations detected during test":null}),document.exitFullscreen&&document.exitFullscreen().catch(pe=>{console.log("Exit fullscreen failed:",pe)}),setTimeout(()=>{O(!0)},500)}catch(fe){console.error("Error submitting test:",fe),alert(`Error submitting test: ${fe.message}`),I(!1),W(!1)}}},St=fe=>{!S&&!F&&!r&&(console.log(`Auto-submitting test: ${fe}`),ge(!0),Ke())},zn=fe=>{const pe=Math.floor(fe/60),Se=fe%60;return`${pe}:${Se.toString().padStart(2,"0")}`},cr=()=>{const fe=q/U*100;return re?{grade:"F",label:"Test Terminated - Security Violations",color:"text-red-600"}:fe>=90?{grade:"A+",label:"Outstanding",color:"text-green-600"}:fe>=80?{grade:"A",label:"Exceptional Performance!",color:"text-green-600"}:fe>=70?{grade:"B+",label:"Great Job!",color:"text-blue-600"}:fe>=60?{grade:"B",label:"Good Work!",color:"text-yellow-600"}:fe>=50?{grade:"C",label:"Keep Improving!",color:"text-orange-600"}:{grade:"D",label:"Better Luck Next Time!",color:"text-red-600"}},Ir=(fe,pe)=>{const Se=y[fe],Le=f[fe].correctAnswer;return pe===Le?"correct":pe===Se&&Se!==Le?"wrong":"neutral"},qn=()=>{const fe=cr(),pe=Math.round(q/U*100);return c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(12)].map((Se,Le)=>c.jsx("div",{className:"absolute w-1 h-1 bg-white/30 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()}s`}},`particle-${Le}`))}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden relative",children:[c.jsxs("div",{className:`px-6 py-4 text-center text-white ${re?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-emerald-500 to-teal-500"}`,children:[c.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 backdrop-blur-sm",children:re?c.jsx(Kl,{className:"h-6 w-6 text-white"}):c.jsx(Lf,{className:"h-6 w-6 text-white"})}),c.jsx("h2",{className:"text-xl font-bold mb-1",children:re?"Test Terminated":"Assessment Complete"}),c.jsx("p",{className:"text-emerald-100 text-sm truncate",children:o==null?void 0:o.title}),re&&c.jsx("p",{className:"text-red-100 text-xs mt-2 font-medium",children:"Due to Security Violations"})]}),c.jsxs("div",{className:"px-6 py-5",children:[re&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-5",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Kl,{className:"h-5 w-5 text-red-600"}),c.jsx("span",{className:"font-semibold text-red-800",children:"Security Violation Detected"})]}),c.jsx("p",{className:"text-sm text-red-700 mb-2",children:"Your test was automatically submitted due to multiple security violations."}),c.jsxs("div",{className:"text-xs text-red-600 space-y-1",children:[c.jsxs("div",{children:[" Tab Switches: ",v.tabSwitches]}),c.jsxs("div",{children:[" Window Switches: ",v.windowSwitches]}),c.jsxs("div",{children:[" AI Tool Detections: ",v.aiToolDetections]}),c.jsxs("div",{children:[" DevTools Attempts: ",v.devToolsAttempts]}),X.length>0&&c.jsxs("div",{children:[" AI Tools Detected: ",X.join(", ")]})]}),c.jsx("p",{className:"text-sm font-semibold text-red-800 mt-3",children:"Score: 0/10 (Automatic penalty for violations)"})]}),c.jsxs("div",{className:"text-center mb-5",children:[c.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg ${re?"bg-gradient-to-br from-red-400 to-red-500":"bg-gradient-to-br from-emerald-400 to-teal-500"}`,children:c.jsxs("span",{className:"text-2xl font-bold text-white",children:[pe,"%"]})}),c.jsx("div",{className:"mb-1",children:c.jsxs("span",{className:"text-xl font-bold text-gray-800",children:["Grade: ",fe.grade]})}),c.jsx("div",{className:"text-gray-600 text-sm",children:fe.label})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-5",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Hv,{className:"h-4 w-4 text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-800 text-sm",children:"Performance Breakdown"})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600 text-sm",children:"Correct Answers"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${re?"bg-red-500":"bg-emerald-500"}`,style:{width:`${q/U*100}%`}})}),c.jsxs("span",{className:`font-medium text-sm ${re?"text-red-600":"text-emerald-600"}`,children:[q,"/",U]})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600 text-sm",children:"Accuracy Rate"}),c.jsxs("span",{className:`font-medium text-sm ${re?"text-red-600":"text-blue-600"}`,children:[pe,"%"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[c.jsxs("div",{className:`text-center p-3 rounded-lg ${re?"bg-red-50":"bg-emerald-50"}`,children:[re?c.jsx(Vn,{className:"h-5 w-5 text-red-600 mx-auto mb-1"}):c.jsx(Sn,{className:"h-5 w-5 text-emerald-600 mx-auto mb-1"}),c.jsx("div",{className:`text-lg font-bold ${re?"text-red-600":"text-emerald-600"}`,children:q}),c.jsx("div",{className:`text-xs ${re?"text-red-700":"text-emerald-700"}`,children:"Correct"})]}),c.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[c.jsx(Vn,{className:"h-5 w-5 text-red-600 mx-auto mb-1"}),c.jsx("div",{className:"text-lg font-bold text-red-600",children:U-q}),c.jsx("div",{className:"text-xs text-red-700",children:"Incorrect"})]}),c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx(uw,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),c.jsx("div",{className:"text-lg font-bold text-blue-600",children:U}),c.jsx("div",{className:"text-xs text-blue-700",children:"Total"})]})]}),c.jsx("div",{className:"text-center",children:r?c.jsxs("button",{onClick:n,className:"w-full px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[c.jsx(RS,{className:"h-4 w-4"}),c.jsx("span",{children:"Back to Experiments"})]}):c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-500 text-sm",children:[c.jsx(ba,{className:"h-4 w-4"}),c.jsxs("span",{children:["Redirecting in ",V," seconds..."]})]})})]})]})]})};if(j)return c.jsx(qn,{});if(!C&&!r)return Object.values(v).reduce((fe,pe)=>fe+pe,0),c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full p-8 my-8 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:c.jsx(no,{className:"h-10 w-10 text-blue-600"})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Secure Viva Test: ",o==null?void 0:o.title]}),c.jsx("p",{className:"text-gray-600",children:"You are about to start a monitored viva test with enhanced security. You will get exactly 10 questions."})]}),c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Kl,{className:"h-6 w-6 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:" ENHANCED SECURITY MONITORING:"}),c.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Tab Switching:"})," Switching tabs will be detected"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Window Switching:"})," Alt+Tab, Cmd+Tab, and window focus changes monitored"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"AI Tool Detection:"})," ChatGPT, Claude, Bard, Copilot, and other AI tools detected"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Developer Tools:"})," F12, Inspect Element, Console access blocked"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Copy/Paste:"})," Clipboard operations disabled"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Screenshots:"})," Print Screen and screen capture blocked"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Right-Click:"})," Context menu disabled"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Mouse Tracking:"})," Mouse leaving test area monitored"]})]})]})]})}),c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(ba,{className:"h-6 w-6 text-yellow-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:" TEST INFORMATION:"}),c.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[c.jsxs("li",{children:[" Total Questions: ",Math.min(l.length,10)," (Maximum 10 questions)"]}),c.jsxs("li",{children:[" Time Limit: ",Math.min(l.length,10)," minutes"]}),c.jsx("li",{children:" Each correct answer carries 1 mark"}),l.length>10&&c.jsx("li",{children:" Questions are randomly selected from the question bank"}),c.jsx("li",{children:" Test will enter fullscreen mode for security"}),c.jsx("li",{children:" Once started, you cannot pause the test"})]})]})]})}),c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(La,{className:"h-6 w-6 text-orange-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:" VIOLATION POLICY:"}),c.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"1st Violation:"})," Warning message displayed"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"2nd Violation:"})," Test automatically submitted with 0 marks"]}),c.jsx("li",{children:" All violations are logged and reported to faculty"}),c.jsx("li",{children:" AI tool usage will result in immediate test termination"}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Zero tolerance:"})," Any cheating attempt results in 0 marks"]})]})]})]})}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsx("button",{onClick:n,className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:Y,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[c.jsx(no,{className:"h-5 w-5"}),c.jsx("span",{children:"I Understand - Start Secure Test"})]})]})]})});const Zt=f[p],Wn=Object.values(v).reduce((fe,pe)=>fe+pe,0);return c.jsxs("div",{className:"fixed inset-0 bg-gray-900 flex flex-col z-50",children:[N&&!r&&c.jsx("div",{className:"bg-red-600 text-white p-4 text-center font-semibold animate-pulse border-b-4 border-red-800",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx(Kl,{className:"h-6 w-6"}),c.jsx("span",{className:"text-lg",children:P}),c.jsx(Kl,{className:"h-6 w-6"})]})}),c.jsx("div",{className:"bg-white border-b p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[r?"Viva Test Results":"Secure Viva Test",": ",o==null?void 0:o.title]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",p+1," of ",questions.length,r&&c.jsxs("span",{className:"ml-4 text-green-600 font-semibold",children:["Score: ",q,"/",U," (",Math.round(q/U*100),"%)"]})]})]}),c.jsx("div",{className:"flex items-center space-x-4",children:r?c.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(RS,{className:"h-4 w-4"}),c.jsx("span",{children:"Back"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-4 bg-gray-50 rounded-lg px-4 py-2 border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(no,{className:`h-4 w-4 ${Wn===0?"text-green-500":Wn<3?"text-yellow-500":"text-red-500"}`}),c.jsx("span",{className:"text-sm font-medium",children:"Security Status"})]}),c.jsxs("div",{className:"text-xs space-y-1",children:[c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("span",{className:`${v.tabSwitches>0?"text-red-600":"text-green-600"}`,children:["Tabs: ",v.tabSwitches]}),c.jsxs("span",{className:`${v.windowSwitches>0?"text-red-600":"text-green-600"}`,children:["Windows: ",v.windowSwitches]}),c.jsxs("span",{className:`${v.aiToolDetections>0?"text-red-600":"text-green-600"}`,children:["AI: ",v.aiToolDetections]}),c.jsxs("span",{className:`${v.devToolsAttempts>0?"text-red-600":"text-green-600"}`,children:["DevTools: ",v.devToolsAttempts]})]}),c.jsx("div",{className:"text-center",children:c.jsxs("span",{className:`font-bold ${Wn<3?"text-gray-600":"text-red-600"}`,children:["Total Violations: ",Wn,"/2"]})})]})]}),c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${D?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${D?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"text-sm font-medium",children:D?"Focused":"Not Focused"})]}),c.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${_<=300?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:[c.jsx(ba,{className:"h-4 w-4"}),c.jsx("span",{className:"font-mono font-bold",children:zn(_)})]})]})})]})}),c.jsx("div",{className:"flex-1 bg-gray-50 p-4 overflow-y-auto",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${r?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:["Question ",p+1,r&&c.jsx("span",{className:"ml-2",children:y[p]===((Yr=questions[p])==null?void 0:Yr.correctAnswer)?"":""})]}),c.jsx("span",{className:"text-sm text-gray-500",children:"1 Mark"})]}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:Zt==null?void 0:Zt.question})]}),c.jsx("div",{className:"space-y-3 mb-8",children:Zt==null?void 0:Zt.options.map((fe,pe)=>{const Se=r?Ir(p,pe):null,Le=y[p]===pe;return c.jsx("button",{onClick:()=>we(pe),disabled:r,className:`w-full p-4 text-left rounded-lg border-2 transition-all ${r?Se==="correct"?"border-green-500 bg-green-50":Se==="wrong"?"border-red-500 bg-red-50":Le?"border-gray-400 bg-gray-50":"border-gray-200 bg-white":Le?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-25"} ${r?"cursor-default":"cursor-pointer"}`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${r?Se==="correct"?"border-green-500 bg-green-500":Se==="wrong"?"border-red-500 bg-red-500":Le?"border-gray-400 bg-gray-400":"border-gray-300":Le?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:r?Se==="correct"?c.jsx(Sn,{className:"h-4 w-4 text-white"}):Se==="wrong"?c.jsx(Vn,{className:"h-4 w-4 text-white"}):Le?c.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}):null:Le&&c.jsx(Sn,{className:"h-4 w-4 text-white"})}),c.jsxs("span",{className:"font-medium text-gray-700",children:[String.fromCharCode(65+pe),"."]}),c.jsx("span",{className:"text-gray-900",children:fe}),r&&Se==="correct"&&c.jsx("span",{className:"ml-auto text-green-600 font-semibold",children:"Correct Answer"}),r&&Se==="wrong"&&c.jsx("span",{className:"ml-auto text-red-600 font-semibold",children:"Your Answer"})]})},pe)})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[c.jsx("span",{children:"Progress"}),c.jsx("span",{children:r?`${p+1}/${f.length} questions`:`${y.filter(fe=>fe!==-1).length}/${f.length} answered`})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${r?"bg-purple-600":"bg-blue-600"}`,style:{width:`${(p+1)/f.length*100}%`}})})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:We,disabled:p===0,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),c.jsx("div",{className:"flex space-x-2",children:!r&&p===f.length-1?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("button",{onClick:Ke,disabled:S||F||y.includes(-1),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:S?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Submitting..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsx("span",{children:"Submit Test"})]})}),y.includes(-1)&&c.jsxs("p",{className:"text-sm text-red-600 mt-2 text-center",children:["Please answer all questions before submitting the test.",c.jsx("br",{}),c.jsxs("span",{className:"font-medium",children:["Unanswered: ",y.filter(fe=>fe===-1).length," question(s)"]})]})]}):c.jsx("button",{onClick:ve,disabled:p===f.length-1,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})})]})]})})})]})},Zde=()=>{const{userProfile:t}=Ar(),[e,n]=$.useState([]),[r,i]=$.useState([]),[s,o]=$.useState([]),[a,l]=$.useState(!1),[u,f]=$.useState(null),[h,p]=$.useState(null),[m,y]=$.useState(null),[w,_]=$.useState(!1),[b,v]=$.useState({title:"",description:"",manualLink:""}),[x,N]=$.useState("");$.useEffect(()=>{T(),(t==null?void 0:t.role)==="student"&&(P(),E())},[t]);const T=async()=>{if(!t)return;const D=t.primaryFacultyId||t.uid;try{let L;t.role==="faculty"?L=Ve(be(le,"experiments"),$e("facultyId","==",D)):L=Ve(be(le,"experiments"),$e("facultyId","==",t.facultyId));const ne=(await Oe(L)).docs.map(re=>{var ge;return{id:re.id,...re.data(),createdAt:((ge=re.data().createdAt)==null?void 0:ge.toDate())||new Date}});n(ne)}catch(L){console.error("Error fetching experiments:",L)}},P=async()=>{if(!(!t||t.role!=="student"))try{const D=Ve(be(le,"submissions"),$e("studentId","==",t.uid)),X=(await Oe(D)).docs.map(ne=>{var re,ge;return{id:ne.id,...ne.data(),submittedAt:((re=ne.data().submittedAt)==null?void 0:re.toDate())||new Date,approvedAt:(ge=ne.data().approvedAt)==null?void 0:ge.toDate()}});i(X)}catch(D){console.error("Error fetching submissions:",D)}},E=async()=>{if(!(!t||t.role!=="student"))try{const D=Ve(be(le,"vivaAttempts"),$e("studentId","==",t.uid)),X=(await Oe(D)).docs.map(ne=>{var re;return{id:ne.id,...ne.data(),completedAt:((re=ne.data().completedAt)==null?void 0:re.toDate())||new Date}});o(X)}catch(D){console.error("Error fetching viva attempts:",D)}},S=async D=>{D.preventDefault(),_(!0);const L=t.primaryFacultyId||t.uid;try{await xs(be(le,"experiments"),{title:b.title,description:b.description,manualLink:b.manualLink,facultyId:L,createdAt:new Date,createdBy:t.uid,createdByName:t.name}),v({title:"",description:"",manualLink:""}),l(!1),T(),alert("Experiment added successfully!")}catch(X){console.error("Error adding experiment:",X),alert(`Error adding experiment: ${X.message}`)}finally{_(!1)}},I=async D=>{if(D.preventDefault(),!!u){_(!0);try{await En(_t(le,"experiments",u.id),{title:b.title,description:b.description,manualLink:b.manualLink}),f(null),v({title:"",description:"",manualLink:""}),T(),alert("Experiment updated successfully!")}catch(L){console.error("Error updating experiment:",L),alert(`Error updating experiment: ${L.message}`)}finally{_(!1)}}},C=async D=>{if(confirm("Are you sure you want to delete this experiment?"))try{await xa(_t(le,"experiments",D)),T(),alert("Experiment deleted successfully!")}catch(L){console.error("Error deleting experiment:",L),alert(`Error deleting experiment: ${L.message}`)}},k=async D=>{if(D.preventDefault(),!(!h||!x.trim())){_(!0);try{await xs(be(le,"submissions"),{studentId:t.uid,experimentId:h.id,submissionLink:x.trim(),status:"pending",submittedAt:new Date}),N(""),p(null),P(),alert("Submission sent successfully! Wait for faculty approval.")}catch(L){console.error("Error submitting experiment:",L),alert(`Error submitting experiment: ${L.message}`)}finally{_(!1)}}},j=D=>{f(D),v({title:D.title,description:D.description,manualLink:D.manualLink})},O=()=>{l(!1),f(null),p(null),v({title:"",description:"",manualLink:""}),N("")},q=D=>r.find(L=>L.experimentId===D),M=D=>s.find(L=>L.experimentId===D),U=D=>{D&&window.open(D,"_blank","noopener,noreferrer")},G=()=>{y(null),P(),E()},F=D=>{M(D)||y(D)},W=(D,L)=>{const X=D/L*100;return X>=80?"text-green-600 bg-green-50 border-green-200":X>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200"},V=(D,L)=>{const X=D/L*100;return X>=90?c.jsx(Lf,{className:"h-4 w-4"}):X>=80?c.jsx(es,{className:"h-4 w-4"}):X>=70?c.jsx(nB,{className:"h-4 w-4"}):c.jsx(uw,{className:"h-4 w-4"})},K=(D,L)=>{const X=D/L*100;return X>=90?"Excellent":X>=80?"Very Good":X>=70?"Good":X>=60?"Average":"Needs Improvement"};return m?c.jsx(Jde,{experimentId:m,onComplete:G,onCancel:()=>y(null)}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(t==null?void 0:t.role)==="faculty"?"Experiments Management":"Experiments"}),(t==null?void 0:t.role)==="faculty"&&c.jsxs("button",{onClick:()=>l(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-700 transition-colors",children:[c.jsx(om,{className:"h-5 w-5"}),c.jsx("span",{children:"Add Experiment"})]})]}),(t==null?void 0:t.role)==="student"&&e.length>0&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-50 via-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-emerald-100 p-3 rounded-full",children:c.jsx(er,{className:"h-6 w-6 text-emerald-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Course Syllabus"}),c.jsx("p",{className:"text-emerald-700",children:"Access the complete AI & SP Lab syllabus"})]})]}),c.jsxs("button",{onClick:()=>window.open("https://drive.google.com/file/d/1oHP0pn7Kr1ZKuBnTnLoonG2eIwKpbZR-/view?usp=sharing","_blank","noopener,noreferrer"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg flex items-center space-x-2 hover:bg-emerald-700 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:[c.jsx(er,{className:"h-5 w-5"}),c.jsx("span",{children:"View Syllabus"}),c.jsx(Kv,{className:"h-4 w-4"})]})]})}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[c.jsx(Lf,{className:"h-6 w-6 text-purple-600"}),c.jsx("span",{children:"Your Performance Overview"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Experiments"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(D=>D.status==="approved").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Approved Submissions"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Viva Tests Completed"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[c.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[s.length>0?Math.round(s.reduce((D,L)=>D+L.score/L.totalQuestions,0)/s.length*100):0,"%"]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Average Viva Score"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(D=>{const L=(t==null?void 0:t.role)==="student"?q(D.id):null,X=(t==null?void 0:t.role)==="student"?M(D.id):null;return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(er,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Created ",D.createdAt.toLocaleDateString(),D.createdByName&&D.createdBy!==((t==null?void 0:t.primaryFacultyId)||(t==null?void 0:t.uid))&&c.jsxs("span",{className:"ml-2 text-blue-600",children:["by ",D.createdByName]})]})]})]}),(t==null?void 0:t.role)==="faculty"&&c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>j(D),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(lw,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>C(D.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(am,{className:"h-4 w-4"})})]})]}),c.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:D.description}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>U(D.manualLink),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[c.jsx(Kv,{className:"h-4 w-4"}),c.jsx("span",{children:"View Manual"})]}),(t==null?void 0:t.role)==="student"&&c.jsx("div",{className:"space-y-3",children:L?c.jsxs("div",{className:`p-3 rounded-lg border ${L.status==="approved"?"bg-green-50 border-green-200":L.status==="rejected"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[L.status==="approved"?c.jsx(Sn,{className:"h-5 w-5 text-green-600"}):L.status==="rejected"?c.jsx(Vn,{className:"h-5 w-5 text-red-600"}):c.jsx(ba,{className:"h-5 w-5 text-yellow-600"}),c.jsxs("span",{className:`text-sm font-medium ${L.status==="approved"?"text-green-800":L.status==="rejected"?"text-red-800":"text-yellow-800"}`,children:["Submission ",L.status==="approved"?"Approved":L.status==="rejected"?"Rejected":"Pending Review"]})]})}),L.status==="approved"&&c.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:X?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Viva Test Result:"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[V(X.score,X.totalQuestions),c.jsx("span",{className:"text-sm font-medium text-gray-600",children:K(X.score,X.totalQuestions)})]})]}),c.jsxs("div",{className:`p-3 rounded-lg border-2 ${W(X.score,X.totalQuestions)}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Lf,{className:"h-5 w-5"}),c.jsxs("span",{className:"font-bold text-lg",children:[X.score,"/",X.totalQuestions]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(X.score/X.totalQuestions*100),"%"]})})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${X.score/X.totalQuestions*100>=80?"bg-green-500":X.score/X.totalQuestions*100>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${X.score/X.totalQuestions*100}%`}})}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsxs("span",{children:["Completed: ",X.completedAt.toLocaleDateString()]}),c.jsxs("span",{children:["Questions: ",X.totalQuestions]})]})]})]}):c.jsxs("button",{onClick:()=>F(D.id),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[c.jsx(ZU,{className:"h-4 w-4"}),c.jsx("span",{children:"Take Viva Test"})]})})]}):c.jsxs("button",{onClick:()=>p(D),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[c.jsx(Qv,{className:"h-4 w-4"}),c.jsx("span",{children:"Submit Experiment"})]})})]})]})},D.id)})}),e.length===0&&c.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border",children:[c.jsx(er,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(t==null?void 0:t.role)==="faculty"?"Get started by adding your first experiment.":"No experiments have been added by your faculty yet."})]}),(a||u)&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u?"Edit Experiment":"Add New Experiment"}),c.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Vn,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:u?I:S,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experiment Title"}),c.jsx("input",{type:"text",required:!0,value:b.title,onChange:D=>v({...b,title:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter experiment title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{required:!0,rows:3,value:b.description,onChange:D=>v({...b,description:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter experiment description"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manual Google Drive Link"}),c.jsx("input",{type:"url",required:!0,value:b.manualLink,onChange:D=>v({...b,manualLink:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://drive.google.com/..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:w?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Saving..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsxs("span",{children:[u?"Update":"Add"," Experiment"]})]})})]})]})]})}),h&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Submit Experiment: ",h.title]}),c.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Vn,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Drive Link (PDF)"}),c.jsx("input",{type:"url",required:!0,value:x,onChange:D=>N(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://drive.google.com/..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your experiment execution PDF to Google Drive and share the link here."})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:w||!x.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:w?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Submitting..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Nh,{className:"h-4 w-4"}),c.jsx("span",{children:"Submit"})]})})]})]})]})})]})},efe=()=>{var W;const{userProfile:t}=Ar(),[e,n]=$.useState([]),[r,i]=$.useState(""),[s,o]=$.useState([]),[a,l]=$.useState(!1),[u,f]=$.useState(!1),[h,p]=$.useState(null),[m,y]=$.useState(!1),[w,_]=$.useState(null),[b,v]=$.useState([]),[x,N]=$.useState([]),[T,P]=$.useState({question:"",options:["","","",""],correctAnswer:0});$.useEffect(()=>{E()},[t]),$.useEffect(()=>{r&&S()},[r]);const E=async()=>{if(!t)return;const V=t.primaryFacultyId||t.uid;try{const K=Ve(be(le,"experiments"),$e("facultyId","==",V)),L=(await Oe(K)).docs.map(X=>{var ne;return{id:X.id,...X.data(),createdAt:((ne=X.data().createdAt)==null?void 0:ne.toDate())||new Date}});n(L)}catch(K){console.error("Error fetching experiments:",K)}},S=async()=>{if(r)try{const V=Ve(be(le,"vivaQuestions"),$e("experimentId","==",r)),D=(await Oe(V)).docs.map(L=>({id:L.id,...L.data()}));o(D)}catch(V){console.error("Error fetching questions:",V)}},I=async V=>{if(V.preventDefault(),!!r){y(!0);try{await xs(be(le,"vivaQuestions"),{experimentId:r,question:T.question,options:T.options,correctAnswer:T.correctAnswer,facultyId:t.primaryFacultyId||t.uid}),P({question:"",options:["","","",""],correctAnswer:0}),l(!1),S(),alert("Question added successfully!")}catch(K){console.error("Error adding question:",K),alert(`Error adding question: ${K.message}`)}finally{y(!1)}}},C=async V=>{if(V.preventDefault(),!!h){y(!0);try{await En(_t(le,"vivaQuestions",h.id),{question:T.question,options:T.options,correctAnswer:T.correctAnswer}),p(null),P({question:"",options:["","","",""],correctAnswer:0}),S(),alert("Question updated successfully!")}catch(K){console.error("Error updating question:",K),alert(`Error updating question: ${K.message}`)}finally{y(!1)}}},k=async V=>{if(confirm("Are you sure you want to delete this question?"))try{await xa(_t(le,"vivaQuestions",V)),S(),alert("Question deleted successfully!")}catch(K){console.error("Error deleting question:",K),alert(`Error deleting question: ${K.message}`)}},j=V=>{var D;const K=(D=V.target.files)==null?void 0:D[0];if(K){if(K.type!=="text/csv"&&!K.name.endsWith(".csv")){alert("Please select a valid CSV file");return}_(K),O(K)}},O=V=>{const K=new FileReader;K.onload=D=>{var se;const X=((se=D.target)==null?void 0:se.result).split(`
`).filter(ae=>ae.trim());if(X.length<2){N(["CSV file must contain at least a header row and one data row"]);return}const ne=X[0].split(",").map(ae=>ae.trim().toLowerCase()),re=["serialno","question","a","b","c","d","correctanswer"],ge=[];if(re.forEach(ae=>{ne.includes(ae)||ge.push(`Missing column: ${ae}`)}),ge.length>0){N(ge);return}const De=[],Z=[];for(let ae=1;ae<X.length;ae++){const Y=X[ae].split(",").map(Ke=>Ke.trim());if(Y.length!==ne.length){Z.push(`Row ${ae+1}: Expected ${ne.length} columns, got ${Y.length}`);continue}const we={};if(ne.forEach((Ke,St)=>{we[Ke]=Y[St]}),!we.question||!we.a||!we.b||!we.c||!we.d){Z.push(`Row ${ae+1}: Missing required fields`);continue}const ve=we.correctanswer.toLowerCase();if(!["a","b","c","d","0","1","2","3"].includes(ve)){Z.push(`Row ${ae+1}: Correct answer must be A, B, C, D or 0, 1, 2, 3`);continue}let We=0;["a","0"].includes(ve)?We=0:["b","1"].includes(ve)?We=1:["c","2"].includes(ve)?We=2:["d","3"].includes(ve)&&(We=3),De.push({serialNo:we.serialno,question:we.question,options:[we.a,we.b,we.c,we.d],correctAnswer:We,originalCorrectAnswer:we.correctanswer})}N(Z),v(De)},K.readAsText(V)},q=async()=>{if(!(!r||b.length===0)){y(!0);try{const V=b.map(K=>xs(be(le,"vivaQuestions"),{experimentId:r,question:K.question,options:K.options,correctAnswer:K.correctAnswer,facultyId:t.primaryFacultyId||t.uid}));await Promise.all(V),_(null),v([]),N([]),f(!1),S(),alert(`Successfully uploaded ${b.length} questions!`)}catch(V){console.error("Error uploading CSV questions:",V),alert(`Error uploading questions: ${V.message}`)}finally{y(!1)}}},M=()=>{const V=`serialno,question,a,b,c,d,correctanswer
1,"What is the capital of France?","Paris","London","Berlin","Madrid","a"
2,"Which planet is closest to the Sun?","Venus","Mercury","Earth","Mars","b"
3,"What is 2 + 2?","3","4","5","6","b"`,K=new Blob([V],{type:"text/csv"}),D=window.URL.createObjectURL(K),L=document.createElement("a");L.href=D,L.download="viva_questions_template.csv",document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(D)},U=V=>{p(V),P({question:V.question,options:[...V.options],correctAnswer:V.correctAnswer})},G=()=>{l(!1),f(!1),p(null),_(null),v([]),N([]),P({question:"",options:["","","",""],correctAnswer:0})},F=(V,K)=>{const D=[...T.options];D[V]=K,P({...T,options:D})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Viva Questions Management"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{onClick:M,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[c.jsx(KU,{className:"h-5 w-5"}),c.jsx("span",{children:"Download Template"})]}),c.jsxs("button",{onClick:()=>f(!0),disabled:!r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(Qv,{className:"h-5 w-5"}),c.jsx("span",{children:"Upload CSV"})]}),c.jsxs("button",{onClick:()=>l(!0),disabled:!r,className:"bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(om,{className:"h-5 w-5"}),c.jsx("span",{children:"Add Question"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx(er,{className:"h-6 w-6 text-orange-600"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Experiment"})]}),e.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(V=>c.jsxs("button",{onClick:()=>i(V.id),className:`p-4 rounded-lg border-2 transition-all text-left ${r===V.id?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 hover:border-orange-300 hover:bg-orange-25"}`,children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:V.title}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:V.description}),c.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[c.jsxs("span",{className:"text-xs text-gray-500",children:["Created: ",V.createdAt.toLocaleDateString()]}),r===V.id&&c.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:"Selected"})]})]},V.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(er,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please create experiments first to add viva questions."})]})]}),r&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(lc,{className:"h-6 w-6 text-orange-600"}),c.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Viva Questions (",s.length,")"]})]}),c.jsx("div",{className:"text-sm text-gray-600",children:(W=e.find(V=>V.id===r))==null?void 0:W.title})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:s.map((V,K)=>c.jsx("div",{className:"p-6 hover:bg-gray-50",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center space-x-3 mb-3",children:c.jsxs("span",{className:"bg-orange-100 text-orange-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:["Q",K+1]})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:V.question}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:V.options.map((D,L)=>c.jsx("div",{className:`p-3 rounded-lg border ${L===V.correctAnswer?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"}`,children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium ${L===V.correctAnswer?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:String.fromCharCode(65+L)}),c.jsx("span",{className:"text-gray-900",children:D}),L===V.correctAnswer&&c.jsx(Sn,{className:"h-4 w-4 text-green-600 ml-auto"})]})},L))}),c.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["Correct Answer: ",String.fromCharCode(65+V.correctAnswer)," - ",V.options[V.correctAnswer]]})]}),c.jsxs("div",{className:"flex space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>U(V),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-50",children:c.jsx(lw,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>k(V.id),className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-50",children:c.jsx(am,{className:"h-4 w-4"})})]})]})},V.id))}),s.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(lc,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No questions found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add viva questions for this experiment using the buttons above."})]})]}),(a||h)&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h?"Edit Question":"Add New Question"}),c.jsx("button",{onClick:G,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Vn,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:h?C:I,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question"}),c.jsx("textarea",{required:!0,rows:3,value:T.question,onChange:V=>P({...T,question:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter the viva question"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Answer Options"}),c.jsx("div",{className:"space-y-3",children:T.options.map((V,K)=>c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+K)}),c.jsx("input",{type:"text",required:!0,value:V,onChange:D=>F(K,D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Option ${String.fromCharCode(65+K)}`}),c.jsx("input",{type:"radio",name:"correctAnswer",checked:T.correctAnswer===K,onChange:()=>P({...T,correctAnswer:K}),className:"w-4 h-4 text-orange-600 focus:ring-orange-500"})]},K))}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select the radio button next to the correct answer"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-md hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:m?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Saving..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsxs("span",{children:[h?"Update":"Add"," Question"]})]})})]})]})]})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Questions via CSV"}),c.jsx("button",{onClick:G,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Vn,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Nh,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"CSV Format Requirements:"}),c.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Columns:"})," serialno, question, a, b, c, d, correctanswer"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Correct Answer:"})," Use A, B, C, D or 0, 1, 2, 3"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"No empty cells"})," in required columns"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"First row"})," must contain column headers"]})]})]})]})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),c.jsx("input",{type:"file",accept:".csv",onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x.length>0&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(qU,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Errors Found:"}),c.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:x.map((V,K)=>c.jsxs("li",{children:[" ",V]},K))})]})]})}),b.length>0&&x.length===0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Preview (",b.length," questions)"]}),c.jsxs("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"S.No"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Question"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Options"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Correct"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.slice(0,5).map((V,K)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:V.serialNo}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 max-w-xs truncate",children:V.question}),c.jsxs("td",{className:"px-4 py-2 text-sm text-gray-600",children:["A: ",V.options[0].substring(0,20),"..."]}),c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-green-600",children:String.fromCharCode(65+V.correctAnswer)})]},K))})]}),b.length>5&&c.jsxs("div",{className:"p-3 text-center text-sm text-gray-500 bg-gray-50",children:["... and ",b.length-5," more questions"]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:q,disabled:m||b.length===0||x.length>0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:m?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Uploading..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Qv,{className:"h-4 w-4"}),c.jsxs("span",{children:["Upload ",b.length," Questions"]})]})})]})]})]})})]})},tfe=()=>{var C,k;const{userProfile:t}=Ar(),[e,n]=$.useState([]),[r,i]=$.useState([]),[s,o]=$.useState([]),[a,l]=$.useState([]),[u,f]=$.useState("all"),[h,p]=$.useState([]),[m,y]=$.useState(!1),[w,_]=$.useState("all");$.useEffect(()=>{b()},[t]),$.useEffect(()=>{v()},[e,u,w]);const b=async()=>{if(!t)return;const j=t.primaryFacultyId||t.uid;try{const O=Ve(be(le,"students"),$e("facultyId","==",j)),M=(await Oe(O)).docs.map(ne=>({id:ne.id,...ne.data()}));i(M);const G=(await Oe(be(le,"users"))).docs.map(ne=>({id:ne.id,...ne.data()}));l(G);const F=Ve(be(le,"experiments"),$e("facultyId","==",j)),V=(await Oe(F)).docs.map(ne=>{var re;return{id:ne.id,...ne.data(),createdAt:((re=ne.data().createdAt)==null?void 0:re.toDate())||new Date}});o(V);const K=V.map(ne=>ne.id),X=(await Oe(Ve(be(le,"submissions"),iU("submittedAt","desc")))).docs.map(ne=>{var re,ge;return{id:ne.id,...ne.data(),submittedAt:((re=ne.data().submittedAt)==null?void 0:re.toDate())||new Date,approvedAt:(ge=ne.data().approvedAt)==null?void 0:ge.toDate()}}).filter(ne=>K.includes(ne.experimentId));n(X)}catch(O){console.error("Error fetching data:",O)}},v=()=>{let j=e;u!=="all"&&(j=j.filter(O=>O.experimentId===u)),w!=="all"&&(j=j.filter(O=>O.status===w)),p(j)},x=async(j,O)=>{y(!0);try{await En(_t(le,"submissions",j),{status:O==="approve"?"approved":"rejected",approvedAt:O==="approve"?new Date:null,approvedBy:t.uid,approvedByName:t.name}),b(),alert(`Submission ${O==="approve"?"approved":"rejected"} successfully!`)}catch(q){console.error(`Error ${O}ing submission:`,q),alert(`Error ${O}ing submission: ${q.message}`)}finally{y(!1)}},N=j=>{const O=a.find(U=>U.uid===j||U.id===j);if(O)return{name:O.name,rollNo:O.rollNo||"N/A",email:O.email};const q=r.find(U=>U.id===j||U.uid===j||U.userId===j);if(q)return{name:q.name,rollNo:q.rollNo,email:q.email};const M=a.find(U=>U.uid===j);if(M){const U=r.find(G=>G.email===M.email);if(U)return{name:U.name,rollNo:U.rollNo,email:U.email}}return{name:"Unknown Student",rollNo:"Unknown",email:"Unknown"}},T=j=>{const O=s.find(q=>q.id===j);return O?O.title:"Unknown Experiment"},P=j=>{j&&window.open(j,"_blank","noopener,noreferrer")},E=j=>{switch(j){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},S=j=>{switch(j){case"approved":return c.jsx(Sn,{className:"h-4 w-4"});case"rejected":return c.jsx(Vn,{className:"h-4 w-4"});default:return c.jsx(ba,{className:"h-4 w-4"})}},I=j=>{const O=e.filter(q=>q.experimentId===j);return{total:O.length,pending:O.filter(q=>q.status==="pending").length,approved:O.filter(q=>q.status==="approved").length,rejected:O.filter(q=>q.status==="rejected").length}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Submissions"})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx(er,{className:"h-6 w-6 text-purple-600"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Experiment"})]}),s.length>0?c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>f("all"),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${u==="all"?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"All Experiments"}),c.jsx("p",{className:"text-sm text-gray-600",children:"View submissions from all experiments"})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-gray-500",children:"Total"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"font-bold text-yellow-600",children:e.filter(j=>j.status==="pending").length}),c.jsx("div",{className:"text-gray-500",children:"Pending"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"font-bold text-green-600",children:e.filter(j=>j.status==="approved").length}),c.jsx("div",{className:"text-gray-500",children:"Approved"})]})]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(j=>{const O=I(j.id);return c.jsxs("button",{onClick:()=>f(j.id),className:`p-4 rounded-lg border-2 transition-all text-left ${u===j.id?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:j.title}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:j.description}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[c.jsx("span",{className:"text-gray-600",children:"Total:"}),c.jsx("span",{className:"font-bold text-blue-600",children:O.total})]}),c.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[c.jsx("span",{className:"text-gray-600",children:"Pending:"}),c.jsx("span",{className:"font-bold text-yellow-600",children:O.pending})]}),c.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[c.jsx("span",{className:"text-gray-600",children:"Approved:"}),c.jsx("span",{className:"font-bold text-green-600",children:O.approved})]}),c.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2",children:[c.jsx("span",{className:"text-gray-600",children:"Rejected:"}),c.jsx("span",{className:"font-bold text-red-600",children:O.rejected})]})]})]},j.id)})})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(er,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No experiments found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please add experiments first to view submissions."})]})]}),u&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(fC,{className:"h-5 w-5 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by Status:"}),c.jsxs("select",{value:w,onChange:j=>_(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Submissions"}),c.jsx("option",{value:"pending",children:"Pending Review"}),c.jsx("option",{value:"approved",children:"Approved"}),c.jsx("option",{value:"rejected",children:"Rejected"})]})]}),c.jsx("div",{className:"text-sm text-gray-600",children:u==="all"?`Showing ${h.length} of ${e.length} total submissions`:`Showing ${h.length} submissions for selected experiment`})]})}),u&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(mf,{title:u==="all"?"Total Submissions":"Experiment Submissions",count:h.length,icon:c.jsx(Nh,{className:"h-6 w-6 text-blue-600"}),bg:"bg-blue-100"}),c.jsx(mf,{title:"Pending Review",count:h.filter(j=>j.status==="pending").length,icon:c.jsx(ba,{className:"h-6 w-6 text-yellow-600"}),bg:"bg-yellow-100"}),c.jsx(mf,{title:"Approved",count:h.filter(j=>j.status==="approved").length,icon:c.jsx(Sn,{className:"h-6 w-6 text-green-600"}),bg:"bg-green-100"}),c.jsx(mf,{title:"Rejected",count:h.filter(j=>j.status==="rejected").length,icon:c.jsx(Vn,{className:"h-6 w-6 text-red-600"}),bg:"bg-red-100"})]}),u&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[u!=="all"&&c.jsx("div",{className:"p-6 border-b bg-gray-50",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(er,{className:"h-6 w-6 text-purple-600"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:(C=s.find(j=>j.id===u))==null?void 0:C.title}),c.jsx("p",{className:"text-sm text-gray-600",children:(k=s.find(j=>j.id===u))==null?void 0:k.description})]})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:h.map(j=>{const O=N(j.studentId);return c.jsx("div",{className:"p-6 hover:bg-gray-50",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(di,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"font-medium text-gray-900",children:O.name})]}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Roll No: ",O.rollNo]}),c.jsx("span",{className:"text-xs text-gray-400",children:O.email})]}),u==="all"&&c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:T(j.experimentId)}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(dC,{className:"h-4 w-4"}),c.jsxs("span",{children:["Submitted: ",j.submittedAt.toLocaleDateString()]})]}),j.approvedAt&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsxs("span",{children:["Approved: ",j.approvedAt.toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("span",{className:`inline-flex items-center space-x-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${E(j.status)}`,children:[S(j.status),c.jsx("span",{className:"capitalize",children:j.status})]}),c.jsxs("button",{onClick:()=>P(j.submissionLink),className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm font-medium",children:[c.jsx(La,{className:"h-4 w-4"}),c.jsx("span",{children:"View Submission"}),c.jsx(Kv,{className:"h-3 w-3"})]})]})]}),j.status==="pending"&&c.jsxs("div",{className:"flex space-x-2 ml-4",children:[c.jsxs("button",{onClick:()=>x(j.id,"approve"),disabled:m,className:"inline-flex items-center space-x-1 px-3 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsx("span",{children:"Approve"})]}),c.jsxs("button",{onClick:()=>x(j.id,"reject"),disabled:m,className:"inline-flex items-center space-x-1 px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Vn,{className:"h-4 w-4"}),c.jsx("span",{children:"Reject"})]})]})]})},j.id)})}),h.length===0&&u&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Nh,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No submissions found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u==="all"?w==="all"?"No student submissions have been received yet.":`No ${w} submissions found.`:w==="all"?"No submissions found for this experiment.":`No ${w} submissions found for this experiment.`})]})]})]})},mf=({title:t,count:e,icon:n,bg:r})=>c.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),c.jsx("div",{className:`p-3 rounded-full ${r}`,children:n})]})}),nfe=()=>{var K;const{userProfile:t,currentUser:e}=Ar(),[n,r]=$.useState(null),[i,s]=$.useState([]),[o,a]=$.useState([]),[l,u]=$.useState(!1),[f,h]=$.useState(!1),[p,m]=$.useState(null),[y,w]=$.useState([]),[_,b]=$.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,x]=$.useState({name:"",email:"",password:"cse@nbkr"}),[N,T]=$.useState(!1),[P,E]=$.useState(!1),[S,I]=$.useState(""),[C,k]=$.useState("");$.useEffect(()=>{(t==null?void 0:t.role)==="student"&&(t!=null&&t.facultyId)?(O(),q()):(t==null?void 0:t.role)==="faculty"&&M(),j()},[t]);const j=async()=>{if(!(!t||!e))try{await EO(ia,t.email,"cse@nbkr"),m(!0),e&&await e.reload()}catch{m(!1)}},O=async()=>{var D,L;if(t!=null&&t.facultyId)try{const X=[],ne=await zo(_t(le,"users",t.facultyId));if(ne.exists()){const Z=ne.data();X.push({...Z,isPrimary:!0,role:"Primary Faculty"})}const re=Ve(be(le,"facultyAccess"),$e("primaryFacultyId","==",t.facultyId)),ge=await Oe(re);for(const Z of ge.docs){const se=Z.data(),ae=await zo(_t(le,"users",se.facultyId));if(ae.exists()){const Y=ae.data();X.push({...Y,isPrimary:!1,role:"Additional Faculty",addedDate:((L=(D=se.createdAt)==null?void 0:D.toDate)==null?void 0:L.call(D))||new Date})}}s(X);const De=X.find(Z=>Z.isPrimary);De&&r({name:De.name,email:De.email})}catch(X){console.error("Error fetching faculty info:",X)}},q=async()=>{if(!(!t||t.role!=="student"))try{const D=Ve(be(le,"submissions"),$e("studentId","==",t.uid)),L=await Oe(D),X=await Promise.all(L.docs.map(async ne=>{var se,ae,Y,we;const re=ne.data(),ge=await zo(_t(le,"experiments",re.experimentId)),De=ge.exists()?ge.data():null;let Z=null;if(re.status!=="pending"&&re.approvedBy){const ve=await zo(_t(le,"users",re.approvedBy));ve.exists()&&(Z=ve.data())}return{id:ne.id,...re,submittedAt:((ae=(se=re.submittedAt)==null?void 0:se.toDate)==null?void 0:ae.call(se))||new Date,approvedAt:(we=(Y=re.approvedAt)==null?void 0:Y.toDate)==null?void 0:we.call(Y),experiment:De,approvedByFaculty:Z}}));a(X)}catch(D){console.error("Error fetching submission history:",D)}},M=async()=>{if(!(!t||t.role!=="faculty"))try{const D=Ve(be(le,"facultyAccess"),$e("primaryFacultyId","==",t.uid)),X=(await Oe(D)).docs.map(re=>({id:re.id,...re.data()})),ne=await Promise.all(X.map(async re=>{const ge=await zo(_t(le,"users",re.facultyId));return ge.exists()?{...re,...ge.data(),accessId:re.id}:null}));w(ne.filter(Boolean))}catch(D){console.error("Error fetching faculty list:",D)}},U=async D=>{if(D.preventDefault(),I(""),k(""),_.newPassword!==_.confirmPassword){I("New passwords do not match");return}if(_.newPassword.length<6){I("Password must be at least 6 characters long");return}T(!0);try{if(e&&t){await SO(e,_.newPassword);const L=_.newPassword==="cse@nbkr";if(m(L),await En(_t(le,"users",e.uid),{passwordChanged:!L}),t.role==="student"){console.log("Updating student password status for:",t.email,t.rollNo);const X=Ve(be(le,"students"),$e("email","==",t.email)),ne=await Oe(X);if(!ne.empty){console.log("Found student by email, updating...");const re=ne.docs.map(ge=>En(ge.ref,{passwordChanged:!L}));await Promise.all(re)}if(t.rollNo){const re=Ve(be(le,"students"),$e("rollNo","==",t.rollNo)),ge=await Oe(re);if(!ge.empty){console.log("Found student by rollNo, updating...");const De=ge.docs.map(Z=>En(Z.ref,{passwordChanged:!L}));await Promise.all(De)}}if(t.facultyId){const re=Ve(be(le,"students"),$e("facultyId","==",t.facultyId),$e("email","==",t.email)),ge=await Oe(re);if(!ge.empty){console.log("Found student by faculty and email, updating...");const De=ge.docs.map(Z=>En(Z.ref,{passwordChanged:!L}));await Promise.all(De)}}}k(L?'Password updated to default password. Status will show as "Password Not Changed" in faculty view.':'Password updated successfully! Status will show as "Active" in faculty view.'),b({currentPassword:"",newPassword:"",confirmPassword:""}),u(!1),console.log("Password change completed successfully")}}catch(L){console.error("Password change error:",L),I(L.message)}finally{T(!1)}},G=async D=>{D.preventDefault(),I(""),k(""),E(!0);try{const L=await Sb(ia,v.email,v.password);console.log("Created auth account for faculty:",v.email);const X={uid:L.user.uid,email:v.email,name:v.name,role:"faculty",passwordChanged:v.password!=="cse@nbkr"};await xs(be(le,"users"),X),console.log("Created user profile for new faculty"),await xs(be(le,"facultyAccess"),{primaryFacultyId:t.uid,facultyId:L.user.uid,facultyName:v.name,facultyEmail:v.email,createdAt:new Date,createdBy:t.name}),x({name:"",email:"",password:"cse@nbkr"}),h(!1),M(),k("Faculty member added successfully! They can now login and access your students.")}catch(L){console.error("Error adding faculty:",L),I(`Error adding faculty: ${L.message}`)}finally{E(!1)}},F=async(D,L)=>{if(confirm(`Are you sure you want to remove ${L} from faculty access?`))try{await xa(_t(le,"facultyAccess",D)),M(),k(`${L} has been removed from faculty access.`)}catch(X){console.error("Error removing faculty:",X),I(`Error removing faculty: ${X.message}`)}},W=()=>p===null?{status:"Checking...",color:"text-gray-600",bgColor:"bg-gray-100",icon:"text-gray-600"}:p===!1?{status:"Custom Password",color:"text-green-600",bgColor:"bg-green-100",icon:"text-green-600"}:{status:"Default Password (cse@nbkr)",color:"text-yellow-600",bgColor:"bg-yellow-100",icon:"text-yellow-600"};if(!t)return null;const V=W();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),c.jsxs("div",{className:"flex space-x-3",children:[t.role==="faculty"&&c.jsxs("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-700 transition-colors",children:[c.jsx(om,{className:"h-5 w-5"}),c.jsx("span",{children:"Add Faculty"})]}),c.jsxs("button",{onClick:()=>u(!l),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[c.jsx(Gv,{className:"h-5 w-5"}),c.jsx("span",{children:"Change Password"})]})]})]}),C&&c.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:C}),S&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:S}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:c.jsx(di,{className:"h-6 w-6 text-blue-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(di,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.name})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(JU,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.email})]})]}),t.role==="student"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(XU,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Roll Number"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.rollNo})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(er,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Section"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.section})]})]}),c.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx(Xv,{className:"h-5 w-5 text-blue-600"}),c.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Faculty Members"})]}),i.length>0?c.jsx("div",{className:"space-y-2",children:i.map((D,L)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-blue-900",children:D.name}),c.jsx("p",{className:"text-xs text-blue-600",children:D.email})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${D.isPrimary?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:D.role}),!D.isPrimary&&D.addedDate&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Added: ",D.addedDate.toLocaleDateString()]})]})]},L))}):c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),c.jsx("p",{className:"text-sm text-blue-600",children:"Loading faculty information..."})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[c.jsx(es,{className:"h-5 w-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:t.role})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:c.jsx(dC,{className:"h-6 w-6 text-green-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Status"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Password Status"}),c.jsx("p",{className:`text-lg font-semibold ${V.color}`,children:V.status}),p&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Using default password. Consider changing for security."})]}),c.jsx("div",{className:`p-2 rounded-full ${V.bgColor}`,children:c.jsx(Gv,{className:`h-5 w-5 ${V.icon}`})})]})}),c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.role==="faculty"?"Faculty Member":"Student"})]}),c.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:c.jsx(di,{className:"h-5 w-5 text-blue-600"})})]})}),t.role==="student"&&c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Enrollment Status"}),c.jsx("p",{className:`text-lg font-semibold ${p===!1?"text-green-600":"text-yellow-600"}`,children:p===!1?"Active":"Password Not Changed"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p===!1?"Account is fully activated":"Please change default password to activate account"})]}),c.jsx("div",{className:`p-2 rounded-full ${p===!1?"bg-green-100":"bg-yellow-100"}`,children:c.jsx(es,{className:`h-5 w-5 ${p===!1?"text-green-600":"text-yellow-600"}`})})]})}),t.role==="student"&&i.length>0&&c.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Primary Faculty"}),c.jsx("p",{className:"text-lg font-semibold text-blue-900",children:((K=i.find(D=>D.isPrimary))==null?void 0:K.name)||"Loading..."}),c.jsx("p",{className:"text-sm text-blue-600",children:i.length>1?`+ ${i.length-1} additional faculty member(s)`:"Primary Faculty Mentor"})]}),c.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:c.jsx(Xv,{className:"h-5 w-5 text-blue-600"})})]})})]})]})]}),t.role==="faculty"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:c.jsx(Oh,{className:"h-6 w-6 text-purple-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Faculty Access Management"})]}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-gray-600",children:"Faculty members added here will have full access to your students and can perform all faculty operations."})}),y.length>0?c.jsx("div",{className:"space-y-3",children:y.map(D=>{var L,X,ne;return c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:c.jsx(di,{className:"h-5 w-5 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:D.name}),c.jsx("p",{className:"text-sm text-gray-600",children:D.email}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Added on ",((ne=(X=(L=D.createdAt)==null?void 0:L.toDate)==null?void 0:X.call(L))==null?void 0:ne.toLocaleDateString())||"Unknown date"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Active"}),c.jsx("button",{onClick:()=>F(D.accessId,D.name),className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50",children:c.jsx(am,{className:"h-4 w-4"})})]})]},D.accessId)})}):c.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[c.jsx(Oh,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No additional faculty members"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add faculty members to give them access to your students."})]})]}),l&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Change Password"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Password Guidelines:"}),c.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[c.jsx("li",{children:' If you set password to "cse@nbkr", it will be considered as default password'}),c.jsx("li",{children:' Default password status will show as "Password Not Changed" in faculty view'}),c.jsx("li",{children:' Any other password will show as "Active" status in faculty view'}),c.jsx("li",{children:" Password must be at least 6 characters long"})]})]}),c.jsxs("form",{onSubmit:U,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsx("input",{type:"password",required:!0,value:_.newPassword,onChange:D=>b({..._,newPassword:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password (e.g., cse@nbkr for default)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),c.jsx("input",{type:"password",required:!0,value:_.confirmPassword,onChange:D=>b({..._,confirmPassword:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:N?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(tB,{className:"h-4 w-4"}),c.jsx("span",{children:"Update Password"})]})})]})]})]}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Faculty Member"}),c.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Vn,{className:"h-6 w-6"})})]}),c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(no,{className:"h-5 w-5 text-purple-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-purple-800 mb-1",children:"Faculty Access Permissions"}),c.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[c.jsx("li",{children:" Full access to all your students"}),c.jsx("li",{children:" Can add, edit, and manage students"}),c.jsx("li",{children:" Can create and manage experiments"}),c.jsx("li",{children:" Can add viva questions and review submissions"}),c.jsx("li",{children:" Same privileges as the primary faculty"})]})]})]})}),c.jsxs("form",{onSubmit:G,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty Name"}),c.jsx("input",{type:"text",required:!0,value:v.name,onChange:D=>x({...v,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter faculty full name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),c.jsx("input",{type:"email",required:!0,value:v.email,onChange:D=>x({...v,email:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter faculty email address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Password"}),c.jsx("input",{type:"text",value:v.password,onChange:D=>x({...v,password:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Default password for faculty"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Faculty can change this password after first login"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:P?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Faculty"})]})})]})]})]})}),t.role==="student"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:c.jsx(es,{className:"h-6 w-6 text-green-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submission History"})]}),o.length>0?c.jsx("div",{className:"space-y-4",children:o.map(D=>{var L,X;return c.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:((L=D.experiment)==null?void 0:L.title)||"Unknown Experiment"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Submitted: ",D.submittedAt.toLocaleDateString()]})]}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${D.status==="approved"?"bg-green-100 text-green-800":D.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})]}),D.status!=="pending"&&c.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:D.status==="approved"?"Approved by:":"Rejected by:"}),c.jsx("span",{className:"ml-2 font-medium text-gray-900",children:((X=D.approvedByFaculty)==null?void 0:X.name)||"Faculty Member"})]}),D.approvedAt&&c.jsx("span",{className:"text-gray-500",children:D.approvedAt.toLocaleDateString()})]})})]},D.id)})}):c.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[c.jsx(es,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No submissions yet"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your experiment submissions will appear here."})]})]})]})},rfe=()=>{const{currentUser:t,userProfile:e}=Ar(),[n,r]=$.useState({newPassword:"",confirmPassword:""}),[i,s]=$.useState(!1),[o,a]=$.useState(!1),[l,u]=$.useState(!1),[f,h]=$.useState(""),p=async m=>{if(m.preventDefault(),h(""),n.newPassword!==n.confirmPassword){h("Passwords do not match");return}if(n.newPassword.length<6){h("Password must be at least 6 characters long");return}u(!0);try{if(t&&e&&(await SO(t,n.newPassword),await En(_t(le,"users",t.uid),{passwordChanged:!0}),e.role==="student")){const y=Ve(be(le,"students"),$e("email","==",e.email)),w=await Oe(y),_=w.docs.map(b=>En(b.ref,{passwordChanged:!0}));if(await Promise.all(_),w.empty&&e.rollNo){const b=Ve(be(le,"students"),$e("rollNo","==",e.rollNo)),x=(await Oe(b)).docs.map(N=>En(N.ref,{passwordChanged:!0}));await Promise.all(x)}}}catch(y){h(y.message)}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:c.jsx(no,{className:"h-12 w-12 text-yellow-600"})})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Change Required"}),c.jsx("p",{className:"text-gray-600",children:"For security reasons, please change your default password before continuing."})]}),c.jsxs("form",{onSubmit:p,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:i?"text":"password",required:!0,value:n.newPassword,onChange:m=>r({...n,newPassword:m.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"}),c.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?c.jsx(Ih,{className:"h-5 w-5"}):c.jsx(La,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",required:!0,value:n.confirmPassword,onChange:m=>r({...n,confirmPassword:m.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?c.jsx(Ih,{className:"h-5 w-5"}):c.jsx(La,{className:"h-5 w-5"})})]})]}),f&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),c.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),c.jsx("span",{children:"Updating Password..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Gv,{className:"h-5 w-5"}),c.jsx("span",{children:"Update Password"})]})})]}),c.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:c.jsx("p",{children:"Password must be at least 6 characters long"})})]})})},ife=()=>{const{currentUser:t,userProfile:e}=Ar(),[n,r]=$.useState("dashboard");if(console.log("AppContent - currentUser:",t==null?void 0:t.email),console.log("AppContent - userProfile:",e),!t||!e)return console.log("Showing login - currentUser:",!!t,"userProfile:",!!e),c.jsx(sB,{});if(e.role==="student"&&!e.passwordChanged)return console.log("Student needs to change password:",e.email),c.jsx(rfe,{});console.log("Showing main app for:",e.role,e.email);const i=()=>{switch(n){case"dashboard":return c.jsx(ru,{});case"students":return e.role==="faculty"?c.jsx(Yde,{}):c.jsx(ru,{});case"experiments":return c.jsx(Zde,{});case"viva-questions":return e.role==="faculty"?c.jsx(efe,{}):c.jsx(ru,{});case"submissions":return e.role==="faculty"?c.jsx(tfe,{}):c.jsx(ru,{});case"profile":return c.jsx(nfe,{});default:return c.jsx(ru,{})}};return c.jsx(oB,{activeTab:n,onTabChange:r,children:i()})};function sfe(){return c.jsx(UU,{children:c.jsx(ife,{})})}F2(document.getElementById("root")).render(c.jsx($.StrictMode,{children:c.jsx(sfe,{})}));
